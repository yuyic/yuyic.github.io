(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(t,e,i){"use strict";t.exports=i(11)},function(t,e,i){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)&&n.length){var a=r.apply(null,n);a&&t.push(a)}else if("object"===o)for(var s in n)i.call(n,s)&&n[s]&&t.push(s)}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,e){for(var i,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))r.call(i,u)&&(s[u]=i[u]);if(n){a=n(i);for(var c=0;c<a.length;c++)o.call(i,a[c])&&(s[a[c]]=i[a[c]])}}return s}},function(t,e,i){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(12)},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}i.d(e,"a",function(){return r})},function(t,e,i){"use strict";function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";var n,r;function o(t,e,i,n,r,o){isFinite(e)&&isFinite(n)&&isFinite(i)&&isFinite(r)&&(t.save(),a(t,o),t.beginPath(),t.moveTo(e,i),t.lineTo(n,r),t.stroke(),t.restore())}function a(t,e){var i,n=((i={})[0]=[],i[1]=[t.lineWidth,2*t.lineWidth],i[2]=[5*t.lineWidth,6*t.lineWidth],i[3]=[6*t.lineWidth,6*t.lineWidth],i[4]=[t.lineWidth,4*t.lineWidth],i)[e];t.setLineDash(n)}i.d(e,"a",function(){return nn}),function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps"}(n||(n={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(r||(r={}));var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function l(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u=function(){return(u=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function c(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function h(t){if(void 0===t)throw new Error("Value is undefined");return t}function d(t){if(null===t)throw new Error("Value is null");return t}function p(t){return d(h(t))}function f(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0,r=e;n<r.length;n++){var o=r[n];for(var a in o)void 0!==o[a]&&("object"!=typeof o[a]||void 0===t[a]?t[a]=o[a]:f(t[a],o[a]))}return t}function _(t){return"number"==typeof t&&isFinite(t)}function m(t){return"number"==typeof t&&t%1==0}function v(t){return"string"==typeof t}function y(t){return!(t<=0||t>0)}function g(t){var e,i,n,r=t;if(!r||"object"!=typeof r)return r;for(i in e=Array.isArray(r)?[]:{},r)r.hasOwnProperty(i)&&(n=r[i],e[i]=n&&"object"==typeof n?g(n):n);return e}function b(t){return null!==t}function S(t){return null===t?void 0:t}var x,w,k,C,T=function(){function t(){this._renderers=[]}return t.prototype.setRenderers=function(t){this._renderers=t},t.prototype.draw=function(t,e){this._renderers.forEach(function(i){t.save(),i.draw(t,e),t.restore()})},t}(),P=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data&&null!==this._data.visibleRange){var e=this._data.visibleRange,i=this._data,n=function(n){t.beginPath();for(var r=e.to-1;r>=e.from;--r){var o=i.items[r];t.moveTo(o.x,o.y),t.arc(o.x,o.y,n,0,2*Math.PI)}t.fill()};t.fillStyle=i.backColor,n(i.radius+2),t.fillStyle=i.lineColor,n(i.radius)}},t}(),E={from:0,to:1},M=function(){function t(t,e){this._compositeRenderer=new T,this._markersRenderers=[],this._markersData=[],this._invalidated=!0,this._chartModel=t,this._crosshair=e,this._compositeRenderer.setRenderers(this._markersRenderers)}return t.prototype.update=function(t){var e=this,i=this._chartModel.serieses();i.length!==this._markersRenderers.length&&(this._markersData=i.map(function(){return{items:[{x:0,y:0,time:0,price:0}],lineColor:"",backColor:e._chartModel.options().layout.backgroundColor,radius:0,visibleRange:null}}),this._markersRenderers=this._markersData.map(function(t){var e=new P;return e.setData(t),e}),this._compositeRenderer.setRenderers(this._markersRenderers)),this._invalidated=!0},t.prototype.renderer=function(t,e,i){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._compositeRenderer},t.prototype._updateImpl=function(){var t=this,e=this._chartModel.serieses(),i=this._crosshair.appliedIndex(),n=this._chartModel.timeScale();e.forEach(function(e,r){var o=t._markersData[r],a=e.markerDataAtIndex(i);if(null===a)o.visibleRange=null;else{var s=d(e.firstValue());o.lineColor=e.barColorer().barStyle(i).barColor,o.backColor=t._chartModel.options().layout.backgroundColor,o.radius=a.radius,o.items[0].price=a.price,o.items[0].y=e.priceScale().priceToCoordinate(a.price,s),o.items[0].time=i,o.items[0].x=n.indexToCoordinate(i),o.visibleRange=E}})},t}(),R=function(){function t(t){this._data=t}return t.prototype.draw=function(t){if(null!==this._data){var e=this._data.vertLine.visible,i=this._data.horzLine.visible;if(e||i){var n=this._data.vertLine.lineWidth%2==0?.5:0,r=this._data.horzLine.lineWidth%2==0?.5:0,a=this._data.x+1+r,s=this._data.y+n,l=this._data.w,u=this._data.h;e&&a>=0&&(t.lineWidth=this._data.vertLine.lineWidth,t.strokeStyle=this._data.vertLine.color,t.fillStyle=this._data.vertLine.color,o(t,a,0,a,u,this._data.vertLine.lineStyle)),i&&s>=0&&(t.lineWidth=this._data.horzLine.lineWidth,t.strokeStyle=this._data.horzLine.color,t.fillStyle=this._data.horzLine.color,o(t,0,s,l,s,this._data.horzLine.lineStyle))}}},t}(),D=function(){function t(t){this._invalidated=!0,this._rendererData={vertLine:{lineWidth:1,lineStyle:0,color:"",visible:!1},horzLine:{lineWidth:1,lineStyle:0,color:"",visible:!1},w:0,h:0,x:0,y:0},this._renderer=new R(this._rendererData),this._source=t}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(t,e){return this._invalidated&&this._updateImpl(),this._renderer},t.prototype._updateImpl=function(){var t=this._source.visible(),e=d(this._source.pane()),i=e.model().options().crosshair,n=this._rendererData;n.horzLine.visible=t&&this._source.horzLineVisible(e),n.vertLine.visible=t&&this._source.vertLineVisible(),n.horzLine.lineWidth=i.horzLine.width,n.horzLine.lineStyle=i.horzLine.style,n.horzLine.color=i.horzLine.color,n.vertLine.lineWidth=i.vertLine.width,n.vertLine.lineStyle=i.vertLine.style,n.vertLine.color=i.vertLine.color,n.w=e.width(),n.h=e.height(),n.x=this._source.appliedX(),n.y=this._source.appliedY()},t}(),I={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function O(t){return y(e=t)?0:e<0?0:e>255?255:Math.round(e);var e}function z(t){return y(e=t)?0:e<0?0:e>1?1:Math.round(1e4*e)/1e4;var e}function A(t){var e=function(t){(t=t.toLowerCase())in I&&(t=I[t]);var e,i,n=(e=t,null!==(i=k.re.exec(e))?k.parse(i):null);if(null!==n)return n;var r=function(t){var e=w.re.exec(t);return null!==e?w.parse(e):null}(t);if(null!==r)return r;var o=function(t){var e=x.re.exec(t);return null!==e?x.parse(e):null}(t);if(null!==o)return o;var a=function(t){var e=C.re.exec(t);return null!==e?C.parse(e):null}(t);return null!==a?[a[0],a[1],a[2]]:null}(t);if(null!==e)return e;throw new Error("Passed color string "+t+" does not match any of the known color representations")}function L(t,e){if(e<0||e>255)throw new Error("invalid threshold value, valid values are [0, 255]");return function(t){return.199*t[0]+.687*t[1]+.114*t[2]}(t)>=e?"white":"black"}function V(t){return"black"===L(A(t),160)?"white":"black"}!function(t){t.re=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/,t.parse=function(t){return[O(parseInt(t[1]+t[1],16)),O(parseInt(t[2]+t[2],16)),O(parseInt(t[3]+t[3],16))]}}(x||(x={})),function(t){t.re=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,t.parse=function(t){return[O(parseInt(t[1],16)),O(parseInt(t[2],16)),O(parseInt(t[3],16))]}}(w||(w={})),function(t){t.re=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,t.parse=function(t){return[O(parseInt(t[1],10)),O(parseInt(t[2],10)),O(parseInt(t[3],10))]}}(k||(k={})),function(t){t.re=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/,t.parse=function(t){return[O(parseInt(t[1],10)),O(parseInt(t[2],10)),O(parseInt(t[3],10)),z(parseFloat(t[4]))]}}(C||(C={}));var N,B=function(){function t(t,e){this.setData(t,e)}return t.prototype.setData=function(t,e){this._data=t,this._commonData=e},t.prototype.draw=function(t,e,i,n,r){if(this._data.visible){var o=e.fontSize;t.font=e.font;var a=this._data.tickVisible?e.tickLength:0,s=this._data.borderVisible?e.borderSize:0,l=e.paddingTop,u=e.paddingBottom,c=e.paddingInner,h=e.paddingOuter,d=this._data.text,p=Math.ceil(i.measureText(t,d)),f=e.baselineOffset,_=e.fontSize+l+u,m=s+p+c+h+a,v=this._commonData.coordinate;this._commonData.fixedCoordinate&&(v=this._commonData.fixedCoordinate);var y,g,b=v-Math.floor(o/2)-l-.5,S=b+_,x="right"===r,w=x?n-s-.5:.5,k=w;t.fillStyle=function(t){return function(t){return 0===t.indexOf("#")}(t)?t:"rgba("+(e=[(i=A(t))[0],i[1],i[2],z(1)])[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";var e,i}(this._commonData.background),t.lineWidth=1,t.lineCap="butt",d&&(x?(y=w-a,g=(k=w-m)+h):(k=w+m,y=w+a,g=w+s+a+c),t.beginPath(),t.moveTo(w,b),t.lineTo(k,b),t.lineTo(k,S),t.lineTo(w,S),t.fill(),this._data.tickVisible&&(t.beginPath(),t.strokeStyle=this._commonData.color,t.moveTo(w,v),t.lineTo(y,v),t.stroke()),t.textAlign="left",t.fillStyle=this._commonData.color,t.fillText(d,g,S-u-f))}},t.prototype.height=function(t,e){return this._data.visible?t.fontSize+t.paddingTop+t.paddingBottom:0},t}(),F=function(){function t(t){this._commonRendererData={coordinate:0,color:"#FFF",background:"#000"},this._axisRendererData={text:"",visible:!1,tickVisible:!0,borderVisible:!0,lineStyle:1},this._paneRendererData={text:"",visible:!1,tickVisible:!1,borderVisible:!1,lineStyle:1},this._invalidated=!0,this._axisRenderer=new(t||B)(this._axisRendererData,this._commonRendererData),this._paneRenderer=new(t||B)(this._paneRendererData,this._commonRendererData)}return t.prototype.text=function(){return this._axisRendererData.text},t.prototype.background=function(){return this._commonRendererData.background},t.prototype.color=function(){return V(this.background())},t.prototype.coordinate=function(){return this._updateRendererDataIfNeeded(),this._commonRendererData.coordinate},t.prototype.floatCoordinate=function(){return this._updateRendererDataIfNeeded(),this._commonRendererData.floatCoordinate||this._commonRendererData.coordinate},t.prototype.update=function(){this._invalidated=!0},t.prototype.height=function(t,e){return void 0===e&&(e=!1),Math.max(this._axisRenderer.height(t,e),this._paneRenderer.height(t,e))},t.prototype.getFixedCoordinate=function(){return this._commonRendererData.fixedCoordinate||0},t.prototype.setFixedCoordinate=function(t){this._commonRendererData.fixedCoordinate=t},t.prototype.isVisible=function(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible||this._paneRendererData.visible},t.prototype.isAxisLabelVisible=function(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible},t.prototype.isPaneLabelVisible=function(){return this._updateRendererDataIfNeeded(),this._paneRendererData.visible},t.prototype.renderer=function(){return this._updateRendererDataIfNeeded(),this._axisRenderer.setData(this._axisRendererData,this._commonRendererData),this._paneRenderer.setData(this._paneRendererData,this._commonRendererData),this._axisRenderer},t.prototype.paneRenderer=function(){return this._updateRendererDataIfNeeded(),this._axisRenderer.setData(this._axisRendererData,this._commonRendererData),this._paneRenderer.setData(this._paneRendererData,this._commonRendererData),this._paneRenderer},t.prototype._updateRendererDataIfNeeded=function(){this._invalidated&&(this._updateRendererData(this._axisRendererData,this._paneRendererData,this._commonRendererData),this._invalidated=!1)},t}(),W=function(t){function e(e,i,n){var r=t.call(this)||this;return r._source=e,r._priceScale=i,r._valueProvider=n,r}return l(e,t),e.prototype._updateRendererData=function(t,e,i){t.visible=!1;var n=this._source.options().horzLine;if(n.labelVisible){var r=this._priceScale.mainSource(),o=null!==r?r.firstValue():null;if(this._source.visible()&&!this._priceScale.isEmpty()&&null!==o){i.background=n.labelBackgroundColor,i.color=V(n.labelBackgroundColor);var a=this._valueProvider(this._priceScale);i.coordinate=a.coordinate,t.text=this._priceScale.formatPrice(a.price,o),t.visible=!0}}},e}(F),U=/[1-9]/g,H=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t,e){if(null!==this._data&&!1!==this._data.visible&&0!==this._data.text.length){t.font=e.font;var i=Math.round(e.widthCache.measureText(t,this._data.text,U));if(!(i<=0)){var n=e.paddingHorizontal,r=i+2*n,o=r/2,a=this._data.width,s=this._data.coordinate,l=Math.floor(s-o)+.5;l<0?(s+=Math.abs(0-l),l=Math.floor(s-o)+.5):l+r>a&&(s-=Math.abs(a-(l+r)),l=Math.floor(s-o)+.5);var u=l+r,c=-.5+e.borderSize+e.paddingTop+e.fontSize+e.paddingBottom;t.fillStyle=this._data.background,t.lineWidth=1,function(t,e,i,n,r,o){t.beginPath(),t.moveTo(e+1,i),t.lineTo(e+n-1,i),t.arcTo(e+n,i,e+n,.5,1),t.lineTo(e+n,i+r-1),t.arcTo(e+n,i+r,e+n-1,i+r,1),t.lineTo(e+1,i+r),t.arcTo(e,i+r,e,i+r-1,1),t.lineTo(e,.5),t.arcTo(e,i,e+1,i,1)}(t,l,-.5,u-l,c- -.5),t.fill();var h=Math.round(this._data.coordinate+1),d=-.5+e.borderSize+e.tickLength;t.strokeStyle=this._data.color,t.beginPath(),t.moveTo(h,-.5),t.lineTo(h,d),t.stroke();var p=c-e.baselineOffset-e.paddingBottom;t.textAlign="left",t.fillStyle=this._data.color,t.fillText(this._data.text,l+n,p)}}},t}(),j=function(t){function e(e,i,n){var r=t.call(this)||this;return r._invalidated=!0,r._renderer=new H,r._rendererData={visible:!1,background:"#4c525e",color:"white",text:"",width:0,coordinate:NaN},r._crosshair=e,r._model=i,r._valueProvider=n,r}return l(e,t),e.prototype.update=function(){this._invalidated=!0},e.prototype.renderer=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._renderer.setData(this._rendererData),this._renderer},e.prototype._updateImpl=function(){var t=this._rendererData;t.visible=!1;var e=this._crosshair.options().vertLine;if(e.labelVisible){var i=this._model.timeScale();if(!i.isEmpty()){var n=i.indexToUserTime(this._crosshair.appliedIndex());t.width=i.width();var r=this._valueProvider();r.time&&(t.coordinate=r.coordinate,t.text=i.formatDateTime(d(n)),t.visible=!0,t.background=e.labelBackgroundColor,t.color=V(e.labelBackgroundColor))}}},e}(function(){function t(){this._text="",this._background="#585858",this._coordinate=0}return t.prototype.text=function(){return this._text},t.prototype.background=function(){return this._background},t.prototype.color=function(){return"black"===L(A(this._background),150)?"white":"black"},t.prototype.coordinate=function(){return this._coordinate},t}()),Y=function(){function t(){this._priceScale=null,this._zorder=0}return t.prototype.zorder=function(){return this._zorder},t.prototype.setZorder=function(t){this._zorder=t},t.prototype.priceScale=function(){return this._priceScale},t.prototype.setPriceScale=function(t){this._priceScale=t},t.prototype.priceAxisViews=function(t,e){return[]},t.prototype.paneViews=function(t){return[]},t.prototype.timeAxisViews=function(){return[]},t}();!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet"}(N||(N={}));var X=function(t){function e(e,i){var n,r,o=t.call(this)||this;o._pane=null,o._price=NaN,o._index=0,o._visible=!0,o._priceAxisViews=new Map,o._subscribed=!1,o._x=NaN,o._y=NaN,o._originX=NaN,o._originY=NaN,o._model=e,o._options=i,o._markersPaneView=new M(e,o),o._currentPosPriceProvider=(n=function(){return o._price},r=function(){return o._y},function(t){var e=r(),i=n();if(t===d(o._pane).defaultPriceScale())return{price:i,coordinate:e};var a=d(t.mainSource()),s=d(a.firstValue());return{price:t.coordinateToPrice(e,s),coordinate:e}});var a=function(){return{time:o._model.timeScale().indexToUserTime(o._index),coordinate:o.appliedX()}};return o._timeAxisView=new j(o,e,a),o._paneView=new D(o),o}return l(e,t),e.prototype.index=function(){return this._index},e.prototype.options=function(){return this._options},e.prototype.saveOriginCoord=function(t,e){this._originX=t,this._originY=e},e.prototype.clearOriginCoord=function(){this._originX=NaN,this._originY=NaN},e.prototype.originCoordX=function(){return this._originX},e.prototype.originCoordY=function(){return this._originY},e.prototype.setPosition=function(t,e,i){this._subscribed||(this._subscribed=!0),this._visible=!0,this._tryToUpdateViews(t,e,i)},e.prototype.appliedIndex=function(){return this._index},e.prototype.appliedX=function(){return this._x},e.prototype.appliedY=function(){return this._y},e.prototype.visible=function(){return this._visible},e.prototype.clearPosition=function(){this._visible=!1,this._setIndexToLastSeriesBarIndex(),this._price=NaN,this._x=NaN,this._y=NaN,this._pane=null,this.clearOriginCoord()},e.prototype.paneViews=function(t){return null!==this._pane?[this._paneView,this._markersPaneView]:[]},e.prototype.horzLineVisible=function(t){return t===this._pane&&this._options.horzLine.visible},e.prototype.vertLineVisible=function(){return this._options.vertLine.visible},e.prototype.priceAxisViews=function(t,e){this._visible&&this._pane===t||this._priceAxisViews.clear();var i=[];return this._pane===t&&i.push(this._createPriceAxisViewOnDemand(this._priceAxisViews,e,this._currentPosPriceProvider)),i},e.prototype.timeAxisViews=function(){return this._visible?[this._timeAxisView]:[]},e.prototype.pane=function(){return this._pane},e.prototype.updateAllViews=function(){this._priceAxisViews.forEach(function(t){return t.update()}),this._timeAxisView.update(),this._markersPaneView.update()},e.prototype._priceScaleByPane=function(t){return t&&!t.defaultPriceScale().isEmpty()?t.defaultPriceScale():null},e.prototype._tryToUpdateViews=function(t,e,i){this._tryToUpdateData(t,e,i)&&this.updateAllViews()},e.prototype._tryToUpdateData=function(t,e,i){var n=this._x,r=this._y,o=this._price,a=this._index,s=this._pane,l=this._priceScaleByPane(i);this._index=t,this._x=isNaN(t)?NaN:this._model.timeScale().indexToCoordinate(t);var u=i.mainDataSource(),c=null!==u?u.firstValue():null;return null!==l&&null!==c?(this._pane=i,this._price=e,this._y=l.priceToCoordinate(e,c)):(this._pane=null,this._price=NaN,this._y=NaN),n!==this._x||r!==this._y||a!==this._index||o!==this._price||s!==this._pane},e.prototype._setIndexToLastSeriesBarIndex=function(){var t=this._model.serieses().map(function(t){return t.bars().lastIndex()}).filter(b),e=0===t.length?null:Math.max.apply(Math,t);this._index=null!==e?e:NaN},e.prototype._createPriceAxisViewOnDemand=function(t,e,i){var n=t.get(e);return void 0===n&&(n=new W(this,e,i),t.set(e,n)),n},e}(Y);function q(t,e){if(!_(t))return"n/a";if(!m(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}var $,Q=function(){function t(t,e,i,n){if(e||(e=1),_(t)&&m(t)||(t=100),t<0)throw new TypeError("invalid base");this._priceScale=t,this._minMove=e,this._minMove2=n,i&&void 0!==n&&n>0&&2!==n&&4!==n&&8!==n||(this._fractional=i,this._calculateDecimal())}return t.prototype.format=function(t,e,i,n){void 0===n&&(n=!0);var r="";return t<0?(r=!0===e?"\u2212":!1===n?"":"\u2212",t=-t):t&&!0===e&&(r="+"),this._fractional?r+this._formatAsFractional(t,i):r+this._formatAsDecimal(t,i)},t.prototype._calculateDecimal=function(){if(this._fractionalLength=0,this._priceScale>0&&this._minMove>0){var t=this._priceScale;for(this._fractional&&this._minMove2&&(t/=this._minMove2);t>1;)t/=10,this._fractionalLength++}},t.prototype._formatAsDecimal=function(t,e){var i;e=e||0,i=this._fractional?Math.pow(10,this._fractionalLength||0):Math.pow(10,e)*this._priceScale/this._minMove;var n=Math.floor(t),r="",o=void 0!==this._fractionalLength?this._fractionalLength:NaN;if(i>1){var a=+(Math.round(t*i)-n*i).toFixed(this._fractionalLength);a>=i&&(a-=i,n+=1),r="."+q(+a.toFixed(this._fractionalLength)*this._minMove,o+e),r=this._removeEndingZeros(r,e)}else n=Math.round(n*i)/i,o>0&&(r="."+q(0,o+e));return n.toFixed(0)+r},t.prototype._formatAsFractional=function(t,e){var i=this._priceScale/this._minMove,n=Math.floor(t),r=e?Math.floor(t*i)-n*i:Math.round(t*i)-n*i;r===i&&(r=0,n+=1);var o="";if(e){var a=(t-n-r/i)*i;o=q(a=Math.round(a*Math.pow(10,e)),e),o=this._removeEndingZeros(o,e)}if(!this._fractionalLength)throw new Error("_fractionalLength is not calculated");var s="";if(this._minMove2){var l=r%this._minMove2;s=q(r=(r-l)/this._minMove2,this._fractionalLength)+"'"+(2===this._minMove2?["0","5"][l]:8===this._minMove2?["0","1","2","3","4","5","6","7"][l]:["0","2","5","7"][l])}else s=q(r*this._minMove,this._fractionalLength);return n.toString()+"'"+s+o},t.prototype._removeEndingZeros=function(t,e){for(var i=0;i<e&&"0"===t[t.length-1];i++)t=t.substr(0,t.length-1);return t},t}(),K=function(t){function e(e){return void 0===e&&(e=100),t.call(this,e)||this}return l(e,t),e.prototype.format=function(e,i,n,r){return t.prototype.format.call(this,e,i,n,r)+"%"},e}(Q),G=function(){function t(){this._listeners=[]}return t.prototype.subscribe=function(t,e,i){var n={callback:t,linkedObject:e,singleshot:!0===i};this._listeners.push(n)},t.prototype.unsubscribe=function(t){var e=this._listeners.findIndex(function(e){return t===e.callback});e>-1&&this._listeners.splice(e,1)},t.prototype.unsubscribeAll=function(t){this._listeners=this._listeners.filter(function(e){return e.linkedObject===t})},t.prototype.fire=function(t,e){var i=this._listeners.slice();this._listeners=this._listeners.filter(function(t){return!t.singleshot}),i.forEach(function(i){return i.callback(t,e)})},t.prototype.hasListeners=function(){return this._listeners.length>0},t.prototype.destroy=function(){this._listeners=[]},t}(),Z=function(t){function e(e){var i=t.call(this)||this;return i._model=e,i}return l(e,t),e.prototype.model=function(){return this._model},e.prototype.base=function(){return 0},e.prototype.priceRange=function(t,e){return null},e}(Y),J=function(){function t(t,e){this._minValue=t,this._maxValue=e}return t.prototype.equals=function(t){return null!==t&&this._minValue===t._minValue&&this._maxValue===t._maxValue},t.prototype.clone=function(){return new t(this._minValue,this._maxValue)},t.prototype.minValue=function(){return this._minValue},t.prototype.setMinValue=function(t){this._minValue=t},t.prototype.maxValue=function(){return this._maxValue},t.prototype.setMaxValue=function(t){this._maxValue=t},t.prototype.length=function(){return this._maxValue-this._minValue},t.prototype.isEmpty=function(){return this._maxValue===this._minValue||Number.isNaN(this._maxValue)||Number.isNaN(this._minValue)},t.prototype.merge=function(e){return new t(Math.min(this.minValue(),e.minValue()),Math.max(this.maxValue(),e.maxValue()))},t.prototype.apply=function(t,e){this._minValue=Math.min(this._minValue,t),this._maxValue=Math.max(this._maxValue,e)},t.prototype.set=function(t,e){this._minValue=t,this._maxValue=e},t.prototype.scaleAroundCenter=function(t){if(_(t)&&0!==this._maxValue-this._minValue){var e=.5*(this._maxValue+this._minValue),i=this._maxValue-e,n=this._minValue-e;i*=t,n*=t,this._maxValue=e+i,this._minValue=e+n}},t.prototype.shift=function(t){_(t)&&(this._maxValue+=t,this._minValue+=t)},t.prototype.containsStrictly=function(t){return t.minValue()>this._minValue&&t.maxValue()<this._maxValue},t}();function tt(t,e,i){return Math.min(Math.max(t,e),i)}function et(t,e,i){return e-t<=i}function it(t){return t<=0?NaN:Math.log(t)/Math.log(10)}function nt(t,e){var i=100*(t-e)/e;return e<0?-i:i}function rt(t,e){var i=nt(t.minValue(),e),n=nt(t.maxValue(),e);return new J(i,n)}function ot(t,e){var i=100*(t-e)/e+100;return e<0?-i:i}function at(t,e){var i=ot(t.minValue(),e),n=ot(t.maxValue(),e);return new J(i,n)}function st(t){var e=Math.abs(t);if(e<1e-8)return 0;var i=it(e+1e-4)+4;return t<0?-i:i}function lt(t){var e=Math.abs(t);if(e<1e-8)return 0;var i=Math.pow(10,e-4)-1e-4;return t<0?-i:i}function ut(t){if(null===t)return null;var e=st(t.minValue()),i=st(t.maxValue());return new J(e,i)}!function(t){t[t.LogicalOffset=4]="LogicalOffset",t[t.CoordOffset=1e-4]="CoordOffset"}($||($={}));var ct=function(){function t(t,e){if(this._base=t,this._integralDividers=e,function(t){if(t<0)return!1;for(var e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this._base))this._fractionalDividers=[2,2.5,2];else{this._fractionalDividers=[];for(var i=this._base;1!==i;){if(i%2==0)this._fractionalDividers.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this._fractionalDividers.push(2),this._fractionalDividers.push(2.5),i/=5}if(this._fractionalDividers.length>100)throw new Error("something wrong with base")}}}return t.prototype.tickSpan=function(t,e,i){for(var n,r=0===this._base?0:1/this._base,o=Math.pow(10,Math.max(0,Math.ceil(it(t-e)))),a=0,s=this._integralDividers[0];;){var l=et(o,r,1e-9)&&o>r+1e-9,u=et(o,i*s,1e-9),c=et(o,1,1e-9);if(!(l&&u&&c))break;o/=s,s=this._integralDividers[++a%this._integralDividers.length]}if(o<=r+1e-9&&(o=r),o=Math.max(1,o),this._fractionalDividers.length>0&&(n=o,1,1e-9,Math.abs(n-1)<1e-9))for(a=0,s=this._fractionalDividers[0];et(o,i*s,1e-9)&&o>r+1e-9;)o/=s,s=this._fractionalDividers[++a%this._fractionalDividers.length];return o},t}(),ht=function(){function t(t,e,i,n){this._marks=[],this._priceScale=t,this._base=e,this._coordinateToLogicalFunc=i,this._logicalToCoordinateFunc=n}return t.prototype.base=function(){return this._base},t.prototype.setBase=function(t){if(t<0)throw new Error("base < 0");this._base=t},t.prototype.tickSpan=function(t,e){if(t<e)throw new Error("high < low");var i=this._priceScale.height(),n=(t-e)*this._tickMarkHeight()/i,r=new ct(this._base,[2,2.5,2]),o=new ct(this._base,[2,2,2.5]),a=new ct(this._base,[2.5,2,2]),s=[];return s.push(r.tickSpan(t,e,n)),s.push(o.tickSpan(t,e,n)),s.push(a.tickSpan(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");for(var e=t[0],i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(s)},t.prototype.rebuildTickMarks=function(){var t=this._priceScale;if(t.isEmpty())this._marks=[];else{var e=t.mainSource();if(null!==e){var i=e.firstValue();if(null!==i){var n=t.height(),r=this._coordinateToLogicalFunc(n-1,i),o=this._coordinateToLogicalFunc(0,i),a=this._priceScale.options().entireTextOnly?this._fontHeight()/2:0,s=a,l=n-1-a,u=Math.max(r,o),c=Math.min(r,o);if(u!==c){for(var h=this.tickSpan(u,c),d=u%h,p=u>=c?1:-1,f=null,_=0,m=u-(d+=d<0?h:0);m>c;m-=h){var v=this._logicalToCoordinateFunc(m,i,!0);null!==f&&Math.abs(v-f)<this._tickMarkHeight()||v<s||v>l||(_<this._marks.length?(this._marks[_].coord=Math.round(v),this._marks[_].label=t.formatLogical(m)):this._marks.push({coord:Math.round(v),label:t.formatLogical(m)}),_++,f=v,t.isLog()&&(h=this.tickSpan(m*p,c)))}this._marks.length=_}else this._marks=[]}else this._marks=[]}else this._marks=[]}},t.prototype.marks=function(){return this._marks},t.prototype._fontHeight=function(){return this._priceScale.fontSize()},t.prototype._tickMarkHeight=function(){return Math.ceil(2.5*this._fontHeight())},t}(),dt=function(){function t(t){this._precision=t}return t.prototype.format=function(t){var e="";return t<0&&(e="-",t=-t),t<995?e+this._formatNumber(t):t<999995?e+this._formatNumber(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this._formatNumber(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this._formatNumber(t/1e9)+"B")},t.prototype._formatNumber=function(t){var e=Math.pow(10,this._precision);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this._precision).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,function(t,e){return e})},t}();function pt(t,e,i,n){if(0!==e.length){var r=e[n.from].x,o=e[n.from].y;t.moveTo(r,o);for(var a=n.from+1;a<n.to;++a){var s=e[a];if(1===i){var l=e[a-1].x,u=s.x;t.lineTo(l,u)}t.lineTo(s.x,s.y)}}}var ft=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data&&0!==this._data.items.length&&null!==this._data.visibleRange){t.save(),t.lineCap="square",t.strokeStyle=this._data.lineColor,t.lineWidth=this._data.lineWidth,a(t,this._data.lineStyle),t.lineWidth=1,t.beginPath(),t.moveTo(this._data.items[this._data.visibleRange.from].x,this._data.bottom),t.lineTo(this._data.items[this._data.visibleRange.from].x,this._data.items[this._data.visibleRange.from].y),pt(t,this._data.items,this._data.lineType,this._data.visibleRange),t.lineTo(this._data.items[this._data.visibleRange.to-1].x,this._data.bottom),t.lineTo(this._data.items[this._data.visibleRange.from].x,this._data.bottom),t.closePath();var e=t.createLinearGradient(0,0,0,this._data.bottom);e.addColorStop(0,this._data.topColor),e.addColorStop(1,this._data.bottomColor),t.fillStyle=e,t.fill(),t.restore()}},t}(),_t=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){null!==this._data&&0!==this._data.items.length&&null!==this._data.visibleRange&&(t.lineCap="square",t.lineWidth=this._data.lineWidth,a(t,this._data.lineStyle),t.strokeStyle=this._data.lineColor,t.lineJoin="miter",t.beginPath(),pt(t,this._data.items,this._data.lineType,this._data.visibleRange),t.stroke())},t}();function mt(t,e,i,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);for(var o=r-n;0<o;){var a=o>>1,s=n+a;i(t[s],e)?(n=s+1,o-=a+1):o=a}return n}function vt(t,e,i,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);for(var o=r-n;0<o;){var a=o>>1,s=n+a;i(e,t[s])?o=a:(n=s+1,o-=a+1)}return n}function yt(t,e){return t.time<e}function gt(t,e){return t<e.time}function bt(t,e){return{from:mt(t,e.firstBar(),yt),to:vt(t,e.lastBar(),gt)}}var St=function(){function t(t,e){this._invalidated=!0,this._dataInvalidated=!0,this._items=[],this._itemsVisibleRange=null,this._series=t,this._model=e}return t.prototype.update=function(t){this._invalidated=!0,"data"===t&&(this._dataInvalidated=!0)},t.prototype._makeValid=function(){this._dataInvalidated&&(this._fillRawPoints(),this._dataInvalidated=!1),this._invalidated&&(this._updatePoints(),this._invalidated=!1)},t.prototype._clearVisibleRange=function(){this._itemsVisibleRange=null},t.prototype._updatePoints=function(){var t=this._series.priceScale(),e=this._model.timeScale();if(this._clearVisibleRange(),!e.isEmpty()&&!t.isEmpty()){var i=e.visibleBars();if(null!==i&&0!==this._series.data().bars().size()){var n=this._series.firstValue();null!==n&&(this._itemsVisibleRange=bt(this._items,i),this._convertToCoordinates(t,e,n))}}},t}(),xt=function(t){function e(e,i){return t.call(this,e,i)||this}return l(e,t),e.prototype._convertToCoordinates=function(t,e,i){e.indexesToCoordinates(this._items,S(this._itemsVisibleRange)),t.pointsArrayToCoordinates(this._items,i,S(this._itemsVisibleRange))},e.prototype._createRawItemBase=function(t,e){return{time:t,price:e,x:NaN,y:NaN}},e.prototype._fillRawPoints=function(){var t=this,e=this._series.barFunction(),i=[],n=this._series.barColorer();this._series.bars().each(function(r,o){var a=e(o.value),s=t._createRawItem(r,a,n);return i.push(s),!1}),this._items=i},e}(St),wt=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._renderer=new T,n._areaRenderer=new ft,n._lineRenderer=new _t,n._renderer.setRenderers([n._areaRenderer,n._lineRenderer]),n}return l(e,t),e.prototype.renderer=function(t,e){this._makeValid();var i=this._series.options(),n={lineType:0,items:this._items,lineColor:i.lineColor,lineStyle:i.lineStyle,lineWidth:i.lineWidth,topColor:i.topColor,bottomColor:i.bottomColor,bottom:t,visibleRange:this._itemsVisibleRange};return this._areaRenderer.setData(n),this._lineRenderer.setData(n),this._renderer},e.prototype._createRawItem=function(t,e){return this._createRawItemBase(t,e)},e}(xt);function kt(t){return.3*t}var Ct,Tt=function(){function t(){this._data=null,this._barWidth=0,this._barLineWidth=0}return t.prototype.setData=function(t){this._data=t,this._barWidth=kt(t.barSpacing),this._barLineWidth=t.thinBars?1:Math.max(1,Math.round(this._barWidth))},t.prototype.draw=function(t){if(null!==this._data&&0!==this._data.bars.length&&null!==this._data.visibleRange){t.save(),t.translate(.5,.5);for(var e=this._data.thinBars?1:Math.round(this._barWidth),i=this._data.thinBars?1:e/2,n=null,r=this._data.visibleRange.from;r<this._data.visibleRange.to;++r){var o=this._data.bars[r];n!==o.color&&(t.fillStyle=o.color,n=o.color),t.fillRect(Math.round(o.x-this._barLineWidth/2),Math.round(o.highY-i),Math.round(this._barLineWidth),Math.round(o.lowY-o.highY+e)),this._barLineWidth<this._data.barSpacing-1&&(this._data.openVisible&&t.fillRect(Math.round(o.x-1.5*this._barWidth),Math.floor(o.openY-i),Math.round(1.5*this._barWidth),e),t.fillRect(Math.round(o.x),Math.floor(o.closeY-i),Math.round(1.5*this._barWidth),e))}t.restore()}},t}(),Pt=function(t){function e(e,i){return t.call(this,e,i)||this}return l(e,t),e.prototype._convertToCoordinates=function(t,e,i){e.indexesToCoordinates(this._items,S(this._itemsVisibleRange)),t.barPricesToCoordinates(this._items,i,S(this._itemsVisibleRange))},e.prototype._createDefaultItem=function(t,e,i){return{time:t,open:e.value[0],high:e.value[1],low:e.value[2],close:e.value[3],x:NaN,openY:NaN,highY:NaN,lowY:NaN,closeY:NaN}},e.prototype._fillRawPoints=function(){var t=this,e=[],i=this._series.barColorer();this._series.bars().each(function(n,r){var o=t._createRawItem(n,r,i);return e.push(o),!1}),this._items=e},e}(St),Et=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._renderer=new Tt,n}return l(e,t),e.prototype.renderer=function(t,e){this._makeValid();var i=this._series.options(),n={bars:this._items,barSpacing:this._model.timeScale().barSpacing(),openVisible:i.openVisible,thinBars:i.thinBars,visibleRange:this._itemsVisibleRange};return this._renderer.setData(n),this._renderer},e.prototype._createRawItem=function(t,e,i){return u({},this._createDefaultItem(t,e,i),{color:i.barStyle(t).barColor})},e}(Pt);!function(t){t[t.BarBorderWidth=1]="BarBorderWidth"}(Ct||(Ct={}));var Mt,Rt=function(){function t(){this._data=null,this._barWidth=0}return t.prototype.setData=function(t){this._data=t,this._barWidth=kt(t.barSpacing)},t.prototype.draw=function(t){if(null!==this._data&&0!==this._data.bars.length&&null!==this._data.visibleRange)if(t.lineCap="square",this._data.barSpacing<1)this._drawThinCandles(t);else{var e=this._data.bars;t.translate(-.5,-.5),t.lineWidth=1,this._data.wickVisible&&this._drawWicks(t,e,this._data.visibleRange),this._data.borderVisible&&this._drawBorder(t,e,this._data.visibleRange),this._drawCandles(t,e,this._data.visibleRange)}},t.prototype._drawWicks=function(t,e,i){for(var n="",r=i.from;r<i.to;r++){var o=e[r];o.wickColor!==n&&(t.fillStyle=o.wickColor,n=o.wickColor),t.fillRect(o.x,o.highY,1,o.lowY-o.highY)}},t.prototype._drawBorder=function(t,e,i){for(var n="",r=i.from;r<i.to;r++){var o=e[r];o.borderColor!==n&&(t.fillStyle=o.borderColor,n=o.borderColor);var a=Math.round(o.x-this._barWidth),s=Math.round(o.x+this._barWidth),l=Math.min(o.openY,o.closeY),u=Math.max(o.openY,o.closeY);t.fillRect(a,l,s-a+1,u-l+1)}},t.prototype._drawCandles=function(t,e,i){if(null!==this._data)for(var n="",r=i.from;r<i.to;r++){var o=e[r],a=Math.min(o.openY,o.closeY),s=Math.max(o.openY,o.closeY),l=Math.round(o.x-this._barWidth),u=Math.round(o.x+this._barWidth);if(this._data.borderVisible&&(l+=1,a+=1,u-=1,s-=1),!(a>s)){if(o.color!==n){var c=o.color;t.fillStyle=c,n=c}t.fillRect(l,a,u-l+1,s-a+1)}}},t.prototype._drawThinCandles=function(t){if(null!==this._data&&null!==this._data.visibleRange){if(t.lineWidth=1,this._data.wickVisible){t.strokeStyle=this._data.wickColor,t.beginPath();for(var e=this._data.visibleRange.from;e<this._data.visibleRange.to;e++){var i=this._data.bars[e];t.moveTo(i.x,i.lowY),t.lineTo(i.x,i.highY)}t.stroke()}var n="",r=!1;for(t.beginPath(),e=this._data.visibleRange.from;e<this._data.visibleRange.to;e++)n!==(i=this._data.bars[e]).color&&(r&&(t.stroke(),t.beginPath(),r=!1),t.strokeStyle=i.color,n=i.color),t.moveTo(i.x,i.openY),t.lineTo(i.x,i.closeY),r=!0;r&&t.stroke()}},t}(),Dt=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._renderer=new Rt,n}return l(e,t),e.prototype.renderer=function(t,e){this._makeValid();var i=this._series.options(),n={bars:this._items,barSpacing:this._model.timeScale().barSpacing(),wickColor:i.wickColor,wickVisible:i.wickVisible,borderVisible:i.borderVisible,visibleRange:this._itemsVisibleRange};return this._renderer.setData(n),this._renderer},e.prototype._createRawItem=function(t,e,i){var n=i.barStyle(t);return u({},this._createDefaultItem(t,e,i),{color:n.barColor,wickColor:n.barWickColor,borderColor:n.barBorderColor})},e}(Pt),It=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data&&0!==this._data.items.length&&null!==this._data.visibleRange){var e=this._data.histogramBase;t.translate(.5,.5),t.fillStyle=this._data.color,t.lineWidth=1,t.beginPath();for(var i=this._data.visibleRange.from;i<this._data.visibleRange.to;i++){var n=this._data.items[i],r=n.y,o=n.left,a=n.right;t.rect(o,r,a-o,e-r)}t.fill()}},t}(),Ot=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._compositeRenderer=new T,n._paletteData=[],n._paletteRenderers=[],n._colorIndexes=new Int32Array(0),n._sourceIndexes=new Int32Array(0),n}return l(e,t),e.prototype.renderer=function(t,e){return this._makeValid(),this._compositeRenderer},e.prototype._fillRawPoints=function(){var t=this,e=this._model.timeScale().barSpacing(),i=this._series.palette();this._paletteRenderers.length=i.size(),this._paletteData.length=i.size();var n=new Int32Array(i.size()),r=this._series.options(),o=this._series.barFunction();this._colorIndexes=new Int32Array(this._series.bars().size());var a=0;this._items.length=this._series.bars().size();var s=0;this._series.bars().each(function(l,u){var c=o(u.value),h=u.value[4],d={time:l,price:c,x:NaN,y:NaN},p=i.colorByIndex(h),f=t._paletteData[h]||function(t,e,i){return{items:[],barSpacing:t,lineWidth:r.lineWidth,histogramBase:NaN,color:p,visibleRange:null}}(e),_=n[h]++;return _<f.items.length?f.items[_]=d:f.items.push(d),t._items[s++]={time:l,x:0},t._paletteData[h]=f,t._colorIndexes[a++]=h,!1}),this._paletteRenderers.length=this._paletteData.length,this._sourceIndexes.length!==this._paletteData.length&&(this._sourceIndexes=new Int32Array(this._paletteData.length)),this._paletteData.forEach(function(e,i){e.items.length=n[i];var r=t._paletteRenderers[i]||new It;r.setData(e),t._paletteRenderers[i]=r}),this._compositeRenderer.setRenderers(this._paletteRenderers)},e.prototype._clearVisibleRange=function(){t.prototype._clearVisibleRange.call(this),this._paletteData.forEach(function(t,e){t.visibleRange=null})},e.prototype._convertToCoordinates=function(t,e,i){var n=this;if(null!==this._itemsVisibleRange){var r=e.barSpacing(),o=d(e.visibleBars()),a=t.priceToCoordinate(this._series.options().base,i);this._paletteData.forEach(function(r,s){e.indexesToCoordinates(r.items),t.pointsArrayToCoordinates(r.items,i),r.histogramBase=a,r.visibleRange=bt(r.items,o),n._sourceIndexes[s]=r.visibleRange.from});for(var s=null,l=this._itemsVisibleRange.from;l<this._itemsVisibleRange.to;++l){var u=this._colorIndexes[l],c=this._paletteData[u],h=this._sourceIndexes[u]++,p=c.items[h];if(p.left=Math.floor(p.x-.5*r),p.right=Math.ceil(p.left+r),null!==s){var f=p.right-p.left>5?1:0;s.right=p.left-f}s=p}}},e}(St),zt=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._lineRenderer=new _t,n}return l(e,t),e.prototype.renderer=function(t,e){this._makeValid();var i=this._series.options(),n={items:this._items,lineColor:i.color,lineStyle:i.lineStyle,lineType:0,lineWidth:i.lineWidth,visibleRange:this._itemsVisibleRange};return this._lineRenderer.setData(n),this._lineRenderer},e.prototype._createRawItem=function(t,e){return this._createRawItemBase(t,e)},e}(xt),At=/[2-9]/g,Lt=function(){function t(t){void 0===t&&(t=50),this._actualSize=0,this._usageTick=1,this._oldestTick=1,this._tick2Labels={},this._cache={},this._maxSize=t}return t.prototype.reset=function(){this._actualSize=0,this._cache={},this._usageTick=1,this._oldestTick=1,this._tick2Labels={}},t.prototype.measureText=function(t,e,i){var n=i||At,r=String(e).replace(n,"0");if(this._cache[r])return this._cache[r].width;if(this._actualSize===this._maxSize){var o=this._tick2Labels[this._oldestTick];delete this._tick2Labels[this._oldestTick],delete this._cache[o],this._oldestTick++,this._actualSize--}var a=t.measureText(r).width;return 0===a&&e.length?0:(this._cache[r]={width:a,tick:this._usageTick},this._tick2Labels[this._usageTick]=r,this._actualSize++,this._usageTick++,a)},t}(),Vt=function(){function t(t){this._priceAxisViewRenderer=null,this._rendererOptions=null,this._align="right",this._width=0,this._textWidthCache=t}return t.prototype.setParams=function(t,e,i,n){this._priceAxisViewRenderer=t,this._rendererOptions=e,this._width=i,this._align=n},t.prototype.draw=function(t){null!==this._rendererOptions&&null!==this._priceAxisViewRenderer&&this._priceAxisViewRenderer.draw(t,this._rendererOptions,this._textWidthCache,this._width,this._align)},t}(),Nt=function(){function t(t,e,i){this._priceAxisView=t,this._textWidthCache=new Lt(50),this._dataSource=e,this._chartModel=i,this._fontSize=-1,this._renderer=new Vt(this._textWidthCache)}return t.prototype.update=function(){this._priceAxisView.update()},t.prototype.renderer=function(t,e){var i=this._chartModel.paneForSource(this._dataSource);if(null===i)return null;if(null===this._dataSource.priceScale())return null;var n=i.priceScalePosition();if("overlay"===n)return null;var r=this._chartModel.priceAxisRendererOptions();return r.fontSize!==this._fontSize&&(this._fontSize=r.fontSize,this._textWidthCache.reset()),this._renderer.setParams(this._priceAxisView.paneRenderer(),r,e,n),this._renderer},t}(),Bt=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data&&!1!==this._data.visible){var e=this._data.y;if(!(e<0||e>this._data.height)){var i=this._data.width;t.lineCap="square",t.strokeStyle=this._data.color,t.lineWidth=this._data.lineWidth,o(t,0,e,i,e,this._data.lineStyle)}}},t}(),Ft=function(){function t(t){this._lineRendererData={width:0,height:0,y:0,color:"rgba(0, 0, 0, 0)",lineWidth:1,lineStyle:0,visible:!1},this._lineRenderer=new Bt,this._invalidated=!0,this._series=t,this._model=t.model(),this._lineRenderer.setData(this._lineRendererData)}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._lineRenderer},t}(),Wt=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype._updateImpl=function(){this._lineRendererData.visible=!1;var t=this._series.priceScale().mode().mode;if(2===t||3===t){var e=this._series.options();if(e.baseLineVisible){var i=this._series.firstValue();null!==i&&(this._lineRendererData.visible=!0,this._lineRendererData.y=this._series.priceScale().priceToCoordinate(i,i),this._lineRendererData.width=this._model.timeScale().width(),this._lineRendererData.height=this._series.priceScale().height(),this._lineRendererData.color=e.baseLineColor,this._lineRendererData.lineWidth=e.baseLineWidth,this._lineRendererData.lineStyle=e.baseLineStyle)}}},e}(Ft),Ut=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype._updateImpl=function(){this._lineRendererData.visible=!1;var t=this._series.options();if(t.priceLineVisible){var e=this._series.lastValueData(void 0,!0);e.noData||(this._lineRendererData.visible=!0,this._lineRendererData.y=e.coordinate,this._lineRendererData.color=this._series.priceLineColor(e.color),this._lineRendererData.width=this._model.timeScale().width(),this._lineRendererData.height=this._series.priceScale().height(),this._lineRendererData.lineWidth=t.priceLineWidth,this._lineRendererData.lineStyle=t.priceLineStyle)}},e}(Ft),Ht=function(t){function e(e,i){var n=t.call(this)||this;return n._source=e,n._data=i,n}return l(e,t),e.prototype._getSource=function(){return this._source},e.prototype._getData=function(){return this._data},e.prototype._updateRendererData=function(t,e,i){t.visible=!1,e.visible=!1;var n=this._source.options(),r=n.lastValueVisible,o=""!==this._source.title(),a=0===n.seriesLastValueMode,s=this._source.lastValueData(void 0,!1);s.noData||(r&&(t.text=this._axisText(s,r,a),t.visible=0!==t.text.length),(o||a)&&(e.text=this._paneText(s,r,o,a),e.visible=e.text.length>0),i.background=this._source.priceLineColor(s.color),i.color=V(i.background),i.coordinate=s.coordinate,i.floatCoordinate=s.floatCoordinate)},e.prototype._paneText=function(t,e,i,n){var r="",o=this._source.title();return i&&0!==o.length&&(r+=o+" "),e&&n&&(r+=this._source.priceScale().isPercentage()?t.formattedPriceAbsolute:t.formattedPricePercentage),r.trim()},e.prototype._axisText=function(t,e,i){return e?i?this._source.priceScale().isPercentage()?t.formattedPricePercentage:t.formattedPriceAbsolute:t.text:""},e}(F),jt=function(){function t(){this._maxUsedIndex=0,this._colorToIndex=new Map,this._indexToColor=new Map}return t.prototype.colorByIndex=function(t){return h(this._indexToColor.get(t))},t.prototype.addColor=function(t){var e=this._colorToIndex.get(t);return void 0===e&&(e=this._maxUsedIndex++,this._colorToIndex.set(t,e),this._indexToColor.set(e,t)),e},t.prototype.size=function(){return this._indexToColor.size},t}(),Yt={barColor:"",barBorderColor:"",barWickColor:""},Xt=function(){function t(t){this._series=t}return t.prototype.barStyle=function(t,e){var i=this._series.seriesType(),n=this._series.options();switch(i){case"Line":return this._lineStyle(n);case"Area":return this._areaStyle(n);case"Bar":return this._barStyle(n,t,e);case"Candlestick":return this._candleStyle(n,t,e);case"Histogram":return this._histogramStyle(n,t,e)}throw new Error("Unknown chart style")},t.prototype._barStyle=function(t,e,i){var n=u({},Yt),r=t.upColor,o=t.downColor,a=r,s=o,l=d(this._findBar(e,i)),c=p(l.value[0])<=p(l.value[3]);return n.barColor=c?r:o,n.barBorderColor=c?a:s,n},t.prototype._candleStyle=function(t,e,i){var n=u({},Yt),r=t.upColor,o=t.downColor,a=t.borderUpColor,s=t.borderDownColor,l=t.wickUpColor,c=t.wickDownColor,h=d(this._findBar(e,i)),f=p(h.value[0])<=p(h.value[3]);return n.barColor=f?r:o,n.barBorderColor=f?a:s,n.barWickColor=f?l:c,n},t.prototype._areaStyle=function(t){return u({},Yt,{barColor:t.lineColor})},t.prototype._lineStyle=function(t){return u({},Yt,{barColor:t.color})},t.prototype._histogramStyle=function(t,e,i){var n=u({},Yt),r=d(this._findBar(e,i)).value[4];if(null!=r){var o=d(this._series.palette());n.barColor=o.colorByIndex(r)}else n.barColor=t.color;return n},t.prototype._getSeriesBars=function(){return this._series.bars()},t.prototype._findBar=function(t,e){return void 0!==e?e.value:this._getSeriesBars().valueAt(t)},t}();!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.Exact=0]="Exact",t[t.NearestRight=1]="NearestRight"}(Mt||(Mt={}));var qt,$t=function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache=new Map,this._rowSearchCache=new Map,this._rowSearchCacheWithoutEmptyValues=new Map,this._plotFunctions=t||new Map,this._emptyValuePredicate=e}return t.prototype.clear=function(){this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache.clear(),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear()},t.prototype.first=function(){return this.size()>0?this._items[this._start]:null},t.prototype.last=function(){return this.size()>0?this._items[this._end-1]:null},t.prototype.firstIndex=function(){return this.size()>0?this._indexAt(this._start):null},t.prototype.lastIndex=function(){return this.size()>0?this._indexAt(this._end-1):null},t.prototype.size=function(){return this._end-this._start},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.contains=function(t){return null!==this._search(t,0)},t.prototype.valueAt=function(t){return this.search(t)},t.prototype.add=function(t,e,i){if(this._shareRead)return!1;var n={index:t,value:i,time:e},r=this._search(t,0);return this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),null===r?(this._items.splice(this._lowerbound(t),0,n),this._start=0,this._end=this._items.length,!0):(this._items[r]=n,!1)},t.prototype.search=function(t,e,i){void 0===e&&(e=0);var n=this._search(t,e,i);if(null===n)return null;var r=this._valueAt(n);return{index:this._indexAt(n),time:r.time,value:r.value}},t.prototype.each=function(t){for(var e=this._start;e<this._end&&!t(this._indexAt(e),this._valueAt(e));++e);},t.prototype.range=function(e,i){var n=new t(this._plotFunctions,this._emptyValuePredicate);return n._items=this._items,n._start=this._lowerbound(e),n._end=this._upperbound(i),n._shareRead=!0,n},t.prototype.minMaxOnRangeCached=function(t,e,i){if(this.isEmpty())return null;for(var n=null,r=0,o=i;r<o.length;r++){var a=o[r];n=Qt(n,this._minMaxOnRangeCachedImpl(t,e,a))}return n},t.prototype.merge=function(t){return this._shareRead?null:0===t.length?null:this.isEmpty()||t[t.length-1].index<this._items[0].index?this._prepend(t):t[0].index>this._items[this._items.length-1].index?this._append(t):1===t.length&&t[0].index===this._items[this._items.length-1].index?(this._updateLast(t[0]),t[0]):this._merge(t)},t.prototype.remove=function(t){if(this._shareRead)return null;var e=this._search(t,1);if(null===e)return null;var i=this._items.splice(e);return this._end=this._items.length,this._minMaxCache.clear(),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),i.length>0?i[0]:null},t.prototype._indexAt=function(t){return this._items[t].index},t.prototype._valueAt=function(t){return this._items[t]},t.prototype._search=function(t,e,i){var n=this._bsearch(t);if(null===n&&0!==e)switch(e){case-1:return this._searchNearestLeft(t,i);case 1:return this._searchNearestRight(t,i);default:throw new TypeError("Unknown search mode")}if(!i||null===n||0===e)return n;switch(e){case-1:return this._nonEmptyNearestLeft(n);case 1:return this._nonEmptyNearestRight(n);default:throw new TypeError("Unknown search mode")}},t.prototype._nonEmptyNearestRight=function(t){for(var e=d(this._emptyValuePredicate);t<this._end&&e(this._valueAt(t).value);)t+=1;return t===this._end?null:t},t.prototype._nonEmptyNearestLeft=function(t){for(var e=d(this._emptyValuePredicate);t>=this._start&&e(this._valueAt(t).value);)t-=1;return t<this._start?null:t},t.prototype._searchNearestLeft=function(t,e){var i=this._lowerbound(t);i>this._start&&(i-=1);var n=i!==this._end&&this._indexAt(i)<t?i:null;return e&&null!==n?this._nonEmptyNearestLeft(n):n},t.prototype._searchNearestRight=function(t,e){var i=this._upperbound(t),n=i!==this._end&&t<this._indexAt(i)?i:null;return e&&null!==n?this._nonEmptyNearestRight(n):n},t.prototype._bsearch=function(t){var e=this._lowerbound(t);return e===this._end||t<this._items[e].index?null:e},t.prototype._lowerbound=function(t){return mt(this._items,t,function(t,e){return t.index<e},this._start,this._end)},t.prototype._upperbound=function(t){return vt(this._items,t,function(t,e){return e.index>t},this._start,this._end)},t.prototype._plotMinMax=function(t,e,i){var n=null,r=this._plotFunctions.get(i.name);if(void 0===r)throw new Error('Plot "'+i.name+'" is not registered');for(var o=t;o<e;o++){var a=r(this._items[o].value);null==a||Number.isNaN(a)||(null===n?n={min:a,max:a}:(a<n.min&&(n.min=a),a>n.max&&(n.max=a)))}return n},t.prototype._invalidateCacheForRow=function(t){var e=Math.floor(t.index/30);this._minMaxCache.forEach(function(t){return t.delete(e)})},t.prototype._prepend=function(t){return c(!this._shareRead,"collection should not be readonly"),c(0!==t.length,"plotRows should not be empty"),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._items=t.concat(this._items),this._start=0,this._end=this._items.length,t[0]},t.prototype._append=function(t){return c(!this._shareRead,"collection should not be readonly"),c(0!==t.length,"plotRows should not be empty"),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._items=this._items.concat(t),this._start=0,this._end=this._items.length,t[0]},t.prototype._updateLast=function(t){c(!this.isEmpty(),"plot list should not be empty"),c(this._items[this._end-1].index===t.index,"last row index should match new row index"),this._invalidateCacheForRow(t),this._rowSearchCache.delete(t.index),this._rowSearchCacheWithoutEmptyValues.delete(t.index),this._items[this._end-1]=t},t.prototype._merge=function(t){return c(0!==t.length,"plot rows should not be empty"),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._items=function(t,e){for(var i=function(t,e){for(var i=t.length,n=e.length,r=i+n,o=0,a=0;o<i&&a<n;)t[o].index<e[a].index?o++:t[o].index>e[a].index?a++:(o++,a++,r--);return r}(t,e),n=new Array(i),r=0,o=0,a=t.length,s=e.length,l=0;r<a&&o<s;)t[r].index<e[o].index?(n[l]=t[r],r++):t[r].index>e[o].index?(n[l]=e[o],o++):(n[l]=e[o],r++,o++),l++;for(;r<a;)n[l]=t[r],r++,l++;for(;o<s;)n[l]=e[o],o++,l++;return n}(this._items,t),this._start=0,this._end=this._items.length,t[0]},t.prototype._minMaxOnRangeCachedImpl=function(t,e,i){if(this.isEmpty())return null;var n=null,r=d(this.firstIndex()),o=d(this.lastIndex()),a=t-i.offset,s=e-i.offset;a=Math.max(a,r),s=Math.min(s,o);var l=30*Math.ceil(a/30),u=Math.max(l,30*Math.floor(s/30)),c=this._lowerbound(a),h=this._upperbound(Math.min(s,l,e));n=Qt(n,this._plotMinMax(c,h,i));var p=this._minMaxCache.get(i.name);void 0===p&&(p=new Map,this._minMaxCache.set(i.name,p));for(var f=Math.max(l+1,a);f<u;f+=30){var _=Math.floor(f/30),m=p.get(_);if(void 0===m){var v=this._lowerbound(30*_),y=this._upperbound(30*(_+1)-1);m=this._plotMinMax(v,y,i),p.set(_,m)}n=Qt(n,m)}return c=this._lowerbound(u),h=this._upperbound(s),Qt(n,this._plotMinMax(c,h,i))},t}();function Qt(t,e){return null===t?e:null===e?t:{min:Math.min(t.min,e.min),max:Math.max(t.max,e.max)}}!function(t){t[t.Open=0]="Open",t[t.High=1]="High",t[t.Low=2]="Low",t[t.Close=3]="Close",t[t.Color=4]="Color"}(qt||(qt={}));var Kt={open:function(t){return t[0]},high:function(t){return t[1]},low:function(t){return t[2]},close:function(t){return t[3]},hl2:function(t){return(t[1]+t[2])/2},hlc3:function(t){return(t[1]+t[2]+t[3])/3},ohlc4:function(t){return(t[0]+t[1]+t[2]+t[3])/4}},Gt=["open","high","low","close","hl2","hlc3","ohlc4"];function Zt(t){return Kt[t]}var Jt,te=function(){function t(){var t;this._bars=new $t((t=new Map,Gt.forEach(function(e,i){t.set(e,Zt(e))}),t))}return t.prototype.bars=function(){return this._bars},t.prototype.size=function(){return this._bars.size()},t.prototype.each=function(t){this._bars.each(t)},t.prototype.clear=function(){this._bars.clear()},t.prototype.isEmpty=function(){return this._bars.isEmpty()},t.prototype.first=function(){return this._bars.first()},t.prototype.last=function(){return this._bars.last()},t.prototype.search=function(t,e){return this.bars().search(t,e)},t.prototype.valueAt=function(t){return this.search(t)},t}(),ee=function(t){function e(e,i,n){var r=t.call(this,e)||this;r._data=new te,r._priceLineView=new Ut(r),r._baseHorizontalLineView=new Wt(r),r._endOfData=!1,r._paneView=null,r._barColorerCache=null,r._options=i,r._seriesType=n,r._palette=r._createDefaultPalette(),r.createPaneView();var o=new Ht(r,{model:e});return r._priceAxisViews=[o],r._panePriceAxisView=new Nt(o,r,e),r._recreateFormatter(),r._updateBarFunction(),r._barFunction=r.barFunction(),r}return l(e,t),e.prototype.destroy=function(){},e.prototype.endOfData=function(){return this._endOfData},e.prototype.priceLineColor=function(t){return this._options.priceLineColor||t},e.prototype.lastValueData=function(t,e,i){var n={noData:!0},r=this.priceScale();if(this.model().timeScale().isEmpty()||r.isEmpty()||this.data().isEmpty())return n;var o,a,s=this.model().timeScale().visibleBars(),l=this.firstValue();if(null===s||null===l)return n;if(e){var u=this.data().bars().last();if(null===u)return n;o=u,a=u.index}else{var c=this.data().bars().search(s.lastBar(),-1);if(null===c)return n;if(null===(o=this.data().bars().valueAt(c.index)))return n;a=c.index}var h=void 0!==t?o.value[t]:this._barFunction(o.value),d=this.barColorer().barStyle(a,{value:o}),p=r.priceToCoordinate(h,l,!0);return{noData:!1,price:i?h:void 0,text:r.formatPrice(h,l),formattedPriceAbsolute:r.formatPriceAbsolute(h),formattedPricePercentage:r.formatPricePercentage(h,l),color:d.barColor,floatCoordinate:p,coordinate:Math.round(p),index:a}},e.prototype.data=function(){return this._data},e.prototype.createPaneView=function(){switch(this._paneView=null,this._seriesType){case"Bar":this._paneView=new Et(this,this.model());break;case"Candlestick":this._paneView=new Dt(this,this.model());break;case"Line":this._paneView=new zt(this,this.model());break;case"Area":this._paneView=new wt(this,this.model());break;case"Histogram":this._paneView=new Ot(this,this.model());break;default:throw Error("Unknown chart style assigned: "+this._seriesType)}},e.prototype.barColorer=function(){return null!==this._barColorerCache?this._barColorerCache:(this._barColorerCache=new Xt(this),this._barColorerCache)},e.prototype.options=function(){return this._options},e.prototype.applyOptions=function(t){var e=this._options.overlay;f(this._options,t),this._options.overlay=e,e&&null!==this._priceScale&&void 0!==t.scaleMargins&&this._priceScale.applyOptions({scaleMargins:this._options.scaleMargins}),this._recreateFormatter(),this.model().updateSource(this)},e.prototype.setData=function(t,e,i){this._data.clear(),this._data.bars().merge(t),e&&(this._palette=void 0===i?this._createDefaultPalette():i),null!==this._paneView&&this._paneView.update("data");var n=this.model().paneForSource(this);this.model().recalculatePane(n),this.model().updateSource(this),this.model().updateCrosshair(),this.model().lightUpdate()},e.prototype.updateData=function(t){this._data.bars().merge(t),null!==this._paneView&&this._paneView.update("data");var e=this.model().paneForSource(this);this.model().recalculatePane(e),this.model().updateSource(this),this.model().updateCrosshair(),this.model().lightUpdate()},e.prototype.palette=function(){return this._palette},e.prototype.seriesType=function(){return this._seriesType},e.prototype.firstValue=function(){var t=this.firstBar();return null===t?null:this._barFunction(t.value)},e.prototype.firstBar=function(){var t=this.model().timeScale().visibleBars();if(null===t)return null;var e=t.firstBar();return this.data().search(e,1)},e.prototype.bars=function(){return this._data.bars()},e.prototype.nearestIndex=function(t,e){var i=this.nearestData(t,e);return i?i.index:null},e.prototype.nearestData=function(t,e){return m(t)?this.data().search(t,e):null},e.prototype.dataAt=function(t){var e=this.data().valueAt(t);return null===e?null:"Bar"===this._seriesType||"Candlestick"===this._seriesType?{open:e.value[0],high:e.value[1],low:e.value[2],close:e.value[3]}:this.barFunction()(e.value)},e.prototype.paneViews=function(){var t=[];return this.priceScale()===this.model().mainPriceScale()&&t.push(this._baseHorizontalLineView),t.push(d(this._paneView)),t.push(this._priceLineView),t.push(this._panePriceAxisView),t},e.prototype.priceAxisViews=function(t,e){return this._priceAxisViews},e.prototype.priceRange=function(t,e){if(!m(t))return null;if(!m(e))return null;if(this.data().isEmpty())return null;var i,n="Line"===this._seriesType||"Area"===this._seriesType||"Histogram"===this._seriesType?"close":null,r=null!==(i=null!==n?this.data().bars().minMaxOnRangeCached(t,e,[{name:n,offset:0}]):this.data().bars().minMaxOnRangeCached(t,e,[{name:"low",offset:0},{name:"high",offset:0}]))?i.min===i.max?new J(i.min-.5,i.max+.5):new J(i.min,i.max):new J(-.5,.5);if("Histogram"===this.seriesType()){var o=this._options.base;r=r.merge(new J(o,o))}return r},e.prototype.base=function(){return Math.round(1/this._options.priceFormat.minMove)},e.prototype.formatter=function(){return this._formatter},e.prototype.barFunction=function(){return this._barFunction},e.prototype.updateAllViews=function(){if(null!==this._paneView){this._paneView.update();for(var t=this._priceAxisViews.length,e=0;e<t;e++)this._priceAxisViews[e].update();this._priceLineView.update(),this._baseHorizontalLineView.update()}},e.prototype.setPriceScale=function(t){this._priceScale!==t&&(this._priceScale=t)},e.prototype.priceScale=function(){return d(this._priceScale)},e.prototype.markerDataAtIndex=function(t){if("Line"!==this._seriesType&&"Area"!==this._seriesType||!this._options.crosshairMarkerVisible)return null;var e=this._data.valueAt(t);return null===e?null:{price:this._barFunction(e.value),radius:this._markerRadius()}},e.prototype.title=function(){return this._options.title},e.prototype._markerRadius=function(){switch(this._seriesType){case"Line":case"Area":return this._options.crosshairMarkerRadius}return 0},e.prototype._recreateFormatter=function(){switch(this._options.priceFormat.type){case"volume":this._formatter=new dt(this._options.priceFormat.precision);break;case"percent":this._formatter=new K(this._options.priceFormat.precision);break;default:var t=Math.pow(10,this._options.priceFormat.precision);this._formatter=new Q(t,this._options.priceFormat.minMove*t,!1,void 0)}null!==this._priceScale&&this._priceScale.updateFormatter()},e.prototype._updateBarFunction=function(){this._barFunction=Zt("close")},e.prototype._createDefaultPalette=function(){var t=new jt;return"Histogram"===this._seriesType&&t.addColor(this._options.color),t},e}(Z);function ie(t){return t.slice().sort(function(t,e){return d(t.zorder())-d(e.zorder())})}!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Jt||(Jt={}));var ne=new K,re=new Q(100,1),oe=function(){function t(t,e,i){this._height=0,this._internalHeightCache=null,this._internalHeightChanged=new G,this._priceRange=null,this._priceRangeSnapshot=null,this._priceRangeChanged=new G,this._invalidatedForRange={isValid:!1,visibleBars:null},this._onMarksChanged=new G,this._modeChanged=new G,this._dataSources=[],this._cachedOrderedSources=null,this._hasSeries=!1,this._mainSource=null,this._marksCache=null,this._scaleStartPoint=null,this._scrollStartPoint=null,this._formatter=re,this._optionsChanged=new G,this._options=t,this._layoutOptions=e,this._localizationOptions=i,this._markBuilder=new ht(this,100,this._coordinateToLogical.bind(this),this._logicalToCoordinate.bind(this))}return t.prototype.options=function(){return this._options},t.prototype.applyOptions=function(t){if(f(this._options,t),this.updateFormatter(),void 0!==t.mode&&this.setMode({mode:t.mode}),this._optionsChanged.fire(),void 0!==t.scaleMargins){var e=h(t.scaleMargins.top),i=h(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given="+e);if(i<0||i>1||e+i>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given="+i);if(e+i>1)throw new Error("Invalid margins - sum of margins must be less than 1, given="+(e+i));this._invalidateInternalHeightCache(),this._marksCache=null}},t.prototype.optionsChanged=function(){return this._optionsChanged},t.prototype.isAutoScale=function(){return this._options.autoScale},t.prototype.isLog=function(){return 1===this._options.mode},t.prototype.isPercentage=function(){return 2===this._options.mode},t.prototype.isIndexedTo100=function(){return 3===this._options.mode},t.prototype.mode=function(){return{autoScale:this._options.autoScale,isInverted:this._options.invertScale,mode:this._options.mode}},t.prototype.setMode=function(t){var e=this.mode(),i=null;void 0!==t.autoScale&&(this._options.autoScale=t.autoScale),void 0!==t.mode&&(this._options.mode=t.mode,2!==t.mode&&3!==t.mode||(this._options.autoScale=!0),this._invalidatedForRange.isValid=!1),1===e.mode&&t.mode!==e.mode&&(function(t){if(null===t)return!1;var e=lt(t.minValue()),i=lt(t.maxValue());return isFinite(e)&&isFinite(i)}(this._priceRange)?null!==(i=function(t){if(null===t)return null;var e=lt(t.minValue()),i=lt(t.maxValue());return new J(e,i)}(this._priceRange))&&this.setPriceRange(i):this._options.autoScale=!0),1===t.mode&&t.mode!==e.mode&&null!==(i=ut(this._priceRange))&&this.setPriceRange(i);var n=e.mode!==this._options.mode;n&&(2===e.mode||this.isPercentage())&&this.updateFormatter(),n&&(3===e.mode||this.isIndexedTo100())&&this.updateFormatter(),void 0!==t.isInverted&&e.isInverted!==t.isInverted&&(this._options.invertScale=t.isInverted,this._onIsInvertedChanged()),this._modeChanged.fire(e,this.mode())},t.prototype.modeChanged=function(){return this._modeChanged},t.prototype.fontSize=function(){return this._layoutOptions.fontSize},t.prototype.height=function(){return this._height},t.prototype.setHeight=function(t){this._height!==t&&(this._height=t,this._invalidateInternalHeightCache(),this._marksCache=null)},t.prototype.topMargin=function(){return this.isInverted()?this._options.scaleMargins.bottom:this._options.scaleMargins.top},t.prototype.bottomMargin=function(){return this.isInverted()?this._options.scaleMargins.top:this._options.scaleMargins.bottom},t.prototype.internalHeight=function(){if(this._internalHeightCache)return this._internalHeightCache;var t=this.height()*(1-this.topMargin()-this.bottomMargin());return this._internalHeightCache=t,t},t.prototype.internalHeightChanged=function(){return this._internalHeightChanged},t.prototype.priceRange=function(){return this._makeSureItIsValid(),this._priceRange},t.prototype.priceRangeChanged=function(){return this._priceRangeChanged},t.prototype.setPriceRange=function(t,e,i){var n=this._priceRange;(e||null===n&&null!==t||null!==n&&!n.equals(t))&&(this._marksCache=null,this._priceRange=t,i||this._priceRangeChanged.fire(n,t))},t.prototype.isEmpty=function(){return this._makeSureItIsValid(),0===this._height||!this._priceRange||this._priceRange.isEmpty()},t.prototype.invertedCoordinate=function(t){return this.isInverted()?t:this.height()-1-t},t.prototype.priceToCoordinate=function(t,e,i){return this.isPercentage()?t=nt(t,e):this.isIndexedTo100()&&(t=ot(t,e)),this._logicalToCoordinate(t,e,i)},t.prototype.pointsArrayToCoordinates=function(t,e,i){this._makeSureItIsValid();for(var n=this.bottomMargin()*this.height(),r=d(this.priceRange()),o=r.minValue(),a=r.maxValue(),s=this.internalHeight()-1,l=this.isInverted(),u=s/(a-o),c=void 0===i?0:i.from,h=void 0===i?t.length:i.to,p=this._getCoordinateTransformer(),f=c;f<h;f++){var _=t[f],m=_.price;if(!isNaN(m)){var v=m;null!==p&&(v=p(_.price,e));var y=n+u*(v-o),g=l?y:this._height-1-y;_.y=Math.round(g)}}},t.prototype.barPricesToCoordinates=function(t,e,i){this._makeSureItIsValid();for(var n=this.bottomMargin()*this.height(),r=d(this.priceRange()),o=r.minValue(),a=r.maxValue(),s=this.internalHeight()-1,l=this.isInverted(),u=s/(a-o),c=void 0===i?0:i.from,h=void 0===i?t.length:i.to,p=this._getCoordinateTransformer(),f=c;f<h;f++){var _=t[f],m=_.open,v=_.high,y=_.low,g=_.close;null!==p&&(m=p(_.open,e),v=p(_.high,e),y=p(_.low,e),g=p(_.close,e));var b=n+u*(m-o),S=l?b:this._height-1-b;_.openY=Math.round(S),b=n+u*(v-o),S=l?b:this._height-1-b,_.highY=Math.round(S),b=n+u*(y-o),S=l?b:this._height-1-b,_.lowY=Math.round(S),b=n+u*(g-o),S=l?b:this._height-1-b,_.closeY=Math.round(S)}},t.prototype.coordinateToPrice=function(t,e){var i=this._coordinateToLogical(t,e);return this.logicalToPrice(i,e)},t.prototype.logicalToPrice=function(t,e){var i=t;return this.isPercentage()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.isIndexedTo100()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i},t.prototype.dataSources=function(){return this._dataSources},t.prototype.orderedSources=function(){if(this._cachedOrderedSources)return this._cachedOrderedSources;for(var t=[],e=0;e<this._dataSources.length;e++){var i=this._dataSources[e];null===i.zorder()&&i.setZorder(e+1),t.push(i)}return t=ie(t),this._cachedOrderedSources=t,this._cachedOrderedSources},t.prototype.hasSeries=function(){return this._hasSeries},t.prototype.addDataSource=function(t){-1===this._dataSources.indexOf(t)&&(t instanceof ee&&(this._hasSeries=!0),this._dataSources.push(t),this._mainSource=null,this.updateFormatter(),this.invalidateSourcesCache())},t.prototype.removeDataSource=function(t){var e=this._dataSources.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this._dataSources.splice(e,1),t instanceof ee&&(this._hasSeries=!1),this.mainSource()||this.setMode({autoScale:!0}),this._mainSource=null,this.updateFormatter(),this.invalidateSourcesCache()},t.prototype.mainSource=function(){if(null!==this._mainSource)return this._mainSource;for(var t=null,e=0;e<this._dataSources.length;e++){var i=this._dataSources[e];if(i instanceof ee){t=i;break}null===t&&i instanceof Z&&(t=i)}return this._mainSource=t,this._mainSource},t.prototype.isInverted=function(){return this._options.invertScale},t.prototype.marks=function(){return this._marksCache?this._marksCache:(this._markBuilder.rebuildTickMarks(),this._marksCache=this._markBuilder.marks(),this._onMarksChanged.fire(),this._marksCache)},t.prototype.onMarksChanged=function(){return this._onMarksChanged},t.prototype.startScale=function(t){this.isPercentage()||this.isIndexedTo100()||null===this._scaleStartPoint&&null===this._priceRangeSnapshot&&(this.isEmpty()||(this._scaleStartPoint=this._height-t,this._priceRangeSnapshot=d(this.priceRange()).clone()))},t.prototype.scaleTo=function(t){if(!this.isPercentage()&&!this.isIndexedTo100()&&null!==this._scaleStartPoint){this.setMode({autoScale:!1}),(t=this._height-t)<0&&(t=0);var e=(this._scaleStartPoint+.2*(this._height-1))/(t+.2*(this._height-1)),i=d(this._priceRangeSnapshot).clone();e=Math.max(e,.1),i.scaleAroundCenter(e),this.setPriceRange(i)}},t.prototype.endScale=function(){this.isPercentage()||this.isIndexedTo100()||(this._scaleStartPoint=null,this._priceRangeSnapshot=null)},t.prototype.startScroll=function(t){this.isAutoScale()||null===this._scrollStartPoint&&null===this._priceRangeSnapshot&&(this.isEmpty()||(this._scrollStartPoint=t,this._priceRangeSnapshot=d(this.priceRange()).clone()))},t.prototype.scrollTo=function(t){if(!this.isAutoScale()&&null!==this._scrollStartPoint){var e=d(this.priceRange()).length()/(this.height()-1),i=t-this._scrollStartPoint;this.isInverted()&&(i*=-1);var n=i*e,r=d(this._priceRangeSnapshot).clone();r.shift(n),this.setPriceRange(r,!0),this._marksCache=null}},t.prototype.endScroll=function(){this.isAutoScale()||null!==this._scrollStartPoint&&(this._scrollStartPoint=null,this._priceRangeSnapshot=null)},t.prototype.formatter=function(){return this._formatter||this.updateFormatter(),this._formatter},t.prototype.formatPrice=function(t,e){switch(this._options.mode){case 2:return this.formatter().format(nt(t,e));case 3:return this.formatter().format(ot(t,e));default:return this._formatPrice(t)}},t.prototype.formatLogical=function(t){switch(this._options.mode){case 2:case 3:return this.formatter().format(t);default:return this._formatPrice(t)}},t.prototype.formatPriceAbsolute=function(t){return this._formatPrice(t,this._mainSourceFormatter())},t.prototype.formatPricePercentage=function(t,e){return t=nt(t,e),ne.format(t)},t.prototype.sourcesForAutoScale=function(){return this._dataSources.filter(function(t){return t instanceof Z})},t.prototype.recalculatePriceRange=function(t){this._invalidatedForRange={visibleBars:t,isValid:!1}},t.prototype.updateAllViews=function(){this._dataSources.forEach(function(t){return t.updateAllViews()})},t.prototype.updateFormatter=function(){this._marksCache=null;var t=this.mainSource(),e=100;null!==t&&(e=t.base()),this._formatter=re,this.isPercentage()?(this._formatter=ne,e=100):this.isIndexedTo100()?(this._formatter=new Q(100,1),e=100):null!==t&&(this._formatter=t.formatter()),this._markBuilder=new ht(this,e,this._coordinateToLogical.bind(this),this._logicalToCoordinate.bind(this)),this._markBuilder.rebuildTickMarks()},t.prototype.invalidateSourcesCache=function(){this._cachedOrderedSources=null},t.prototype._makeSureItIsValid=function(){this._invalidatedForRange.isValid||(this._invalidatedForRange.isValid=!0,this._recalculatePriceRangeImpl())},t.prototype._invalidateInternalHeightCache=function(){this._internalHeightCache=null,this._internalHeightChanged.fire()},t.prototype._logicalToCoordinate=function(t,e,i){if(this._makeSureItIsValid(),this.isEmpty())return 0;t=this.isLog()&&t?st(t):t;var n=d(this.priceRange()),r=this.bottomMargin()*this.height()+(this.internalHeight()-1)*(t-n.minValue())/n.length(),o=this.invertedCoordinate(r);return i?o:Math.round(o)},t.prototype._coordinateToLogical=function(t,e){if(this._makeSureItIsValid(),this.isEmpty())return 0;var i=this.invertedCoordinate(t),n=d(this.priceRange()),r=n.minValue()+n.length()*((i-this.bottomMargin()*this.height())/(this.internalHeight()-1));return this.isLog()?lt(r):r},t.prototype._onIsInvertedChanged=function(){this._marksCache=null,this._markBuilder.rebuildTickMarks()},t.prototype._mainSourceFormatter=function(){return d(this.mainSource()).formatter()},t.prototype._recalculatePriceRangeImpl=function(){var t=this._invalidatedForRange.visibleBars;if(null!==t){for(var e=null,i=this.sourcesForAutoScale(),n=0;n<i.length;n++){var r=i[n],o=r.firstValue();if(null!==o){var a=t.firstBar(),s=t.lastBar(),l=r.priceRange(a,s);if(null!==l){switch(this._options.mode){case 1:l=ut(l);break;case 2:l=rt(l,o);break;case 3:l=at(l,o)}e=null===e?l:e.merge(d(l))}}}e?(e.minValue()===e.maxValue()&&(e=new J(e.minValue()-.5,e.maxValue()+.5)),this.setPriceRange(e)):null===this._priceRange&&this.setPriceRange(new J(-.5,.5)),this._invalidatedForRange.isValid=!0}},t.prototype._getCoordinateTransformer=function(){return this.isPercentage()?nt:this.isIndexedTo100()?ot:this.isLog()?st:null},t.prototype._formatPrice=function(t,e){return void 0===this._localizationOptions.priceFormatter?(void 0===e&&(e=this.formatter()),e.format(t)):this._localizationOptions.priceFormatter(t)},t}();function ae(t){return!_(t)}function se(t){return _(t)}var le=/(\d+(?:\.\d+)?)(px|em|rem|pt)/g,ue=document.createElement("canvas").getContext("2d")||{},ce=ue.backingStorePixelRatio||ue.webkitBackingStorePixelRatio||ue.mozBackingStorePixelRatio||ue.msBackingStorePixelRatio||ue.oBackingStorePixelRatio||ue.backingStorePixelRatio||1,he=(window.devicePixelRatio||1)/ce;function de(t){t.width!==Math.floor(parseInt(d(t.style.width))*he)&&(t.style.width=t.width+"px",t.width*=he,t.height*=he);var e=t.getContext("2d");return null===e?null:new fe(e,he)}var pe,fe=function(){function t(t,e){this.canvas=t.canvas,this._ctx=t,this._rto=e}return t.prototype.restore=function(){this._ctx.restore()},t.prototype.save=function(){this._ctx.save()},t.prototype.getTransform=function(){return this._ctx.getTransform()},t.prototype.resetTransform=function(){this._ctx.resetTransform()},t.prototype.rotate=function(t){this._ctx.rotate(t)},t.prototype.scale=function(t,e){this._ctx.scale(t,e)},t.prototype.setTransform=function(t,e,i,n,r,o){_(t)?this._ctx.setTransform(t,e,i,n,r,o):this._ctx.setTransform(t)},t.prototype.transform=function(t,e,i,n,r,o){this._ctx.transform(t,e,i,n,r,o)},t.prototype.translate=function(t,e){this._ctx.translate(t*this._rto,e*this._rto)},Object.defineProperty(t.prototype,"globalAlpha",{get:function(){return this._ctx.globalAlpha},set:function(t){this._ctx.globalAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalCompositeOperation",{get:function(){return this._ctx.globalCompositeOperation},set:function(t){this._ctx.globalCompositeOperation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageSmoothingEnabled",{get:function(){return this._ctx.imageSmoothingEnabled},set:function(t){this._ctx.imageSmoothingEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageSmoothingQuality",{get:function(){return this._ctx.imageSmoothingQuality},set:function(t){this._ctx.imageSmoothingQuality=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillStyle",{get:function(){return this._ctx.fillStyle},set:function(t){this._ctx.fillStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeStyle",{get:function(){return this._ctx.strokeStyle},set:function(t){this._ctx.strokeStyle=t},enumerable:!0,configurable:!0}),t.prototype.createLinearGradient=function(t,e,i,n){return this._ctx.createLinearGradient(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.createPattern=function(t,e){return this._ctx.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,i,n,r,o){return this._ctx.createRadialGradient(t*this._rto,e*this._rto,i*this._rto,n*this._rto,r*this._rto,o*this._rto)},Object.defineProperty(t.prototype,"shadowBlur",{get:function(){return this._ctx.shadowBlur},set:function(t){this._ctx.shadowBlur=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadowColor",{get:function(){return this._ctx.shadowColor},set:function(t){this._ctx.shadowColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadowOffsetX",{get:function(){return this._ctx.shadowOffsetX},set:function(t){this._ctx.shadowOffsetX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadowOffsetY",{get:function(){return this._ctx.shadowOffsetY},set:function(t){this._ctx.shadowOffsetY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._ctx.filter},set:function(t){this._ctx.filter=t},enumerable:!0,configurable:!0}),t.prototype.clearRect=function(t,e,i,n){this._ctx.clearRect(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.fillRect=function(t,e,i,n){this._ctx.fillRect(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.strokeRect=function(t,e,i,n){this._ctx.strokeRect(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.beginPath=function(){this._ctx.beginPath()},t.prototype.clip=function(t,e){"nonzero"===t||"evenodd"===t||void 0===t?this._ctx.clip(t):this._ctx.clip(t,e)},t.prototype.fill=function(t,e){"nonzero"===t||"evenodd"===t||void 0===t?this._ctx.fill(t):this._ctx.fill(t,e)},t.prototype.isPointInPath=function(t,e,i,n){return _(t)?this._ctx.isPointInPath(t*this._rto,e*this._rto,i):this._ctx.isPointInPath(t,e*this._rto,i*this._rto,n)},t.prototype.isPointInStroke=function(t,e,i){return _(t)?this._ctx.isPointInStroke(t*this._rto,e*this._rto):this._ctx.isPointInStroke(t,e*this._rto,i*this._rto)},t.prototype.stroke=function(t){void 0!==t?this._ctx.stroke(t):this._ctx.stroke()},t.prototype.drawFocusIfNeeded=function(t,e){void 0!==e?this._ctx.drawFocusIfNeeded(t,e):this._ctx.drawFocusIfNeeded(t)},t.prototype.scrollPathIntoView=function(t){void 0!==t?this._ctx.scrollPathIntoView(t):this._ctx.scrollPathIntoView()},t.prototype.fillText=function(t,e,i,n){var r=this;1!==this._rto&&(this.font=this.font.replace(le,function(t,e,i){return e*r._rto+i})),void 0===n?this._ctx.fillText(t,e*this._rto,i*this._rto):this._ctx.fillText(t,e*this._rto,i*this._rto,n*this._rto),-1!==this._rto&&(this.font=this.font.replace(le,function(t,e,i){return e/r._rto+i}))},t.prototype.measureText=function(t){return this._ctx.measureText(t)},t.prototype.strokeText=function(t,e,i,n){var r=this;1!==this._rto&&(this.font=this.font.replace(le,function(t,e,i){return e*r._rto+i})),void 0===n?this._ctx.strokeText(t,e*this._rto,i*this._rto):this._ctx.strokeText(t,e*this._rto,i*this._rto,n*this._rto),1!==this._rto&&(this.font=this.font.replace(le,function(t,e,i){return e/r._rto+i}))},t.prototype.drawImage=function(t,e,i,n,r,o,a,s,l){return t instanceof HTMLCanvasElement?this._drawImagePatchedSourceAndDest(t,e,i,n,r,o,a,s,l):this._drawImagePatchedSource(t,e,i,n,r,o,a,s,l)},t.prototype.createImageData=function(t,e){return _(t)?this._ctx.createImageData(t,e):this._ctx.createImageData(t)},t.prototype.getImageData=function(t,e,i,n){return this._ctx.getImageData(t,e,i,n)},t.prototype.putImageData=function(t,e,i,n,r,o,a){void 0===n?this._ctx.putImageData(t,e,i):this._ctx.putImageData(t,e,i,n,r,o,a)},Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._ctx.lineCap},set:function(t){this._ctx.lineCap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._ctx.lineDashOffset},set:function(t){this._ctx.lineDashOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._ctx.lineJoin},set:function(t){this._ctx.lineJoin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return this._ctx.lineWidth},set:function(t){this._ctx.lineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._ctx.miterLimit},set:function(t){this._ctx.miterLimit=t},enumerable:!0,configurable:!0}),t.prototype.getLineDash=function(){return this._ctx.getLineDash()},t.prototype.setLineDash=function(t){this._ctx.setLineDash(t)},Object.defineProperty(t.prototype,"direction",{get:function(){return this._ctx.direction},set:function(t){this._ctx.direction=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this._ctx.font},set:function(t){this._ctx.font=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._ctx.textAlign},set:function(t){this._ctx.textAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._ctx.textBaseline},set:function(t){this._ctx.textBaseline=t},enumerable:!0,configurable:!0}),t.prototype.arc=function(t,e,i,n,r,o){this._ctx.arc(t*this._rto,e*this._rto,i*this._rto,n,r,o)},t.prototype.arcTo=function(t,e,i,n,r){this._ctx.arcTo(t*this._rto,e*this._rto,i*this._rto,n*this._rto,r*this._rto)},t.prototype.bezierCurveTo=function(t,e,i,n,r,o){this._ctx.bezierCurveTo(t*this._rto,e*this._rto,i*this._rto,n*this._rto,r*this._rto,o*this._rto)},t.prototype.closePath=function(){this._ctx.closePath()},t.prototype.ellipse=function(t,e,i,n,r,o,a,s){this._ctx.ellipse(t,e,i,n,r,o,a,s)},t.prototype.lineTo=function(t,e){this._ctx.lineTo(t*this._rto,e*this._rto)},t.prototype.moveTo=function(t,e){this._ctx.moveTo(t*this._rto,e*this._rto)},t.prototype.quadraticCurveTo=function(t,e,i,n){this._ctx.quadraticCurveTo(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.rect=function(t,e,i,n){this._ctx.rect(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype._drawImageImpl=function(t,e,i,n,r,o,a,s,l){void 0===n?this._ctx.drawImage(t,e,i):void 0===o?this._ctx.drawImage(t,e,i,n,r):this._ctx.drawImage(t,e,i,n,r,o,a,s,l)},t.prototype._drawImagePatchedSource=function(t,e,i,n,r,o,a,s,l){this._drawImageImpl(t,e*this._rto,i*this._rto,void 0===n?n:n*this._rto,void 0===r?r:r*this._rto,void 0===o?o:o*this._rto,void 0===a?a:a*this._rto,void 0===s?s:s*this._rto,void 0===l?l:l*this._rto)},t.prototype._drawImagePatchedSourceAndDest=function(t,e,i,n,r,o,a,s,l){void 0!==o&&("width"in t&&(n=Math.min(t.width,Math.max(1,n))),"height"in t&&(r=Math.min(t.height,Math.max(1,r)))),this._drawImageImpl(t,e*this._rto,i*this._rto,void 0===n?n:n*this._rto,void 0===r?r:r*this._rto,void 0===o?o:o*this._rto,void 0===a?a:a*this._rto,void 0===s?s:s*this._rto,void 0===l?l:l*this._rto)},t}(),_e="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function me(t,e,i){return void 0!==i?i+=" ":i="",void 0===e&&(e=_e),""+i+t+"px "+e}!function(t){t[t.BorderSize=1]="BorderSize",t[t.TickLength=4]="TickLength",t[t.OffsetSize=1]="OffsetSize"}(pe||(pe={}));var ve,ye=function(){function t(t){this._rendererOptions={borderSize:1,tickLength:4,offsetSize:1,fontSize:NaN,font:"",fontFamily:"",color:"",paddingBottom:0,paddingInner:0,paddingOuter:0,paddingTop:0,baselineOffset:0},this._chartModel=t}return t.prototype.options=function(){var t=this._rendererOptions,e=this._fontSize(),i=this._fontFamily();return t.fontSize===e&&t.fontFamily===i||(t.fontSize=e,t.fontFamily=i,t.font=me(e,i),t.paddingTop=Math.floor(e/3.5),t.paddingBottom=t.paddingTop,t.paddingInner=Math.max(Math.ceil(e/2-t.tickLength/2),0),t.paddingOuter=Math.ceil(e/2+t.tickLength/2),t.baselineOffset=Math.round(e/5)),t.color=this._textColor(),this._rendererOptions},t.prototype._textColor=function(){return this._chartModel.options().layout.textColor},t.prototype._fontSize=function(){return this._chartModel.options().layout.fontSize},t.prototype._fontFamily=function(){return this._chartModel.options().layout.fontFamily},t}(),ge=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data){if(t.lineWidth=1,this._data.vertLinesVisible){t.strokeStyle=this._data.vertLinesColor,a(t,this._data.vertLineStyle),t.beginPath();for(var e=0,i=this._data.timeMarks;e<i.length;e++){var n=i[e];t.moveTo(n.coord+1,0),t.lineTo(n.coord+1,this._data.h)}t.stroke()}if(this._data.horzLinesVisible){t.strokeStyle=this._data.horzLinesColor,a(t,this._data.horzLineStyle),t.beginPath();for(var r=0,o=this._data.priceMarks;r<o.length;r++){var s=o[r];t.moveTo(0,s.coord),t.lineTo(this._data.w,s.coord)}t.stroke()}}},t}(),be=function(){function t(t){this._renderer=new ge,this._invalidated=!0,this._pane=t}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(t,e){if(this._invalidated){var i=this._pane.model().options().grid,n={h:t,w:e,horzLinesVisible:i.horzLines.visible,vertLinesVisible:i.vertLines.visible,horzLinesColor:i.horzLines.color,vertLinesColor:i.vertLines.color,horzLineStyle:i.horzLines.style,vertLineStyle:i.vertLines.style,priceMarks:this._pane.defaultPriceScale().marks(),timeMarks:this._pane.model().timeScale().marks()||[]};this._renderer.setData(n),this._invalidated=!1}return this._renderer},t}(),Se=function(){function t(){this._paneViews=new WeakMap,this._invalidated=!0}return t.prototype.paneViews=function(t){var e=this._paneViews.get(t);return void 0===e&&(e=[new be(t)],this._paneViews.set(t,e)),this._invalidated&&(e.forEach(function(t){return t.update()}),this._invalidated=!1),e},t.prototype.invalidate=function(){this._invalidated=!0},t}();!function(t){t[t.None=0]="None",t[t.Cursor=1]="Cursor",t[t.Light=2]="Light",t[t.Full=3]="Full"}(ve||(ve={}));var xe=function(){function t(t){this._invalidatedPanes=new Map,this._force=!1,this._fitContent=!1,this._targetTimeRange=null,this._globalLevel=t}return t.prototype.invalidatePane=function(t,e){var i=function(t,e){return void 0===t?e:{level:Math.max(t.level,e.level),autoScale:t.autoScale||e.autoScale}}(this._invalidatedPanes.get(t),e);this._invalidatedPanes.set(t,i)},t.prototype.invalidateAll=function(t){this._globalLevel=Math.max(this._globalLevel,t)},t.prototype.fullInvalidation=function(){return this._globalLevel},t.prototype.invalidateForPane=function(t){var e=this._invalidatedPanes.get(t);return void 0===e?{level:this._globalLevel}:{level:Math.max(this._globalLevel,e.level),autoScale:e.autoScale}},t.prototype.setFitContent=function(){this._fitContent=!0,this._targetTimeRange=null},t.prototype.getFitContent=function(){return this._fitContent},t.prototype.setTargetTimeRange=function(t){this._targetTimeRange=t,this._fitContent=!1},t.prototype.getTargetTimeRange=function(){return this._targetTimeRange},t.prototype.merge=function(t){var e=this;this._force=this._force||t._force,t._fitContent&&this.setFitContent(),t._targetTimeRange&&this.setTargetTimeRange(t._targetTimeRange),this._globalLevel=Math.max(this._globalLevel,t._globalLevel),t._invalidatedPanes.forEach(function(t,i){e.invalidatePane(i,t)})},t}(),we=function(){function t(t){this._options=t}return t.prototype.align=function(t,e,i){var n=t;if(0===this._options.mode)return n;var r=i.defaultPriceScale(),o=r.mainSource();if(r.isEmpty()||null===o)return n;var a=o.firstValue();if(null===a)return n;var s=r.priceToCoordinate(t,a),l=i.dataSources().filter(function(t){return t instanceof ee}).reduce(function(t,n){if(i.isOverlay(n))return t;var r=n.priceScale(),o=n.bars();if(r.isEmpty()||!o.contains(e))return t;var a=o.valueAt(e);if(null===a)return t;var s=[a.value[3]],l=p(n.firstValue());return t.concat(s.map(function(t){return r.priceToCoordinate(t,l,!0)}))},[]);if(0===l.length)return n;l.sort(function(t,e){return Math.abs(t-s)-Math.abs(e-s)});var u=l[0];return r.coordinateToPrice(u,a)},t}(),ke=1e3,Ce=function(){function t(t,e){this._dataSources=[],this._overlaySources=[],this._height=0,this._width=0,this._stretchFactor=ke,this._mainDataSource=null,this._cachedOrderedSources=null,this._destroyed=new G,this._timeScale=t,this._model=e,this.model().mainPriceScaleOptionsChanged().subscribe(this.onPriceScaleOptionsChanged.bind(this),this),this._defaultNonOverlayPriceScale=this._createPriceScale()}return t.prototype.onPriceScaleOptionsChanged=function(){this._defaultNonOverlayPriceScale.applyOptions(this._model.options().priceScale)},t.prototype.destroy=function(){this.model().mainPriceScaleOptionsChanged().unsubscribeAll(this),this._timeScale.barSpacingChanged().unsubscribeAll(this),this._defaultNonOverlayPriceScale.modeChanged().unsubscribeAll(this),this._dataSources.forEach(function(t){t.destroy&&t.destroy()}),this._destroyed.fire()},t.prototype.stretchFactor=function(){return this._stretchFactor},t.prototype.setStretchFactor=function(t){this._stretchFactor=t},t.prototype.model=function(){return this._model},t.prototype.width=function(){return this._width},t.prototype.height=function(){return this._height},t.prototype.setWidth=function(t){this._width=t,this.updateAllViews()},t.prototype.setHeight=function(t){var e=this;this._height=t,this._defaultNonOverlayPriceScale.setHeight(t),this._dataSources.forEach(function(i){if(e.isOverlay(i)){var n=i.priceScale();null!==n&&n.setHeight(t)}}),this.updateAllViews()},t.prototype.dataSources=function(){return this._dataSources},t.prototype.isOverlay=function(t){var e=t.priceScale();return null===e||this._defaultNonOverlayPriceScale!==e},t.prototype.addDataSource=function(t,e,i){var n=this._getZOrderMinMax().minZOrder-1;this._insertDataSource(t,e,n)},t.prototype.removeDataSource=function(t){var e=this._dataSources.indexOf(t);c(-1!==e,"removeDataSource: invalid data source"),this._dataSources.splice(e,1),t===this._mainDataSource&&(this._mainDataSource=null);var i=this._overlaySources.indexOf(t);-1!==i&&this._overlaySources.splice(i,1);var n=t.priceScale();if(n&&n.dataSources().indexOf(t)>=0&&n.removeDataSource(t),n&&null===n.mainSource()){var r=n.dataSources().length;c(0===r,"Invalid priceScale state: empty mainSource but non-empty data sources="+r),n!==this._defaultNonOverlayPriceScale&&n.modeChanged().unsubscribeAll(this)}t instanceof Z&&this._processMainSourceChange(),n&&t instanceof Z&&(n.invalidateSourcesCache(),this.recalculatePriceScale(n)),this._cachedOrderedSources=null},t.prototype.priceScalePosition=function(){var t=this._model.options().priceScale.position;return"none"===t?"overlay":t},t.prototype.startScalePrice=function(t,e){t.startScale(e)},t.prototype.scalePriceTo=function(t,e){t.scaleTo(e),this.updateAllViews()},t.prototype.endScalePrice=function(t){t.endScale()},t.prototype.startScrollPrice=function(t,e){t.startScroll(e)},t.prototype.scrollPriceTo=function(t,e){t.scrollTo(e),this.updateAllViews()},t.prototype.endScrollPrice=function(t){t.endScroll()},t.prototype.setPriceAutoScale=function(t,e){t.setMode({autoScale:e}),this._timeScale.isEmpty()?t.setPriceRange(null):this.recalculatePriceScale(t)},t.prototype.updateAllViews=function(){this._dataSources.forEach(function(t){t.updateAllViews()})},t.prototype.defaultPriceScale=function(){var t=this.mainDataSource(),e=null!==t?t.priceScale():null;return null===e&&(e=this._defaultNonOverlayPriceScale),e},t.prototype.mainDataSource=function(){return this._mainDataSource},t.prototype.recalculatePriceScale=function(t){null!==t&&t.isAutoScale()&&this._recalculatePriceScaleImpl(t)},t.prototype.resetPriceScale=function(t){var e=this._timeScale.visibleBars();t.setMode({autoScale:!0}),null!==e&&t.recalculatePriceRange(e),this.updateAllViews()},t.prototype.momentaryAutoScale=function(){this._recalculatePriceScaleImpl(this._defaultNonOverlayPriceScale)},t.prototype.recalculate=function(){var t=this;this.recalculatePriceScale(this._defaultNonOverlayPriceScale),this._dataSources.forEach(function(e){t.isOverlay(e)&&t.recalculatePriceScale(e.priceScale())}),this.updateAllViews(),this._model.updatePane(this)},t.prototype.isEmpty=function(){return null===this._mainDataSource},t.prototype.containsSeries=function(){return this._dataSources.some(function(t){return t instanceof ee})},t.prototype.orderedSources=function(){return null===this._cachedOrderedSources&&(this._cachedOrderedSources=ie(this._dataSources)),this._cachedOrderedSources},t.prototype.onDestroyed=function(){return this._destroyed},t.prototype._findSuitableScale=function(t,e){return"overlay"!==e?this._defaultNonOverlayPriceScale:this._createPriceScale()},t.prototype._recalculatePriceScaleImpl=function(t){var e=t.sourcesForAutoScale();if(e&&e.length>0&&!this._timeScale.isEmpty()){var i=this._timeScale.visibleBars();null!==i&&t.recalculatePriceRange(i)}t.updateAllViews()},t.prototype._getZOrderMinMax=function(){var t=this.orderedSources();if(0===t.length)return{minZOrder:0,maxZOrder:0};for(var e=0,i=0,n=0;n<t.length;n++){var r=t[n].zorder();null!==r&&(r<e&&(e=r),r>i&&(i=r))}return{minZOrder:e,maxZOrder:i}},t.prototype._insertDataSource=function(t,e,i){var n="overlay",r=null;if(!e){var o=this.model().options().priceScale.position;n="none"===o?"overlay":o}t instanceof Z&&(r=this._findSuitableScale(t,n)),this._dataSources.push(t),e&&this._overlaySources.push(t),null!==r&&(r.addDataSource(t),t.setPriceScale(r)),t.setZorder(i),this._processMainSourceChange(),t instanceof Z&&this.recalculatePriceScale(r),this._cachedOrderedSources=null},t.prototype._onPriceScaleModeChanged=function(t,e,i){e.mode!==i.mode&&this._recalculatePriceScaleImpl(t)},t.prototype._processMainSourceChange=function(){if(null===this._mainDataSource||-1!==this._overlaySources.indexOf(this._mainDataSource)){for(var t=0,e=this._dataSources;t<e.length;t++)if((r=e[t])instanceof Z&&!this.isOverlay(r))return void this._setMainSource(r);for(var i=0,n=this._overlaySources;i<n.length;i++){var r;if((r=n[i])instanceof Z)return void this._setMainSource(r)}}},t.prototype._setMainSource=function(t){var e=d(t.priceScale());this.defaultPriceScale().modeChanged().unsubscribeAll(this),e.modeChanged().subscribe(this._onPriceScaleModeChanged.bind(this,e),this),this._mainDataSource=t},t.prototype._createPriceScale=function(){var t=new oe(g(this._model.options().priceScale),this._model.options().layout,this._model.options().localization);return t.setHeight(this.height()),t},t}(),Te=function(t){return t.getUTCFullYear()},Pe=function(t){return q(function(t){return t.getUTCDate()}(t),2)},Ee=function(t){return q(function(t){return t.getUTCMonth()+1}(t),2)},Me=function(t){return q(Te(t)%100,2)},Re=function(t){return q(Te(t),4)},De={"dd MMM 'yy":function(t,e){return Pe(t)+" "+function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"})}(t,e)+" '"+Me(t)},"yyyy-MM-dd":function(t,e){return Re(t)+"-"+Ee(t)+"-"+Pe(t)},"yy-MM-dd":function(t,e){return Me(t)+"-"+Ee(t)+"-"+Pe(t)},"yy/MM/dd":function(t,e){return Me(t)+"/"+Ee(t)+"/"+Pe(t)},"yyyy/MM/dd":function(t,e){return Re(t)+"/"+Ee(t)+"/"+Pe(t)},"dd-MM-yyyy":function(t,e){return Pe(t)+"-"+Ee(t)+"-"+Re(t)},"dd-MM-yy":function(t,e){return Pe(t)+"-"+Ee(t)+"-"+Me(t)},"dd/MM/yy":function(t,e){return Pe(t)+"/"+Ee(t)+"/"+Me(t)},"dd/MM/yyyy":function(t,e){return Pe(t)+"/"+Ee(t)+"/"+Re(t)},"MM/dd/yy":function(t,e){return Ee(t)+"/"+Pe(t)+"/"+Me(t)},"MM/dd/yyyy":function(t,e){return Ee(t)+"/"+Pe(t)+"/"+Re(t)}},Ie=function(){function t(t,e){void 0===t&&(t="yyyy-MM-dd"),void 0===e&&(e="default"),this._dateFormatFunc=De[t],this._locale=e}return t.prototype.format=function(t){return this._dateFormatFunc(t,this._locale)},t}(),Oe=function(){function t(t){this._formatStr=t||"%h:%m:%s"}return t.prototype.format=function(t){return this._formatStr.replace("%h",q(t.getUTCHours(),2)).replace("%m",q(t.getUTCMinutes(),2)).replace("%s",q(t.getUTCSeconds(),2))},t}(),ze={dateFormat:"yyyy-MM-dd",timeFormat:"%h:%m:%s",dateTimeSeparator:" ",locale:"default"},Ae=function(){function t(t){void 0===t&&(t={});var e=u({},ze,t);this._dateFormatter=new Ie(e.dateFormat,e.locale),this._timeFormatter=new Oe(e.timeFormat),this._separator=e.dateTimeSeparator}return t.prototype.format=function(t){return""+this._dateFormatter.format(t)+this._separator+this._timeFormatter.format(t)},t}(),Le=function(){function t(t,e){c(t<=e,"The last bar in the bars range should be greater than or equal to the first bar"),this._firstBar=t,this._lastBar=e}return t.prototype.firstBar=function(){return this._firstBar},t.prototype.lastBar=function(){return this._lastBar},t.prototype.count=function(){return this._lastBar-this._firstBar+1},t.prototype.contains=function(t){return this._firstBar<=t&&t<=this._lastBar},t.prototype.equals=function(t){return this._firstBar===t.firstBar()&&this._lastBar===t.lastBar()},t}(),Ve=function(){function t(t,e){void 0===e&&(e=50),this._actualSize=0,this._usageTick=1,this._oldestTick=1,this._cache=new Map,this._tick2Labels=new Map,this._format=t,this._maxSize=e}return t.prototype.format=function(t){var e=this._cache.get(t.valueOf());if(void 0!==e)return e.string;if(this._actualSize===this._maxSize){var i=this._tick2Labels.get(this._oldestTick);this._tick2Labels.delete(this._oldestTick),this._cache.delete(h(i)),this._oldestTick++,this._actualSize--}var n=this._format(t);return this._cache.set(t.valueOf(),{string:n,tick:this._usageTick}),this._tick2Labels.set(this._usageTick,t.valueOf()),this._actualSize++,this._usageTick++,n},t}();function Ne(t,e){return t.index-e.index}var Be,Fe,We=function(){function t(){this._minIndex=1/0,this._maxIndex=-1/0,this._marksByIndex=new Map,this._marksBySpan=[],this._changed=new G,this._cache=null,this._maxBar=NaN}return t.prototype.reset=function(){this._marksByIndex.clear(),this._marksBySpan=[],this._minIndex=1/0,this._maxIndex=-1/0,this._cache=null,this._changed.fire()},t.prototype.merge=function(t){for(var e=this._marksBySpan,i={},n=0,r=t;n<r.length;n++){var o=r[n],a=o.index,s=o.span,l=this._marksByIndex.get(o.index);if(l){if(l.index===o.index&&l.span===o.span){l.time=o.time;continue}this._removeTickMark(l)}this._marksByIndex.set(a,o),this._minIndex>a&&(this._minIndex=a),this._maxIndex<a&&(this._maxIndex=a),void 0===(u=e[s])&&(u=[],e[s]=u),u.push(o),i[s]=!0}for(s=e.length;s--;){var u;void 0!==(u=e[s])&&(0===u.length&&delete e[s],i[s]&&u.sort(Ne))}this._cache=null,this._changed.fire()},t.prototype.indexToTime=function(t){var e=this._marksByIndex.get(t);return void 0===e?null:e.time},t.prototype.nearestIndex=function(t){for(var e=this._minIndex,i=this._maxIndex;i-e>2;){if(1e3*h(this._marksByIndex.get(e)).time.timestamp===t)return e;if(1e3*h(this._marksByIndex.get(i)).time.timestamp===t)return i;var n=Math.round((e+i)/2);1e3*h(this._marksByIndex.get(n)).time.timestamp>t?i=n:e=n}return e},t.prototype.build=function(t,e){var i=Math.ceil(e/t);if(this._maxBar===i&&this._cache)return this._cache;this._maxBar=i;for(var n=[],r=this._marksBySpan.length;r--;)if(this._marksBySpan[r]){var o=n;n=[];for(var a=o.length,s=0,l=h(this._marksBySpan[r]),u=l.length,c=1/0,d=-1/0,p=0;p<u;p++){for(var f=l[p],_=f.index;s<a;){var m=o[s],v=m.index;if(!(v<_)){c=v;break}s++,n.push(m),d=v,c=1/0}c-_>=i&&_-d>=i&&(n.push(f),d=_)}for(;s<a;s++)n.push(o[s])}return this._cache=n,this._cache},t.prototype._removeTickMark=function(t){var e=t.index;if(this._marksByIndex.get(e)===t){this._marksByIndex.delete(e),e<=this._minIndex&&this._minIndex++,e>=this._maxIndex&&this._maxIndex--,this._maxIndex<this._minIndex&&(this._minIndex=1/0,this._maxIndex=-1/0);var i=h(this._marksBySpan[t.span]),n=i.indexOf(t);-1!==n&&i.splice(n,1)}},t}(),Ue=function(){function t(){this._items=[]}return t.prototype.clear=function(){this._items=[]},t.prototype.size=function(){return this._items.length},t.prototype.firstIndex=function(){return this._offsetToIndex(0)},t.prototype.lastIndex=function(){return this._offsetToIndex(this._items.length-1)},t.prototype.merge=function(t,e){if(0!==e.length)if(0!==this._items.length){var i=t;if(i<0){var n=Math.abs(i);if(e.length<n)return;this._items=new Array(n).concat(this._items);for(var r=0;r<e.length;++r)this._items[t+r]=e[r]}else{for(var o=i;o<this._items.length&&o-i<e.length;++o)this._items[o]=e[o-i];var a=i+e.length;if(a>this._items.length){n=a-this._items.length;for(var s=o;s<o+n;++s)this._items.push(e[s-i])}}}else this._items=e},t.prototype.valueAt=function(t){var e=this._indexToOffset(t);return null!==e?this._items[e]:null},t.prototype.indexOf=function(t,e){if(this._items.length<1)return null;if(t>this._items[this._items.length-1].timestamp)return e?this._items.length-1:null;for(var i=0;i<this._items.length;++i){if(t===this._items[i].timestamp)return i;if(t<this._items[i].timestamp)return e?i:null}return null},t.prototype.closestIndexLeft=function(t){var e=this._items;if(!e.length)return null;if(Number.isNaN(t.timestamp))return null;var i=e.length-1;if(t>=e[i])return i;var n=0,r=e[n];if(t<r)return null;if(t===r)return n;for(;i>n+1;){var o=n+i>>1,a=e[o];if(a.timestamp>t.timestamp)i=o;else{if(!(a.timestamp<t.timestamp))return a.timestamp===t.timestamp?o:null;n=o}}return n},t.prototype._offsetToIndex=function(t){return 0<=t&&t<this.size()?t:null},t.prototype._indexToOffset=function(t){return 0<=t&&t<this.size()?t:null},t}();!function(t){t[t.DefaultAnimationDuration=400]="DefaultAnimationDuration",t[t.MaxBarSpacing=50]="MaxBarSpacing",t[t.MinBarSpacing=.5]="MinBarSpacing",t[t.MinVisibleBarsCount=5]="MinVisibleBarsCount"}(Be||(Be={})),function(t){t[t.Minute=20]="Minute",t[t.Hour=30]="Hour",t[t.Day=40]="Day",t[t.Week=50]="Week",t[t.Month=60]="Month",t[t.Year=70]="Year"}(Fe||(Fe={}));var He=function(){function t(t,e,i){this._width=0,this._baseIndexOrNull=null,this._points=new Ue,this._barSpacingChanged=new G,this._scrollStartPoint=null,this._scaleStartPoint=null,this._tickMarks=new We,this._formattedBySpan=new Map,this._visibleBars=null,this._visibleBarsInvalidated=!0,this._visibleBarsChanged=new G,this._optionsApplied=new G,this._leftEdgeIndex=null,this._commonTransitionStartState=null,this._timeMarksCache=null,this._labels=[],this._options=e,this._localizationOptions=i,this._rightOffset=e.rightOffset,this._barSpacing=je(e.barSpacing),this._model=t,this._updateDateTimeFormatter()}return t.prototype.options=function(){return this._options},t.prototype.applyLocalizationOptions=function(t){f(this._localizationOptions,t),this._invalidateTickMarks(),this._updateDateTimeFormatter()},t.prototype.applyOptions=function(t,e){if(f(this._options,t),this._options.fixLeftEdge){var i=this._points.firstIndex();null!==i&&this.setLeftEdgeFix(i)}else this._leftEdgeIndex=null;void 0!==t.rightOffset&&this.setRightOffset(t.rightOffset),void 0!==t.barSpacing&&this.setBarSpacing(t.barSpacing),this._invalidateTickMarks(),this._updateDateTimeFormatter(),this._optionsApplied.fire()},t.prototype.isEmpty=function(){return 0===this._width||0===this._points.size()},t.prototype.visibleBars=function(){return this._visibleBarsInvalidated&&(this._visibleBarsInvalidated=!1,this._updateVisibleBars()),this._visibleBars},t.prototype.tickMarks=function(){return this._tickMarks},t.prototype.points=function(){return this._points},t.prototype.width=function(){return this._width},t.prototype.setWidth=function(t){if(isFinite(t)&&!(t<=0)&&this._width!==t){if(this._visibleBarsInvalidated=!0,this._options.lockVisibleTimeRangeOnResize&&this._width){var e=this._barSpacing*t/this._width;this._setBarSpacing(e)}if(null!==this._leftEdgeIndex&&d(this.visibleBars()).firstBar()<=this._leftEdgeIndex){var i=this._width-t;this._rightOffset-=Math.round(i/this._barSpacing)+1}this._width=t,this._correctOffset()}},t.prototype.indexToCoordinate=function(t,e){if(this.isEmpty()||!m(t))return 0;var i=this.baseIndex()+this._rightOffset-t,n=this._width-(i+.5)*this._barSpacing;return e?n:Math.round(n)},t.prototype.indexesToCoordinates=function(t,e){for(var i=this.baseIndex(),n=void 0===e?0:e.from,r=void 0===e?t.length:e.to,o=n;o<r;o++){var a=t[o].time,s=i+this._rightOffset-a,l=this._width-(s+.5)*this._barSpacing;t[o].x=Math.round(l)}},t.prototype.indexToUserTime=function(t){return this._tickMarks.indexToTime(t)},t.prototype.coordinateToIndex=function(t){return Math.ceil(this._coordinateToFloatIndex(t))},t.prototype.setRightOffset=function(t){this._visibleBarsInvalidated=!0,this._rightOffset=t,this._correctOffset(),this._model.recalculateAllPanes(),this._model.lightUpdate()},t.prototype.barSpacing=function(){return this._barSpacing},t.prototype.setBarSpacing=function(t){this._setBarSpacing(t),this._correctOffset()},t.prototype.barSpacingChanged=function(){return this._barSpacingChanged},t.prototype.rightOffset=function(){return this._rightOffset},t.prototype.marks=function(){if(this.isEmpty())return null;if(null!==this._timeMarksCache)return this._timeMarksCache;for(var t=this._barSpacing,e=5*(this._model.options().layout.fontSize+4),i=Math.round(e/t),n=d(this.visibleBars()),r=Math.max(n.firstBar(),n.firstBar()-i),o=Math.max(n.lastBar(),n.lastBar()-i),a=0,s=0,l=this._tickMarks.build(t,e);s<l.length;s++){var u=l[s];if(r<=u.index&&u.index<=o){var c=this._tickMarks.indexToTime(u.index);if(null!==c){if(a<this._labels.length){var h=this._labels[a];h.coord=this.indexToCoordinate(u.index),h.label=this._formatLabel(c,u.span),h.span=u.span,h.major=!1}else this._labels.push({coord:this.indexToCoordinate(u.index),label:this._formatLabel(c,u.span),span:u.span,major:!1});a++}}}return this._labels.length=a,this._timeMarksCache=this._labels,this._labels},t.prototype.reset=function(){this._visibleBarsInvalidated=!0,this._points=new Ue,this._scrollStartPoint=null,this._scaleStartPoint=null,this._clearCommonTransitionsStartState(),this._tickMarks.reset(),this._leftEdgeIndex=null},t.prototype.restoreDefault=function(){this._visibleBarsInvalidated=!0,this.setBarSpacing(this._options.barSpacing),this.setRightOffset(this._options.rightOffset)},t.prototype.setLeftEdgeFix=function(t){this._leftEdgeIndex=t;var e=d(this.visibleBars()).firstBar()-t;if(e<0){var i=this._rightOffset-e-1;this.scrollToOffsetAnimated(i,500)}},t.prototype.fixLeftEdge=function(){return this._options.fixLeftEdge},t.prototype.setBaseIndex=function(t){this._visibleBarsInvalidated=!0,this._baseIndexOrNull=t,this._correctOffset()},t.prototype.zoom=function(t,e){var i=this._coordinateToFloatIndex(t),n=this.barSpacing(),r=n+e*(n/10);this.setBarSpacing(r),this._options.rightBarStaysOnScroll||this.setRightOffset(this.rightOffset()+(i-this._coordinateToFloatIndex(t)))},t.prototype.startScale=function(t){this._scrollStartPoint&&this.endScroll(),null===this._scaleStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this._scaleStartPoint=t,this._saveCommonTransitionsStartState()))},t.prototype.scaleTo=function(t){if(null!==this._commonTransitionStartState){var e=tt(this._width-t,0,this._width),i=tt(this._width-d(this._scaleStartPoint),0,this._width);0!==e&&0!==i&&this.setBarSpacing(this._commonTransitionStartState.barSpacing*e/i)}},t.prototype.endScale=function(){null!==this._scaleStartPoint&&(this._scaleStartPoint=null,this._clearCommonTransitionsStartState())},t.prototype.startScroll=function(t){null===this._scrollStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this._scrollStartPoint=t,this._saveCommonTransitionsStartState()))},t.prototype.scrollTo=function(t){if(this._visibleBarsInvalidated=!0,null!==this._scrollStartPoint){var e=(this._scrollStartPoint-t)/this.barSpacing();this._rightOffset=d(this._commonTransitionStartState).rightOffset+e,this._correctOffset()}},t.prototype.endScroll=function(){null!==this._scrollStartPoint&&(this._scrollStartPoint=null,this._clearCommonTransitionsStartState())},t.prototype.scrollToRealTime=function(){this.scrollToOffsetAnimated(this._options.rightOffset)},t.prototype.scrollToOffsetAnimated=function(t,e){var i=this;if(void 0===e&&(e=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var n=this._rightOffset,r=(new Date).getTime();!function o(){var a=((new Date).getTime()-r)/e,s=a>=1,l=s?t:n+(t-n)*a;i.setRightOffset(l),s||setTimeout(o,20)}()},t.prototype.update=function(t,e,i){if(this._visibleBarsInvalidated=!0,e.length>0){var n=this._points.size();this._points.merge(t,e),this._rightOffset<0&&this._points.size()===n+1&&(this._rightOffset-=1,this._visibleBarsInvalidated=!0)}this._tickMarks.merge(i),this._correctOffset()},t.prototype.visibleBarsChanged=function(){return this._visibleBarsChanged},t.prototype.optionsApplied=function(){return this._optionsApplied},t.prototype.baseIndex=function(){return this._baseIndexOrNull||0},t.prototype.setVisibleRange=function(t){var e=t.count();this._setBarSpacing(this._width/e),this._rightOffset=t.lastBar()-this.baseIndex(),this._correctOffset(),this._visibleBarsInvalidated=!0,this._model.recalculateAllPanes(),this._model.lightUpdate()},t.prototype.fitContent=function(){var t=this._points.firstIndex(),e=this._points.lastIndex();null!==t&&null!==e&&this.setVisibleRange(new Le(t-1,e+1+this._options.rightOffset))},t.prototype.setTimePointsRange=function(t){var e=this.points(),i=e.firstIndex(),n=e.lastIndex();if(null!==i&&null!==n){var r=d(e.valueAt(i)).timestamp,o=d(e.valueAt(n)).timestamp,a=new Le(d(e.indexOf(Math.max(r,t.from.timestamp),!0)),d(e.indexOf(Math.min(o,t.to.timestamp),!0)));this.setVisibleRange(a)}},t.prototype.formatDateTime=function(t){return void 0!==this._localizationOptions.timeFormatter?this._localizationOptions.timeFormatter(t.businessDay||t.timestamp):this._dateTimeFormatter.format(new Date(1e3*t.timestamp))},t.prototype._rightOffsetForCoordinate=function(t){return(this._width+1-t)/this._barSpacing},t.prototype._coordinateToFloatIndex=function(t){var e=this._rightOffsetForCoordinate(t),i=this.baseIndex()+this._rightOffset-e;return Math.round(1e6*i)/1e6},t.prototype._setBarSpacing=function(t){t=je(t);var e=this._barSpacing;e!==t&&(this._visibleBarsInvalidated=!0,this._barSpacing=t,this._barSpacingChanged.fire(e,t),this._resetTimeMarksCache())},t.prototype._updateVisibleBars=function(){if(this.isEmpty())this._setVisibleBars(null);else{var t=this.baseIndex(),e=Math.ceil(this._width/this._barSpacing)-1,i=Math.round(this._rightOffset+t),n=i-e;this._setVisibleBars(new Le(n,i))}},t.prototype._correctOffset=function(){var t=this._maxRightOffset();this._rightOffset>t&&(this._rightOffset=t,this._visibleBarsInvalidated=!0);var e=this._minRightOffset();null!==e&&this._rightOffset<e&&(this._rightOffset=e,this._visibleBarsInvalidated=!0)},t.prototype._minRightOffset=function(){var t=this._points.firstIndex(),e=this._baseIndexOrNull;if(null===t||null===e)return null;if(null!==this._leftEdgeIndex){var i=this._width/this._barSpacing;return this._leftEdgeIndex-e+i-1}return t-e-1+5},t.prototype._maxRightOffset=function(){return this._width/this._barSpacing-5},t.prototype._saveCommonTransitionsStartState=function(){this._commonTransitionStartState={barSpacing:this.barSpacing(),rightOffset:this.rightOffset()}},t.prototype._clearCommonTransitionsStartState=function(){this._commonTransitionStartState=null},t.prototype._formatLabel=function(t,e){var i=this,n=this._formattedBySpan.get(e);return void 0===n&&(n=new Ve(function(t){return i._formatLabelImpl(t,e)}),this._formattedBySpan.set(e,n)),void 0===t.businessDay?n.format(new Date(1e3*t.timestamp)):n.format(new Date(Date.UTC(t.businessDay.year,t.businessDay.month-1,t.businessDay.day)))},t.prototype._formatLabelImpl=function(t,e){var i={},n=this._options.timeVisible;return e<20&&n?(i.hour12=!1,i.hour="2-digit",i.minute="2-digit",this._options.secondsVisible&&(i.second="2-digit")):e<40&&n?(i.hour12=!1,i.hour="2-digit",i.minute="2-digit"):e<50?i.day="numeric":e<60?i.day="numeric":e<70?i.month="short":i.year="numeric",new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()).toLocaleString(this._localizationOptions.locale,i)},t.prototype._setVisibleBars=function(t){if(null!==t||null!==this._visibleBars){var e=this._visibleBars;this._visibleBars=t,(null===this._visibleBars||null!==e&&!this._visibleBars.equals(e))&&this._visibleBarsChanged.fire(),this._resetTimeMarksCache()}},t.prototype._resetTimeMarksCache=function(){this._timeMarksCache=null},t.prototype._invalidateTickMarks=function(){this._resetTimeMarksCache(),this._formattedBySpan.clear()},t.prototype._updateDateTimeFormatter=function(){var t=this._localizationOptions.dateFormat;this._options.timeVisible?this._dateTimeFormatter=new Ae({dateFormat:t,timeFormat:this._options.secondsVisible?"%h:%m:%s":"%h:%m",dateTimeSeparator:"   ",locale:this._localizationOptions.locale}):this._dateTimeFormatter=new Ie(t,this._localizationOptions.locale)},t}();function je(t){return t<.5?.5:t>50?50:t}var Ye=function(){function t(t){this._metricsCache=new Map,this._data=t}return t.prototype.draw=function(t){},t.prototype.drawBackground=function(t){if(this._data.visible){t.save();for(var e=0,i=0,n=this._data.lines;i<n.length;i++)if(0!==(l=n[i]).text.length){t.font=l.font;var r=this._metrics(t,l.text);r>this._data.width?l.zoom=this._data.width/r:l.zoom=1,e+=l.lineHeight*l.zoom}var o=0;switch(this._data.vertAlign){case"top":o=0;break;case"center":o=Math.max((this._data.height-e)/2,0);break;case"bottom":o=Math.max(this._data.height-e,0)}t.fillStyle=this._data.color;for(var a=0,s=this._data.lines;a<s.length;a++){var l=s[a];t.save();var u=0;switch(this._data.horzAlign){case"left":t.textAlign="left",u=l.lineHeight/2;break;case"center":t.textAlign="center",u=this._data.width/2;break;case"right":t.textAlign="right",u=this._data.width-1-l.lineHeight/2}t.translate(u,o),t.textBaseline="top",t.font=l.font,t.scale(l.zoom,l.zoom),t.fillText(l.text,0,l.vertOffset),t.restore(),o+=l.lineHeight*l.zoom}t.restore()}},t.prototype._metrics=function(t,e){var i=this._fontCache(t.font),n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n},t.prototype._fontCache=function(t){var e=this._metricsCache.get(t);return void 0===e&&(e=new Map,this._metricsCache.set(t,e)),e},t}(),Xe=function(){function t(t){this._invalidated=!0,this._rendererData={visible:!1,color:"",height:0,width:0,lines:[],vertAlign:"center",horzAlign:"center"},this._renderer=new Ye(this._rendererData),this._source=t}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(t,e){return this._invalidated&&(this._updateImpl(t,e),this._invalidated=!1),this._renderer},t.prototype._updateImpl=function(t,e){var i=this._source.options(),n=this._rendererData;n.visible=i.visible,n.visible&&(n.color=i.color,n.width=e,n.height=t,n.horzAlign=i.horzAlign,n.vertAlign=i.vertAlign,n.lines=[{text:i.text,font:me(i.fontSize),lineHeight:1.2*i.fontSize,vertOffset:0,zoom:0}])},t}(),qe=function(t){function e(e,i){var n=t.call(this)||this;return n._options=i,n._paneView=new Xe(n),n}return l(e,t),e.prototype.paneViews=function(){return[this._paneView]},e.prototype.options=function(){return this._options},e.prototype.updateAllViews=function(){this._paneView.update()},e}(Y),$e=function(){function t(t,e){this._panes=[],this._serieses=[],this._width=0,this._initialTimeScrollPos=null,this._hoveredSource=null,this._mainPriceScaleOptionsChanged=new G,this._crosshairMoved=new G,this._invalidateHandler=t,this._options=e,this._rendererOptionsProvider=new ye(this),this._timeScale=new He(this,e.timeScale,this._options.localization),this._grid=new Se,this._crosshair=new X(this,e.crosshair),this._magnet=new we(e.crosshair),this._watermark=new qe(this,e.watermark),this.createPane(),this._panes[0].setStretchFactor(2*ke),this._panes[0].addDataSource(this._watermark,!0,!1)}return t.prototype.updatePane=function(t){var e=this._paneInvalidationMask(t,0);this._invalidate(e)},t.prototype.fullUpdate=function(){this._invalidate(new xe(3))},t.prototype.lightUpdate=function(){this._invalidate(new xe(2))},t.prototype.updateSource=function(t){var e=this._invalidationMaskForSource(t);this._invalidate(e)},t.prototype.hoveredSource=function(){return this._hoveredSource},t.prototype.setHoveredSource=function(t){this._hoveredSource=t},t.prototype.options=function(){return this._options},t.prototype.applyOptions=function(t){f(this._options,t),void 0!==t.priceScale&&(this.mainPriceScale().applyOptions(t.priceScale),this._mainPriceScaleOptionsChanged.fire()),void 0!==t.timeScale&&this._timeScale.applyOptions(t.timeScale),void 0!==t.localization&&(this._timeScale.applyLocalizationOptions(t.localization),this.mainPriceScale().updateFormatter()),this.fullUpdate()},t.prototype.updateAllPaneViews=function(){this._panes.forEach(function(t){return t.updateAllViews()})},t.prototype.timeScale=function(){return this._timeScale},t.prototype.panes=function(){return this._panes},t.prototype.gridSource=function(){return this._grid},t.prototype.watermarkSource=function(){return this._watermark},t.prototype.crosshairSource=function(){return this._crosshair},t.prototype.crosshairMoved=function(){return this._crosshairMoved},t.prototype.width=function(){return this._width},t.prototype.setPaneHeight=function(t,e){t.setHeight(e),this.recalculateAllPanes(),this.lightUpdate()},t.prototype.setWidth=function(t){this._width=t,this._timeScale.setWidth(this._width),this._panes.forEach(function(e){return e.setWidth(t)}),this.recalculateAllPanes()},t.prototype.createPane=function(t){var e=new Ce(this._timeScale,this);void 0!==t?this._panes.splice(t,0,e):this._panes.push(e);var i=void 0===t?this._panes.length-1:t,n=new xe(3);return n.invalidatePane(i,{level:0,autoScale:!0}),this.invalidate(n),e},t.prototype.startScalePrice=function(t,e,i){t.startScalePrice(e,i)},t.prototype.scalePriceTo=function(t,e,i){t.scalePriceTo(e,i),this.updateCrosshair(),this._invalidate(this._paneInvalidationMask(t,2))},t.prototype.endScalePrice=function(t,e){t.endScalePrice(e),this._invalidate(this._paneInvalidationMask(t,2))},t.prototype.startScrollPrice=function(t,e,i){e.isAutoScale()||t.startScrollPrice(e,i)},t.prototype.scrollPriceTo=function(t,e,i){e.isAutoScale()||(t.scrollPriceTo(e,i),this.updateCrosshair(),this._invalidate(this._paneInvalidationMask(t,2)))},t.prototype.endScrollPrice=function(t,e){e.isAutoScale()||(t.endScrollPrice(e),this._invalidate(this._paneInvalidationMask(t,2)))},t.prototype.setPriceAutoScale=function(t,e,i){t.setPriceAutoScale(e,i),this._invalidate(this._paneInvalidationMask(t,2))},t.prototype.resetPriceScale=function(t,e){t.resetPriceScale(e),this._invalidate(this._paneInvalidationMask(t,2))},t.prototype.startScaleTime=function(t){this._timeScale.startScale(t)},t.prototype.zoomTime=function(t,e){var i=this.timeScale();if(!i.isEmpty()&&0!==e){var n=i.width();t=Math.max(1,Math.min(t,n)),i.zoom(t,e),this.updateCrosshair(),this.recalculateAllPanes(),this.lightUpdate()}},t.prototype.scrollChart=function(t){this.startScrollTime(0),this.scrollTimeTo(t),this.endScrollTime()},t.prototype.scaleTimeTo=function(t){this._timeScale.scaleTo(t),this.recalculateAllPanes(),this.updateCrosshair(),this.lightUpdate()},t.prototype.endScaleTime=function(){this._timeScale.endScale(),this.lightUpdate()},t.prototype.startScrollTime=function(t){this._initialTimeScrollPos=t,this._timeScale.startScroll(t)},t.prototype.scrollTimeTo=function(t){var e=!1;return null!==this._initialTimeScrollPos&&Math.abs(t-this._initialTimeScrollPos)>20&&(this._initialTimeScrollPos=null,e=!0),this._timeScale.scrollTo(t),this.recalculateAllPanes(),this.updateCrosshair(),this.lightUpdate(),e},t.prototype.endScrollTime=function(){this._timeScale.endScroll(),this.lightUpdate(),this._initialTimeScrollPos=null},t.prototype.resetTimeScale=function(){this._timeScale.restoreDefault(),this.recalculateAllPanes(),this.updateCrosshair(),this.lightUpdate()},t.prototype.invalidate=function(t){this._invalidateHandler&&this._invalidateHandler(t),this._grid.invalidate(),this.lightUpdate()},t.prototype.dataSources=function(){return this._panes.reduce(function(t,e){return t.concat(e.dataSources())},[])},t.prototype.serieses=function(){return this._serieses},t.prototype.setAndSaveCurrentPosition=function(t,e,i){this._crosshair.saveOriginCoord(t,e);var n=NaN,r=this._timeScale.coordinateToIndex(t),o=i.mainDataSource();if(null!==o){var a=i.defaultPriceScale();if(!a.isEmpty()){var s=d(o.firstValue());n=a.coordinateToPrice(e,s)}n=this._magnet.align(n,r,i)}this._crosshair.setPosition(r,n,i),this._cursorUpdate(),this._crosshairMoved.fire(this._crosshair.appliedIndex(),{x:t,y:e})},t.prototype.clearCurrentPosition=function(){this.crosshairSource().clearPosition(),this._cursorUpdate(),this._crosshairMoved.fire(null,null)},t.prototype.updateCrosshair=function(){var t=this._crosshair.pane();if(null!==t){var e=this._crosshair.originCoordX(),i=this._crosshair.originCoordY();this.setAndSaveCurrentPosition(e,i,t)}},t.prototype.updateTimeScale=function(t,e,i,n){n&&this._timeScale.reset(),this._timeScale.update(t,e,i)},t.prototype.updateTimeScaleBaseIndex=function(t){var e=this._serieses.reduce(function(t,e){var i=e.bars();if(i.isEmpty())return t;var n=d(i.lastIndex());return void 0===t?n:Math.max(n,t)},void 0);if(void 0!==e){var i=this._timeScale,n=i.baseIndex(),r=i.visibleBars();if(null!==r){var o=r.contains(n);if(void 0!==t&&t>0&&!o){var a=e-n;i.setRightOffset(i.rightOffset()-a)}}i.setBaseIndex(e)}this.updateCrosshair(),this.recalculateAllPanes(),this.lightUpdate()},t.prototype.recalculatePane=function(t){null!==t&&t.recalculate()},t.prototype.paneForSource=function(t){var e=this._panes.find(function(e){return e.orderedSources().includes(t)});return void 0===e?null:e},t.prototype.recalculateAllPanes=function(){this._panes.forEach(function(t){return t.recalculate()}),this.updateAllPaneViews()},t.prototype.destroy=function(){this._panes.forEach(function(t){return t.destroy()}),this._panes.length=0,this._options.localization.priceFormatter=void 0,this._options.localization.timeFormatter=void 0},t.prototype.setPriceAutoScaleForAllMainSources=function(){this._panes.map(function(t){return t.mainDataSource()}).forEach(function(t){null!==t&&d(t.priceScale()).setMode({autoScale:!0})})},t.prototype.rendererOptionsProvider=function(){return this._rendererOptionsProvider},t.prototype.priceAxisRendererOptions=function(){return this._rendererOptionsProvider.options()},t.prototype.mainPriceScaleOptionsChanged=function(){return this._mainPriceScaleOptionsChanged},t.prototype.mainPriceScale=function(){return this._panes[0].defaultPriceScale()},t.prototype.createSeries=function(t,e){var i=this._panes[0],n=this._createSeries(e,t,i);return this._serieses.push(n),this.lightUpdate(),n},t.prototype.removeSeries=function(t){var e=this.paneForSource(t),i=this._serieses.indexOf(t);c(-1!==i,"Series not found"),this._serieses.splice(i,1),d(e).removeDataSource(t),t.destroy&&t.destroy()},t.prototype.fitContent=function(){var t=new xe(2);t.setFitContent(),this._invalidate(t)},t.prototype.setTargetTimeRange=function(t){var e=new xe(2);e.setTargetTimeRange(t),this._invalidate(e)},t.prototype._paneInvalidationMask=function(t,e){var i=new xe(e);if(null!==t){var n=this._panes.indexOf(t);i.invalidatePane(n,{level:e})}return i},t.prototype._invalidationMaskForSource=function(t,e){return void 0===e&&(e=2),this._paneInvalidationMask(this.paneForSource(t),e)},t.prototype._invalidate=function(t){this._invalidateHandler&&this._invalidateHandler(t),this._grid.invalidate()},t.prototype._cursorUpdate=function(){this._invalidate(new xe(1))},t.prototype._createSeries=function(t,e,i){var n=new ee(this,t,e);return i.addDataSource(n,Boolean(t.overlay),!1),t.overlay&&n.applyOptions(t),n},t}(),Qe=function(){function t(t,e){this.w=t,this.h=e}return t.prototype.equals=function(t){return this.w===t.w&&this.h===t.h},t}();function Ke(t,e){t.width=e.w,t.height=e.h;var i=de(t);i&&i.translate(.5,.5)}function Ge(t,e,i,n,r,o){t.save(),t.translate(-.5,-.5),t.globalCompositeOperation="copy",t.fillStyle=o,t.fillRect(e,i,n,r),t.restore()}function Ze(t,e){var i=document.createElement("canvas");return t.appendChild(i),Ke(i,e),function(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.msUserSelect="none",t.style.MozUserSelect="none",t.style.webkitTapHighlightColor="transparent"}(i),i}var Je,ti,ei=!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints||"ontouchstart"in window||Boolean(window.DocumentTouch&&document instanceof window.DocumentTouch),ii="onorientationchange"in window&&ei,ni=/Android/i.test(navigator.userAgent),ri=/iPhone|iPad|iPod|AppleWebKit.+Mobile/i.test(navigator.userAgent),oi=ni||ri,ai=!1;!function(t){t[t.ResetClick=500]="ResetClick",t[t.LongTap=240]="LongTap"}(Je||(Je={})),function(t){t[t.Left=0]="Left"}(ti||(ti={}));var si=function(){function t(t,e,i){this._clickCount=0,this._clickTimeoutId=null,this._longTapTimeoutId=null,this._mouseMoveStartPosition=null,this._moveExceededManhattanDistance=!1,this._cancelClick=!1,this._unsubscribeOutsideEvents=null,this._unsubscribeMousemove=null,this._unsubscribeRoot=null,this._startPinchMiddlePoint=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventDragProcess=!1,this._target=t,this._handler=e,this._options=i,this._init()}return t.prototype.destroy=function(){null!==this._unsubscribeOutsideEvents&&(this._unsubscribeOutsideEvents(),this._unsubscribeOutsideEvents=null),null!==this._unsubscribeMousemove&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),null!==this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),this._clearLongTapTimeout(),this._resetClickTimeout()},t.prototype._mouseEnterHandler=function(t){var e=this;this._unsubscribeMousemove&&this._unsubscribeMousemove();var i=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){e._target.removeEventListener("mousemove",i)},this._target.addEventListener("mousemove",i),ii&&this._mouseMoveHandler(t);var n=this._makeCompatEvent(t);this._processEvent(n,this._handler.mouseEnterEvent)},t.prototype._resetClickTimeout=function(){null!==this._clickTimeoutId&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null},t.prototype._mouseMoveHandler=function(t){if(!ai||ii){var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.mouseMoveEvent)}},t.prototype._mouseMoveWithDownHandler=function(t){if(!("button"in t&&0!==t.button)&&null===this._startPinchMiddlePoint){var e=ci(t);if(!this._preventDragProcess||!e){this._pinchPrevented=!0;var i=this._makeCompatEvent(t),n=p(this._mouseMoveStartPosition),r=Math.abs(n.x-i.pageX),o=Math.abs(n.y-i.pageY),a=r+o>5;if(a||!e){if(a&&!this._moveExceededManhattanDistance&&e){var s=.5*r,l=o>=s&&!this._options.treatVertTouchDragAsPageScroll,u=s>o&&!this._options.treatHorzTouchDragAsPageScroll;l||u||(this._preventDragProcess=!0)}a&&(this._moveExceededManhattanDistance=!0,this._cancelClick=!0,e&&this._clearLongTapTimeout()),this._preventDragProcess||(this._processEvent(i,this._handler.pressedMouseMoveEvent),e&&hi(t))}}}},t.prototype._mouseUpHandler=function(t){if(!("button"in t&&0!==t.button)){var e=this._makeCompatEvent(t),i=ii||"touches"in t;i&&this._clearLongTapTimeout(),this._mouseMoveStartPosition=null,ai=!1,this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),i&&this._mouseLeaveHandler(t),this._processEvent(e,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId&&this._clickCount>1?(this._processEvent(e,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(e,this._handler.mouseClickEvent),"touchend"===t.type&&hi(t),ii&&this._mouseLeaveHandler(t)}},t.prototype._clearLongTapTimeout=function(){null!==this._longTapTimeoutId&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},t.prototype._mouseDownHandler=function(t){if(!("button"in t&&0!==t.button)){var e=this._makeCompatEvent(t);this._cancelClick=!1,this._moveExceededManhattanDistance=!1,this._preventDragProcess=!1,ci(t)&&this._mouseEnterHandler(t),this._mouseMoveStartPosition={x:e.pageX,y:e.pageY},this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null);var i=this._mouseMoveWithDownHandler.bind(this),n=this._mouseUpHandler.bind(this),r=this._target.ownerDocument.documentElement;this._unsubscribeRoot=function(){r.removeEventListener("touchmove",i),r.removeEventListener("touchend",n),r.removeEventListener("mousemove",i),r.removeEventListener("mouseup",n)},r.addEventListener("touchmove",i,{passive:!1}),r.addEventListener("touchend",n,{passive:!1}),ii?(this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,t),240)):(r.addEventListener("mousemove",i),r.addEventListener("mouseup",n)),ai=!0,this._processEvent(e,this._handler.mouseDownEvent),this._clickTimeoutId||(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500))}},t.prototype._init=function(){var t=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var e=this._target.ownerDocument,i=function(e){t._handler.mouseDownOutsideEvent&&(e.target&&t._target.contains(e.target)||t._handler.mouseDownOutsideEvent())};this._unsubscribeOutsideEvents=function(){e.removeEventListener("mousedown",i),e.removeEventListener("touchstart",i)},e.addEventListener("mousedown",i),e.addEventListener("touchstart",i),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._mouseDownHandler.bind(this)),ii||this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},t.prototype._initPinch=function(){var t=this;void 0===this._handler.pinchStartEvent&&void 0===this._handler.pinchEvent&&void 0===this._handler.pinchEndEvent||(this._target.addEventListener("touchstart",function(e){t._checkPinchState(e.touches)}),this._target.addEventListener("touchmove",function(e){if(2===e.touches.length&&null!==t._startPinchMiddlePoint&&void 0!==t._handler.pinchEvent){var i=ui(e.touches[0],e.touches[1])/t._startPinchDistance;t._handler.pinchEvent(t._startPinchMiddlePoint,i),hi(e)}},{passive:!1}),this._target.addEventListener("touchend",function(e){t._checkPinchState(e.touches)}))},t.prototype._checkPinchState=function(t){1===t.length&&(this._pinchPrevented=!1),2!==t.length||this._pinchPrevented?this._stopPinch():this._startPinch(t)},t.prototype._startPinch=function(t){var e=li(this._target);this._startPinchMiddlePoint={x:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,y:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this._startPinchDistance=ui(t[0],t[1]),void 0!==this._handler.pinchStartEvent&&this._handler.pinchStartEvent(),this._clearLongTapTimeout()},t.prototype._stopPinch=function(){null!==this._startPinchMiddlePoint&&(this._startPinchMiddlePoint=null,void 0!==this._handler.pinchEndEvent&&this._handler.pinchEndEvent())},t.prototype._mouseLeaveHandler=function(t){this._unsubscribeMousemove&&this._unsubscribeMousemove();var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.mouseLeaveEvent)},t.prototype._longTapHandler=function(t){var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.longTapEvent),this._cancelClick=!0},t.prototype._processEvent=function(t,e){e&&e.call(this._handler,t)},t.prototype._makeCompatEvent=function(t){var e;e="touches"in t&&t.touches.length?t.touches[0]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0]:t;var i=li(this._target);return{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,localX:e.clientX-i.left,localY:e.clientY-i.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,type:t.type.startsWith("mouse")?"mouse":"touch",target:e.target,view:t.view}},t}();function li(t){return t.getBoundingClientRect()||{left:0,top:0}}function ui(t,e){var i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function ci(t){return ii||Boolean(t.touches)}function hi(t){t.cancelable&&t.preventDefault()}var di,pi=1,fi=function(){function t(t,e,i,n){if(this._startY=0,this._deltaY=0,this._totalHeight=0,this._totalStretch=0,this._minPaneHeight=0,this._maxPaneHeight=0,this._pixelStretchFactor=0,this._chartWidget=t,this._paneA=t.paneWidgets()[e],this._paneB=t.paneWidgets()[i],this._rowElement=document.createElement("tr"),this._rowElement.style.height=pi+"px",this._cell=document.createElement("td"),this._cell.style.padding="0",this._cell.setAttribute("colspan","3"),this._updateBorderColor(),this._rowElement.appendChild(this._cell),n)this._handle=null,this._mouseEventHandler=null;else{this._handle=document.createElement("div"),this._handle.style.position="absolute",this._handle.style.zIndex="50",this._handle.style.height="5px",this._handle.style.width="100%",this._handle.style.backgroundColor="rgba(255, 255, 255, 0.02)",this._handle.style.cursor="ns-resize",this._cell.appendChild(this._handle);var r={mouseDownEvent:this._mouseDownEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this)};this._mouseEventHandler=new si(this._handle,r,{treatVertTouchDragAsPageScroll:!1,treatHorzTouchDragAsPageScroll:!0})}}return t.prototype.destroy=function(){null!==this._mouseEventHandler&&this._mouseEventHandler.destroy()},t.prototype.getElement=function(){return this._rowElement},t.prototype.getImage=function(){var t=document.createElement("canvas"),e=this._paneA.getSize().w,i=pi;Ke(t,new Qe(e,i));var n=d(de(t));return n.fillStyle=this._chartWidget.options().timeScale.borderColor,n.fillRect(0,0,e,i),t},t.prototype.update=function(){this._updateBorderColor()},t.prototype._updateBorderColor=function(){this._cell.style.background=this._chartWidget.options().timeScale.borderColor},t.prototype._mouseDownEvent=function(t){this._startY=t.pageY,this._deltaY=0,this._totalHeight=this._paneA.getSize().h+this._paneB.getSize().h,this._totalStretch=this._paneA.stretchFactor()+this._paneB.stretchFactor(),this._minPaneHeight=30,this._maxPaneHeight=this._totalHeight-this._minPaneHeight,this._pixelStretchFactor=this._totalStretch/this._totalHeight},t.prototype._pressedMouseMoveEvent=function(t){this._deltaY=t.pageY-this._startY;var e=this._paneA.getSize().h,i=tt(e+this._deltaY,this._minPaneHeight,this._maxPaneHeight)*this._pixelStretchFactor,n=this._totalStretch-i;this._paneA.setStretchFactor(i),this._paneB.setStretchFactor(n),this._chartWidget.adjustSize(),this._paneA.getSize().h!==e&&(this._startY=t.pageY)},t.prototype._mouseUpEvent=function(t){this._startY=0,this._deltaY=0,this._totalHeight=0,this._totalStretch=0,this._minPaneHeight=0,this._maxPaneHeight=0,this._pixelStretchFactor=0},t}(),_i=200,mi=function(){function t(t,e,i,n){this._textWidthCache=new Lt(_i),this._fontSize=0,this._color="",this._font="",this._keys=[],this._hash=new Map,this._fontSize=t,this._color=e,this._font=me(t,i,n)}return t.prototype.destroy=function(){delete this._textWidthCache,this._keys=[],this._hash.clear()},t.prototype.paintTo=function(t,e,i,n,r){var o=this.getLabelImage(t,e);"left"!==r&&(i-=o.textWidth),n-=Math.floor(o.height/2),t.drawImage(o.canvas,i,n)},t.prototype.getLabelImage=function(t,e){var i;if(this._hash.has(e))i=h(this._hash.get(e));else{if(this._keys.length>=_i){var n=h(this._keys.shift());this._hash.delete(n)}i={text:e,textWidth:0,width:0,height:0,canvas:document.createElement("canvas")};var r=Math.ceil(this._fontSize/4.5),o=Math.round(this._fontSize/10),a=Math.ceil(this._textWidthCache.measureText(t,e));i.textWidth=Math.round(Math.max(1,a)),i.width=Math.round(a+2*r),i.height=this._fontSize+2*r,0!==a&&(this._keys.push(i.text),this._hash.set(i.text,i)),i.canvas.width=i.width,i.canvas.height=i.height,(t=d(de(i.canvas))).font=this._font,t.fillStyle=this._color,t.fillText(e,0,i.height-r-o)}return i},t}();!function(t){t[t.Default=0]="Default",t[t.NsResize=1]="NsResize"}(di||(di={}));var vi,yi,gi=function(){function t(t,e,i,n){this._priceScale=null,this._size=null,this._updateTimeout=null,this._mousedown=!1,this._isVisible=!0,this._widthCache=new Lt(50),this._tickMarksCache=new mi(11,"#000"),this._color=null,this._font=null,this._prevOptimalWidth=0,this._pane=t,this._options=e,this._rendererOptionsProvider=i,this._isLeft="left"===n,this._cell=document.createElement("div"),this._cell.style.height="100%",this._cell.style.overflow="hidden",this._cell.style.width="25px",this._cell.style.left="0",this._cell.style.position="relative",this._canvas=Ze(this._cell,new Qe(16,16)),this._canvas.style.position="absolute",this._canvas.style.zIndex="1",this._canvas.style.left="0",this._canvas.style.top="0",this._ctx=d(de(this._canvas)),this._topCanvas=Ze(this._cell,new Qe(16,16)),this._topCanvas.style.position="absolute",this._topCanvas.style.zIndex="2",this._topCanvas.style.left="0",this._topCanvas.style.top="0",this._topCtx=d(de(this._topCanvas));var r={mouseDownEvent:this._mouseDownEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),mouseDownOutsideEvent:this._mouseDownOutsideEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),mouseDoubleClickEvent:this._mouseDoubleClickEvent.bind(this),mouseEnterEvent:this._mouseEnterEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this)};this._mouseEventHandler=new si(this._topCanvas,r,{treatVertTouchDragAsPageScroll:!1,treatHorzTouchDragAsPageScroll:!0})}return t.prototype.destroy=function(){this._mouseEventHandler.destroy(),null!==this._priceScale&&(this._priceScale.onMarksChanged().unsubscribeAll(this),this._priceScale.optionsChanged().unsubscribeAll(this)),this._priceScale=null,null!==this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=null),this._tickMarksCache.destroy()},t.prototype.getElement=function(){return this._cell},t.prototype.backgroundColor=function(){return this._options.backgroundColor},t.prototype.lineColor=function(){return this._pane.chart().options().priceScale.borderColor},t.prototype.textColor=function(){return this._options.textColor},t.prototype.fontSize=function(){return this._options.fontSize},t.prototype.baseFont=function(){return me(this.fontSize(),this._options.fontFamily)},t.prototype.rendererOptions=function(){var t=this._rendererOptionsProvider.options(),e=this._color!==t.color,i=this._font!==t.font;return(e||i)&&(this._recreateTickMarksCache(t),this._color=t.color),i&&(this._widthCache.reset(),this._font=t.font),t},t.prototype.optimalWidth=function(){if(!this.isVisible()||null===this._priceScale)return 0;var t=34,e=this.rendererOptions(),i=this._ctx,n=this._priceScale.marks();i.font=this.baseFont(),n.length>0&&(t=Math.max(this._widthCache.measureText(i,n[0].label),this._widthCache.measureText(i,n[n.length-1].label)));for(var r=this._backLabels(),o=r.length;o--;){var a=this._widthCache.measureText(i,r[o].text());a>t&&(t=a)}return Math.ceil(e.offsetSize+e.borderSize+e.tickLength+e.paddingInner+e.paddingOuter+t)},t.prototype.setSize=function(t){if(t.w<0||t.h<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));null!==this._size&&this._size.equals(t)||(this._size=t,Ke(this._canvas,t),Ke(this._topCanvas,t),this._cell.style.width=t.w+"px",this._cell.style.height=t.h+"px",this._cell.style.minWidth=t.w+"px")},t.prototype.getWidth=function(){return d(this._size).w},t.prototype.setPriceScale=function(t){this._priceScale!==t&&(null!==this._priceScale&&(this._priceScale.onMarksChanged().unsubscribeAll(this),this._priceScale.optionsChanged().unsubscribeAll(this)),this._priceScale=t,t.onMarksChanged().subscribe(this._onMarksChanged.bind(this),this))},t.prototype.priceScale=function(){return this._priceScale},t.prototype.isVisible=function(){return this._isVisible},t.prototype.setVisible=function(t){t!==this._isVisible&&(this._cell.style.display=t?"table-cell":"none",this._isVisible=t)},t.prototype.setAutoScale=function(t){var e=this._pane.state();this._pane.chart().model().setPriceAutoScale(e,d(this.priceScale()),t)},t.prototype.reset=function(){var t=this._pane.state();this._pane.chart().model().resetPriceScale(t,d(this.priceScale()))},t.prototype.paint=function(t){this._isVisible&&null!==this._size&&(this._topCtx.clearRect(-.5,-.5,this._size.w,this._size.h),1!==t&&(this._alignLabels(),this._drawBackground(this._ctx),this._drawBorder(this._ctx),this._drawTickMarks(this._ctx),this._drawBackLabels(this._ctx)),this._drawCrosshairLabel(this._topCtx))},t.prototype.getImage=function(){return this._canvas},t.prototype.isLeft=function(){return this._isLeft},t.prototype._mouseDownEvent=function(t){if(null!==this._priceScale&&!this._priceScale.isEmpty()&&this._pane.chart().options().handleScale.axisPressedMouseMove){var e=this._pane.chart().model(),i=this._pane.state();this._mousedown=!0,e.startScalePrice(i,this._priceScale,t.localY)}},t.prototype._pressedMouseMoveEvent=function(t){if(null!==this._priceScale&&this._pane.chart().options().handleScale.axisPressedMouseMove){var e=this._pane.chart().model(),i=this._pane.state(),n=this._priceScale;e.scalePriceTo(i,n,t.localY)}},t.prototype._mouseDownOutsideEvent=function(){if(null!==this._priceScale&&this._pane.chart().options().handleScale.axisPressedMouseMove){var t=this._pane.chart().model(),e=this._pane.state(),i=this._priceScale;this._mousedown&&(this._mousedown=!1,t.endScalePrice(e,i))}},t.prototype._mouseUpEvent=function(t){if(null!==this._priceScale&&this._pane.chart().options().handleScale.axisPressedMouseMove){var e=this._pane.chart().model(),i=this._pane.state();this._mousedown=!1,e.endScalePrice(i,this._priceScale)}},t.prototype._mouseDoubleClickEvent=function(t){this.reset()},t.prototype._mouseEnterEvent=function(t){null!==this._priceScale&&(!this._pane.chart().model().options().handleScale.axisPressedMouseMove||this._priceScale.isPercentage()||this._priceScale.isIndexedTo100()||this._setCursor(1))},t.prototype._mouseLeaveEvent=function(t){this._setCursor(0)},t.prototype._backLabels=function(){var t=this,e=[],i=null===this._priceScale?void 0:this._priceScale;return function(n){for(var r=0;r<n.length;++r)for(var o=n[r].priceAxisViews(t._pane.state(),i),a=0;a<o.length;a++)e.push(o[a])}(this._pane.state().orderedSources()),e},t.prototype._drawBackground=function(t){null!==this._size&&Ge(t,0,0,this._size.w,this._size.h,this.backgroundColor())},t.prototype._drawBorder=function(t){if(null!==this._size&&null!==this._priceScale&&this._priceScale.options().borderVisible){t.save(),t.fillStyle=this.lineColor();var e,i=this.rendererOptions().borderSize;this._isLeft?(t.translate(-.5,-.5),e=this._size.w-i-1):(t.translate(.5,-.5),e=0),t.fillRect(e,0,i,this._size.h),t.restore()}},t.prototype._drawTickMarks=function(t){if(null!==this._size&&null!==this._priceScale){t.save(),t.strokeStyle=this.lineColor();var e=this._priceScale.marks();t.font=this.baseFont(),t.translate(-.5,-.5),t.fillStyle=this.lineColor();var i=this.rendererOptions(),n=this._priceScale.options().borderVisible,r=this._isLeft?this._size.w-i.offsetSize-i.borderSize-i.tickLength:i.borderSize+i.offsetSize,o=this._isLeft?r-i.paddingInner:r+i.tickLength+i.paddingInner,a=this._isLeft?"right":"left";if(n){t.beginPath();for(var s=0,l=e;s<l.length;s++){var u=l[s];t.rect(r,u.coord,i.tickLength,1)}t.fill()}t.fillStyle=this.textColor();for(var c=0,h=e;c<h.length;c++)u=h[c],this._tickMarksCache.paintTo(t,u.label,o,u.coord,a);t.restore()}},t.prototype._alignLabels=function(){if(null!==this._size&&null!==this._priceScale){var t=this._size.h/2,e=[],i=this._priceScale.orderedSources().slice(),n=this._pane.state(),r=this.rendererOptions();this._priceScale===n.defaultPriceScale()&&this._pane.state().orderedSources().forEach(function(t){n.isOverlay(t)&&i.push(t)});var o=this._priceScale.mainSource(),a=this._priceScale;i.forEach(function(i){var r=i.priceAxisViews(n,a);r.forEach(function(t){t.setFixedCoordinate(null),t.isVisible()&&e.push(t)}),o===i&&r.length>0&&(t=r[0].floatCoordinate())});var s=e.filter(function(e){return e.floatCoordinate()<=t}),l=e.filter(function(e){return e.floatCoordinate()>t});if(s.sort(function(t,e){return e.floatCoordinate()-t.floatCoordinate()}),s.length&&l.length&&l.push(s[0]),l.sort(function(t,e){return t.floatCoordinate()-e.floatCoordinate()}),e.forEach(function(t){return t.setFixedCoordinate(t.coordinate())}),this._priceScale.options().alignLabels){for(var u=1;u<s.length;u++){var c=s[u],h=(p=s[u-1]).height(r,!1);c.coordinate()>(f=p.getFixedCoordinate())-h&&c.setFixedCoordinate(f-h)}for(var d=1;d<l.length;d++){var p,f;c=l[d],h=(p=l[d-1]).height(r,!0),c.coordinate()<(f=p.getFixedCoordinate())+h&&c.setFixedCoordinate(f+h)}}}},t.prototype._drawBackLabels=function(t){var e=this;if(null!==this._size){var i=this._size,n=this._backLabels(),r=this.rendererOptions(),o=this._isLeft?"right":"left";n.forEach(function(n){if(n.isAxisLabelVisible()){var a=n.renderer();t.save(),a.draw(t,r,e._widthCache,i.w,o),t.restore()}})}},t.prototype._drawCrosshairLabel=function(t){var e=this;if(null!==this._size&&null!==this._priceScale){var i=this._size,n=this._pane.chart().model(),r=[],o=this._pane.state(),a=n.crosshairSource().priceAxisViews(o,this._priceScale);a.length&&r.push(a);var s=this.rendererOptions(),l=this._isLeft?"right":"left";r.forEach(function(n){n.forEach(function(n){t.save(),n.renderer().draw(t,s,e._widthCache,i.w,l),t.restore()})})}},t.prototype._setCursor=function(t){this._cell.style.cursor=1===t?"ns-resize":"default"},t.prototype._onMarksChanged=function(){var t=this,e=this.optimalWidth();if(this._prevOptimalWidth<e){var i=this._pane.chart();null===this._updateTimeout&&(this._updateTimeout=setTimeout(function(){i&&i.model().fullUpdate(),t._updateTimeout=null},100))}this._prevOptimalWidth=e},t.prototype._recreateTickMarksCache=function(t){this._tickMarksCache.destroy(),this._tickMarksCache=new mi(t.fontSize,t.color,t.fontFamily)},t}(),bi=oi,Si=function(){function t(t,e){this._size=new Qe(0,0),this._priceAxisWidget=null,this._startScrollingPos=null,this._isScrolling=!1,this._priceAxisPosition="none",this._clicked=new G,this._prevPinchScale=0,this._longTap=!1,this._startTrackPoint=null,this._exitTrackingModeOnNextTry=!1,this._initCrosshairPosition=null,this._chart=t,this._state=e,this._state.onDestroyed().subscribe(this._onStateDestroyed.bind(this),this,!0),this._paneCell=document.createElement("td"),this._paneCell.style.padding="0",this._paneCell.style.position="relative";var i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this._leftAxisCell=document.createElement("td"),this._leftAxisCell.style.padding="0",this._rightAxisCell=document.createElement("td"),this._rightAxisCell.style.padding="0",this._paneCell.appendChild(i),this._canvas=Ze(i,new Qe(16,16)),this._canvas.style.position="absolute",this._canvas.style.zIndex="1",this._canvas.style.left="0",this._canvas.style.top="0",this._ctx=d(de(this._canvas)),this._topCanvas=Ze(i,new Qe(16,16)),this._topCanvas.style.position="absolute",this._topCanvas.style.zIndex="2",this._topCanvas.style.left="0",this._topCanvas.style.top="0",this._topCtx=d(de(this._topCanvas)),this._rowElement=document.createElement("tr"),this._rowElement.appendChild(this._leftAxisCell),this._rowElement.appendChild(this._paneCell),this._rowElement.appendChild(this._rightAxisCell),this._recreatePriceAxisWidgetImpl(),t.model().mainPriceScaleOptionsChanged().subscribe(this._recreatePriceAxisWidget.bind(this),this),this.updatePriceAxisWidget();var n=this.chart().options().handleScroll;this._mouseEventHandler=new si(this._topCanvas,this,{treatVertTouchDragAsPageScroll:!n.vertTouchDrag,treatHorzTouchDragAsPageScroll:!n.horzTouchDrag})}return t.prototype.destroy=function(){null!==this._priceAxisWidget&&this._priceAxisWidget.destroy(),null!==this._state&&this._state.onDestroyed().unsubscribeAll(this),this._mouseEventHandler.destroy()},t.prototype.state=function(){return d(this._state)},t.prototype.stateOrNull=function(){return this._state},t.prototype.setState=function(e){null!==this._state&&this._state.onDestroyed().unsubscribeAll(this),this._state=e,null!==this._state&&this._state.onDestroyed().subscribe(t.prototype._onStateDestroyed.bind(this),this,!0),this.updatePriceAxisWidget()},t.prototype.chart=function(){return this._chart},t.prototype.getElement=function(){return this._rowElement},t.prototype.updatePriceAxisWidget=function(){if(null!==this._state&&null!==this._priceAxisWidget&&0!==this._model().serieses().length){var t=this._state.defaultPriceScale();this._priceAxisWidget.setPriceScale(d(t))}},t.prototype.stretchFactor=function(){return null!==this._state?this._state.stretchFactor():0},t.prototype.setStretchFactor=function(t){this._state&&this._state.setStretchFactor(t)},t.prototype.mouseEnterEvent=function(t){if(this._state){var e=t.localX,i=t.localY;ii||this._setCrosshairPosition(e,i)}},t.prototype.mouseDownEvent=function(t){if(this._longTap=!1,this._exitTrackingModeOnNextTry=null!==this._startTrackPoint,this._state){if(document.activeElement!==document.body&&document.activeElement!==document.documentElement)d(document.activeElement).blur();else{var e=document.getSelection();null!==e&&e.removeAllRanges()}var i=this._model();if(!this._state.defaultPriceScale().isEmpty()&&!i.timeScale().isEmpty()){if(null!==this._startTrackPoint){var n=i.crosshairSource();this._initCrosshairPosition={x:n.appliedX(),y:n.appliedY()},this._startTrackPoint={x:t.localX,y:t.localY}}ii||this._setCrosshairPosition(t.localX,t.localY)}}},t.prototype.mouseMoveEvent=function(t){if(this._state){var e=t.localX,i=t.localY;if(this._preventCrosshairMove()&&this._clearCrosshairPosition(),!ii){this._setCrosshairPosition(e,i);var n=this.hitTest(e,i);this._model().setHoveredSource(n&&n.source),null!==n&&void 0!==n.view.moveHandler&&n.view.moveHandler(e,i)}}},t.prototype.mouseClickEvent=function(t){if(null!==this._state){var e=t.localX,i=t.localY,n=this.hitTest(e,i);if(null!==n&&void 0!==n.view.clickHandler&&n.view.clickHandler(e,i),this._clicked.hasListeners()){var r=this._model().crosshairSource().appliedIndex();this._clicked.fire(r,{x:e,y:i})}this._tryExitTrackingMode()}},t.prototype.pressedMouseMoveEvent=function(t){if(null!==this._state){var e=this._model(),i=t.localX,n=t.localY;if(null!==this._startTrackPoint){this._exitTrackingModeOnNextTry=!1;var r=d(this._initCrosshairPosition),o=r.x+(i-this._startTrackPoint.x),a=r.y+(n-this._startTrackPoint.y);this._setCrosshairPosition(o,a)}else this._preventCrosshairMove()||this._setCrosshairPosition(i,n);if(!e.timeScale().isEmpty()){var s=this._chart.options().handleScroll;if(s.pressedMouseMove&&"touch"!==t.type||(s.horzTouchDrag||s.vertTouchDrag)&&"mouse"!==t.type){var l=this._state.defaultPriceScale();null!==this._startScrollingPos||this._preventScroll()||(this._startScrollingPos={x:t.clientX,y:t.clientY}),null===this._startScrollingPos||this._startScrollingPos.x===t.clientX&&this._startScrollingPos.y===t.clientY||this._isScrolling||(l.isEmpty()||e.startScrollPrice(this._state,l,t.localY),e.startScrollTime(t.localX),this._isScrolling=!0),this._isScrolling&&(l.isEmpty()||e.scrollPriceTo(this._state,l,t.localY),e.scrollTimeTo(t.localX))}}}},t.prototype.mouseUpEvent=function(t){if(null!==this._state){this._longTap=!1;var e=this._model();if(this._isScrolling){var i=this._state.defaultPriceScale();e.endScrollPrice(this._state,i),e.endScrollTime(),this._startScrollingPos=null,this._isScrolling=!1}}},t.prototype.longTapEvent=function(t){if(this._longTap=!0,null===this._startTrackPoint&&bi){var e={x:t.localX,y:t.localY};this._startTrackingMode(e,e)}},t.prototype.mouseLeaveEvent=function(t){null!==this._state&&(this._state.model().setHoveredSource(null),oi||this._clearCrosshairPosition())},t.prototype.clicked=function(){return this._clicked},t.prototype.pinchStartEvent=function(){this._prevPinchScale=1},t.prototype.pinchEvent=function(t,e){if(this._chart.options().handleScale.pinch){var i=5*(e-this._prevPinchScale);this._prevPinchScale=e,this._model().zoomTime(t.x,i)}},t.prototype.hitTest=function(t,e){var i=this._state;if(null===i)return null;for(var n=0,r=i.orderedSources();n<r.length;n++){var o=r[n],a=this._hitTestPaneView(o.paneViews(i),t,e);if(null!==a)return{source:o,view:a}}return null},t.prototype.setPriceAxisSize=function(t){d(this._priceAxisWidget).setSize(new Qe(t,this._size.h))},t.prototype.getSize=function(){return this._size},t.prototype.setSize=function(t){if(t.w<0||t.h<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this._size.equals(t)||(this._size=t,Ke(this._canvas,t),Ke(this._topCanvas,t),this._ctx=d(de(this._canvas)),this._paneCell.style.width=t.w+"px",this._paneCell.style.height=t.h+"px")},t.prototype.recalculatePriceScale=function(){var t=d(this._state);t.recalculatePriceScale(t.defaultPriceScale());for(var e=0,i=t.dataSources();e<i.length;e++){var n=i[e];if(t.isOverlay(n)){var r=n.priceScale();null!==r&&t.recalculatePriceScale(r),n.updateAllViews()}}},t.prototype.getImage=function(){return this._canvas},t.prototype.paint=function(t){0!==t&&null!==this._state&&(t>1&&this.recalculatePriceScale(),null!==this._priceAxisWidget&&this._priceAxisWidget.paint(t),this._topCtx.clearRect(-.5,-.5,this._size.w,this._size.h),1!==t&&(this._drawBackground(this._ctx,this._backgroundColor()),this._state&&(this._drawGrid(this._ctx),this._drawWatermark(this._ctx),this._drawSources(this._ctx))),this._drawCrosshair(this._topCtx))},t.prototype.priceAxisWidget=function(){return this._priceAxisWidget},t.prototype._backgroundColor=function(){return this._chart.options().layout.backgroundColor},t.prototype._onStateDestroyed=function(){null!==this._state&&this._state.onDestroyed().unsubscribeAll(this),this._state=null},t.prototype._drawBackground=function(t,e){Ge(t,0,0,this._size.w,this._size.h,e)},t.prototype._drawGrid=function(t){for(var e=d(this._state),i=this._model().gridSource().paneViews(e),n=e.height(),r=e.width(),o=0,a=i;o<a.length;o++){var s=a[o];t.save();var l=s.renderer(n,r);null!==l&&l.draw(t,!1),t.restore()}},t.prototype._drawWatermark=function(t){var e=this._model().watermarkSource();if(null!==e){var i=d(this._state);if(i.containsSeries())for(var n=e.paneViews(),r=i.height(),o=i.width(),a=0,s=n;a<s.length;a++){var l=s[a];t.save();var u=l.renderer(r,o);null!==u&&u.draw(t,!1),t.restore()}}},t.prototype._drawCrosshair=function(t){this._drawSource(this._model().crosshairSource(),t)},t.prototype._drawSources=function(t){for(var e=d(this._state).orderedSources(),i=this._model().crosshairSource(),n=0,r=e;n<r.length;n++){var o=r[n];this._drawSourceBackground(o,t)}for(var a=0,s=e;a<s.length;a++)(o=s[a])!==i&&this._drawSource(o,t)},t.prototype._drawSource=function(t,e){for(var i=d(this._state),n=t.paneViews(i),r=i.height(),o=i.width(),a=i.model().hoveredSource()===t,s=0,l=n;s<l.length;s++){var u=l[s].renderer(r,o);null!==u&&(e.save(),u.draw(e,a),e.restore())}},t.prototype._drawSourceBackground=function(t,e){for(var i=d(this._state),n=t.paneViews(i),r=i.height(),o=i.width(),a=i.model().hoveredSource()===t,s=0,l=n;s<l.length;s++){var u=l[s].renderer(r,o);null!==u&&void 0!==u.drawBackground&&(e.save(),u.drawBackground(e,a),e.restore())}},t.prototype._hitTestPaneView=function(t,e,i){for(var n=0,r=t;n<r.length;n++){var o=r[n],a=o.renderer(this._size.h,this._size.w);if(null!==a&&a.hitTest&&a.hitTest(e,i))return o}return null},t.prototype._recreatePriceAxisWidget=function(){this._recreatePriceAxisWidgetImpl(),this._chart.adjustSize()},t.prototype._recreatePriceAxisWidgetImpl=function(){if(null!==this._state){var t=this._chart,e=this._state.defaultPriceScale().options().position;if(this._priceAxisPosition!==e){if(null!==this._priceAxisWidget&&(this._priceAxisWidget.isLeft()?this._leftAxisCell.removeChild(this._priceAxisWidget.getElement()):this._rightAxisCell.removeChild(this._priceAxisWidget.getElement()),this._priceAxisWidget.destroy(),this._priceAxisWidget=null),"none"!==e){var i=t.model().rendererOptionsProvider();this._priceAxisWidget=new gi(this,t.options().layout,i,e),"left"===e&&this._leftAxisCell.appendChild(this._priceAxisWidget.getElement()),"right"===e&&this._rightAxisCell.appendChild(this._priceAxisWidget.getElement())}this._priceAxisPosition=e}}},t.prototype._preventCrosshairMove=function(){return bi&&null===this._startTrackPoint},t.prototype._preventScroll=function(){return bi&&this._longTap||null!==this._startTrackPoint},t.prototype._correctXCoord=function(t){return Math.max(0,Math.min(t,this._size.w-1))},t.prototype._correctYCoord=function(t){return Math.max(0,Math.min(t,this._size.h-1))},t.prototype._setCrosshairPosition=function(t,e){this._model().setAndSaveCurrentPosition(this._correctXCoord(t),this._correctYCoord(e),d(this._state))},t.prototype._clearCrosshairPosition=function(){this._model().clearCurrentPosition()},t.prototype._tryExitTrackingMode=function(){this._exitTrackingModeOnNextTry&&(this._startTrackPoint=null,this._clearCrosshairPosition())},t.prototype._startTrackingMode=function(t,e){this._startTrackPoint=t,this._exitTrackingModeOnNextTry=!1,this._setCrosshairPosition(e.x,e.y);var i=this._model().crosshairSource();this._initCrosshairPosition={x:i.appliedX(),y:i.appliedY()}},t.prototype._model=function(){return this._chart.model()},t}(),xi=function(){function t(t,e,i,n){this._invalidated=!0,this._size=new Qe(0,0),this._isLeft="left"===t,this._rendererOptionsProvider=i.rendererOptionsProvider,this._options=e,this._borderVisible=n,this._cell=document.createElement("div"),this._cell.style.width="25px",this._cell.style.height="100%",this._cell.style.overflow="hidden",this._canvas=Ze(this._cell,new Qe(16,16)),this._ctx=de(this._canvas)}return t.prototype.destroy=function(){},t.prototype.update=function(){this._invalidated=!0},t.prototype.getElement=function(){return this._cell},t.prototype.setSize=function(t){if(t.w<0||t.h<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this._size.equals(t)||(this._size=t,Ke(this._canvas,t),this._cell.style.width=t.w+"px",this._cell.style.minWidth=t.w+"px",this._cell.style.height=t.h+"px",this._invalidated=!0)},t.prototype.paint=function(t){t<3&&!this._invalidated||0!==this._size.w&&0!==this._size.h&&(this._invalidated=!1,this._drawBackground(),this._drawBorder())},t.prototype.getImage=function(){return this._canvas},t.prototype.getWidth=function(){return this._size.w},t.prototype.isLeft=function(){return this._isLeft},t.prototype._drawBorder=function(){if(this._borderVisible()){var t=this._size.w;this._ctx.save(),this._ctx.fillStyle=this._options.timeScale.borderColor;var e,i=this._rendererOptionsProvider.options().borderSize;this._isLeft?(this._ctx.translate(-.5,-.5),e=t-i-1):(this._ctx.translate(-.5,-.5),e=0),this._ctx.fillRect(e,0,2*i,1),this._ctx.restore()}},t.prototype._drawBackground=function(){Ge(this._ctx,0,0,this._size.w,this._size.h,this._options.layout.backgroundColor)},t}();function wi(t,e){return t.span>e.span?t:e}!function(t){t[t.BorderSize=1]="BorderSize",t[t.TickLength=3]="TickLength"}(vi||(vi={})),function(t){t[t.Default=0]="Default",t[t.EwResize=1]="EwResize"}(yi||(yi={}));var ki,Ci=function(){function t(t){this._stub=null,this._minVisibleSpan=70,this._rendererOptions=null,this._mouseDown=!1,this._size=new Qe(0,0),this._priceAxisPosition="none",this._chart=t,this._options=t.options().layout,this._element=document.createElement("tr"),this._leftStubCell=document.createElement("td"),this._leftStubCell.style.padding="0",this._rightStubCell=document.createElement("td"),this._rightStubCell.style.padding="0",this._cell=document.createElement("td"),this._cell.style.height="25px",this._cell.style.padding="0",this._dv=document.createElement("div"),this._dv.style.width="100%",this._dv.style.height="100%",this._dv.style.position="relative",this._dv.style.overflow="hidden",this._cell.appendChild(this._dv),this._canvas=Ze(this._dv,new Qe(16,16)),this._canvas.style.position="absolute",this._canvas.style.zIndex="1",this._canvas.style.left="0",this._canvas.style.top="0",this._canvasContext=d(de(this._canvas)),this._topCanvas=Ze(this._dv,new Qe(16,16)),this._topCanvas.style.position="absolute",this._topCanvas.style.zIndex="2",this._topCanvas.style.left="0",this._topCanvas.style.top="0",this._topCanvasContext=d(de(this._topCanvas)),this._element.appendChild(this._leftStubCell),this._element.appendChild(this._cell),this._element.appendChild(this._rightStubCell),this._recreateStub(),this._chart.model().mainPriceScaleOptionsChanged().subscribe(this._recreateStub.bind(this),this),this._mouseEventHandler=new si(this._topCanvas,this,{treatVertTouchDragAsPageScroll:!0,treatHorzTouchDragAsPageScroll:!1})}return t.prototype.destroy=function(){this._mouseEventHandler.destroy(),null!==this._stub&&this._stub.destroy()},t.prototype.getElement=function(){return this._element},t.prototype.stub=function(){return this._stub},t.prototype.mouseDownEvent=function(t){if(!this._mouseDown){this._mouseDown=!0;var e=this._chart.model();!e.timeScale().isEmpty()&&this._chart.options().handleScale.axisPressedMouseMove&&e.startScaleTime(t.localX)}},t.prototype.mouseDownOutsideEvent=function(){var t=this._chart.model();!t.timeScale().isEmpty()&&this._mouseDown&&(this._mouseDown=!1,this._chart.options().handleScale.axisPressedMouseMove&&t.endScaleTime())},t.prototype.pressedMouseMoveEvent=function(t){var e=this._chart.model();!e.timeScale().isEmpty()&&this._chart.options().handleScale.axisPressedMouseMove&&e.scaleTimeTo(t.localX)},t.prototype.mouseUpEvent=function(t){this._mouseDown=!1;var e=this._chart.model();e.timeScale().isEmpty()&&!this._chart.options().handleScale.axisPressedMouseMove||e.endScaleTime()},t.prototype.mouseDoubleClickEvent=function(){this._chart.model().resetTimeScale()},t.prototype.mouseEnterEvent=function(t){this._chart.model().options().handleScale.axisPressedMouseMove&&this._setCursor(1)},t.prototype.mouseLeaveEvent=function(t){this._setCursor(0)},t.prototype.setSizes=function(t,e){this._size&&this._size.equals(t)||(this._size=t,Ke(this._canvas,t),Ke(this._topCanvas,t),de(this._canvas),de(this._topCanvas),this._cell.style.width=t.w+"px",this._cell.style.height=t.h+"px"),null!==this._stub&&this._stub.setSize(new Qe(e,t.h))},t.prototype.width=function(){return this._size.w},t.prototype.height=function(){return this._size.h},t.prototype.optimalHeight=function(){var t=this._getRendererOptions();return Math.ceil(t.borderSize+t.tickLength+t.fontSize+t.paddingTop+t.paddingBottom)},t.prototype.update=function(){var t=this,e=this._chart.model().timeScale().marks();e&&(this._minVisibleSpan=70,e.forEach(function(e){t._minVisibleSpan=Math.min(e.span,t._minVisibleSpan)}))},t.prototype.getImage=function(){return this._canvas},t.prototype.paint=function(t){if(0!==t){if(1!==t){var e=this._canvasContext;this._drawBackground(e),this._drawBorder(e),this._drawTickMarks(e),this._drawBackLabels(e),null!==this._stub&&this._stub.paint(t)}this._drawCrosshairLabel(this._topCanvasContext)}},t.prototype._drawBackground=function(t){Ge(t,0,0,this._size.w,this._size.h,this._backgroundColor())},t.prototype._drawBorder=function(t){this._chart.options().timeScale.borderVisible&&(t.save(),t.fillStyle=this._lineColor(),t.translate(-.5,-.5),t.fillRect(0,0,this._size.w,1),t.restore())},t.prototype._drawTickMarks=function(t){var e=this._chart.model().timeScale().marks();if(e&&0!==e.length){var i=e.reduce(wi,e[0]).span;i>30&&i<40&&(i=30),t.save(),t.strokeStyle=this._lineColor();var n=this._getRendererOptions(),r=n.borderSize+n.tickLength+n.paddingTop+n.fontSize-n.baselineOffset;if(t.textAlign="center",t.translate(.5,-.5),t.fillStyle=this._lineColor(),this._chart.model().timeScale().options().borderVisible){t.beginPath();for(var o=e.length;o--;)t.rect(e[o].coord,1,1,n.tickLength);t.fill()}t.fillStyle=this._textColor(),t.font=this._baseFont();for(var a=0,s=e;a<s.length;a++)(c=s[a]).span<i&&t.fillText(c.label,c.coord,r);t.font=this._baseBoldFont();for(var l=0,u=e;l<u.length;l++){var c;(c=u[l]).span>=i&&t.fillText(c.label,c.coord,r)}t.restore()}},t.prototype._drawBackLabels=function(t){t.save();var e=new Set,i=this._chart.model(),n=i.dataSources();e.add(i.crosshairSource());for(var r=this._getRendererOptions(),o=0,a=n;o<a.length;o++){var s=a[o];if(!e.has(s))for(var l=0,u=s.timeAxisViews();l<u.length;l++)u[l].renderer().draw(t,r)}t.restore()},t.prototype._drawCrosshairLabel=function(t){this._topCanvasContext.clearRect(-.5,-.5,this._size.w,this._size.h);var e=[],i=this._chart.model().crosshairSource().timeAxisViews();e.push(i);var n=this._getRendererOptions();e.forEach(function(e){e.forEach(function(e){t.save(),e.renderer().draw(t,n),t.restore()})})},t.prototype._backgroundColor=function(){return this._options.backgroundColor},t.prototype._lineColor=function(){return this._chart.options().timeScale.borderColor},t.prototype._textColor=function(){return this._options.textColor},t.prototype._fontSize=function(){return this._options.fontSize},t.prototype._baseFont=function(){return me(this._fontSize(),this._options.fontFamily)},t.prototype._baseBoldFont=function(){return me(this._fontSize(),this._options.fontFamily,"bold")},t.prototype._getRendererOptions=function(){null===this._rendererOptions&&(this._rendererOptions={borderSize:1,baselineOffset:NaN,paddingTop:NaN,paddingBottom:NaN,paddingHorizontal:NaN,tickLength:3,fontSize:NaN,font:"",widthCache:new Lt});var t=this._rendererOptions,e=this._baseFont();if(t.font!==e){var i=this._fontSize();t.fontSize=i,t.font=e,t.paddingTop=Math.ceil(i/2.5),t.paddingBottom=t.paddingTop,t.paddingHorizontal=Math.ceil(i/2),t.baselineOffset=Math.round(this._fontSize()/5),t.widthCache.reset()}return this._rendererOptions},t.prototype._setCursor=function(t){this._cell.style.cursor=1===t?"ew-resize":"default"},t.prototype._recreateStub=function(){var t=this._chart.model().mainPriceScale().options().position;if(t!==this._priceAxisPosition){if(null!==this._stub&&(this._stub.isLeft()?this._leftStubCell.removeChild(this._stub.getElement()):this._rightStubCell.removeChild(this._stub.getElement()),this._stub.destroy(),this._stub=null),"none"!==t){var e={rendererOptionsProvider:this._chart.model().rendererOptionsProvider()},i=this._chart.model();this._stub=new xi(t,this._chart.options(),e,function(){return i.mainPriceScale().options().borderVisible&&i.timeScale().options().borderVisible}),("left"===t?this._leftStubCell:this._rightStubCell).appendChild(this._stub.getElement())}this._priceAxisPosition=t}},t}(),Ti=function(){function t(t,e){var i=this;this._paneWidgets=[],this._paneSeparators=[],this._drawRafId=0,this._priceAxisWidthChanged=new G,this._height=0,this._width=0,this._priceAxisWidth=0,this._invalidateMask=null,this._drawPlanned=!1,this._clicked=new G,this._crosshairMoved=new G,this._options=e,this._element=document.createElement("div"),this._element.classList.add("tv-lightweight-charts"),this._element.style.overflow="hidden",this._element.style.width="100%",this._element.style.height="100%",this._tableElement=document.createElement("table"),this._tableElement.setAttribute("cellspacing","0"),this._element.appendChild(this._tableElement),this._onWheelBound=this._onMousewheel.bind(this),this._element.addEventListener("wheel",this._onWheelBound,{passive:!1}),this._model=new $e(this._invalidateHandler.bind(this),this._options),this.model().crosshairMoved().subscribe(this._onPaneWidgetCrosshairMoved.bind(this),this),this._timeAxisWidget=new Ci(this),this._tableElement.appendChild(this._timeAxisWidget.getElement());var n=this._options.width,r=this._options.height;if(0===n&&0===r){var o=t.getBoundingClientRect();n=o.width,r=o.height}n=Math.max(70,n),r=Math.max(50,r),this.resize(r,n),this._syncGuiWithModel(),t.appendChild(this._element),this._updateTimeAxisVisibility(),this._model.timeScale().optionsApplied().subscribe(function(){i._updateTimeAxisVisibility(),i.adjustSize()},this)}return t.prototype.model=function(){return this._model},t.prototype.options=function(){return this._options},t.prototype.paneWidgets=function(){return this._paneWidgets},t.prototype.destroy=function(){this._element.removeEventListener("wheel",this._onWheelBound),0!==this._drawRafId&&window.cancelAnimationFrame(this._drawRafId),this._model.crosshairMoved().unsubscribeAll(this),this._model.timeScale().optionsApplied().unsubscribeAll(this),this._model.destroy();for(var t=0,e=this._paneWidgets;t<e.length;t++){var i=e[t];this._tableElement.removeChild(i.getElement()),i.clicked().unsubscribeAll(this),i.destroy()}this._paneWidgets=[];for(var n=0,r=this._paneSeparators;n<r.length;n++){var o=r[n];this._destroySeparator(o)}this._paneSeparators=[],d(this._timeAxisWidget).destroy(),null!==this._element.parentElement&&this._element.parentElement.removeChild(this._element),this._crosshairMoved.destroy(),this._clicked.destroy(),delete this._element},t.prototype.resize=function(t,e,i){if(void 0===i&&(i=!1),this._height!==t||this._width!==e){this._height=t,this._width=e;var n=t+"px",r=e+"px";d(this._element).style.height=n,d(this._element).style.width=r,this._tableElement.style.height=n,this._tableElement.style.width=r,i?this._drawImpl(new xe(3)):this._model.fullUpdate()}},t.prototype.paint=function(t){void 0===t&&(t=new xe(3));for(var e=0;e<this._paneWidgets.length;e++)this._paneWidgets[e].paint(t.invalidateForPane(e).level);this._timeAxisWidget.paint(t.fullInvalidation())},t.prototype.adjustSize=function(){this._adjustSizeImpl(),this._model.fullUpdate()},t.prototype.applyOptions=function(t){this._model.applyOptions(t),this._updateTimeAxisVisibility();var e=t.width||this._width,i=t.height||this._height;this.resize(i,e)},t.prototype.clicked=function(){return this._clicked},t.prototype.crosshairMoved=function(){return this._crosshairMoved},t.prototype.takeScreenshot=function(){var t=this;null!==this._invalidateMask&&(this._drawImpl(this._invalidateMask),this._invalidateMask=null);var e=this._paneWidgets[0],i=this._width,n=this._height,r=document.createElement("canvas");Ke(r,new Qe(i,n));var o=d(de(r));o.translate(-.5,-.5);var a=0,s=0,l=function(){for(var e=0;e<t._paneWidgets.length;e++){var i=t._paneWidgets[e],n=d(i.priceAxisWidget()).getImage();o.drawImage(n,a,s),s+=i.getSize().h,e<t._paneWidgets.length-1&&(s+=pi)}};"left"===this._options.priceScale.position&&(l(),a=d(e.priceAxisWidget()).getWidth()),s=0;for(var u=0;u<this._paneWidgets.length;u++){var c=this._paneWidgets[u],h=c.getImage();if(o.drawImage(h,a,s),s+=c.getSize().h,u<this._paneWidgets.length-1){var p=this._paneSeparators[u].getImage();o.drawImage(p,a,s),s+=pi}}a+=e.getSize().w,"right"===this._options.priceScale.position&&(s=0,l());var f=function(){var e=d(t._timeAxisWidget.stub()).getImage();o.drawImage(e,a,s)};return this._options.timeScale.visible&&(a=0,"left"===this._options.priceScale.position&&(f(),a=d(e.priceAxisWidget()).getWidth()),h=this._timeAxisWidget.getImage(),o.drawImage(h,a,s),"right"===this._options.priceScale.position&&(a=e.getSize().w,f(),o.restore())),r},t.prototype._adjustSizeImpl=function(){for(var t=0,e=0,i=0,n=this._paneWidgets;i<n.length;i++){var r=n[i];"none"!==this._options.priceScale.position&&(e=Math.max(e,d(r.priceAxisWidget()).optimalWidth())),t+=r.stretchFactor()}for(var o=this._width,a=this._height,s=Math.max(o-e,0),l=this._paneSeparators.length,u=pi*l,c=this._options.timeScale.visible?this._timeAxisWidget.optimalHeight():0,h=u+c,p=a<h?0:a-h,f=p/t,_=0,m=0;m<this._paneWidgets.length;++m){(r=this._paneWidgets[m]).setState(this._model.panes()[m]);var v,y;y=m===this._paneWidgets.length-1?p-_:Math.round(r.stretchFactor()*f),_+=v=Math.max(y,2),r.setSize(new Qe(s,v)),"none"!==this._options.priceScale.position&&r.setPriceAxisSize(e),r.state()&&this._model.setPaneHeight(r.state(),v)}this._timeAxisWidget.setSizes(new Qe(s,c),e),this._model.setWidth(s),this._priceAxisWidth!==e&&(this._priceAxisWidth=e,this._priceAxisWidthChanged.fire(e))},t.prototype._onMousewheel=function(t){var e=t.deltaX/100,i=-t.deltaY/100;if(0!==e&&this._options.handleScroll.mouseWheel||0!==i&&this._options.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120,i*=120;break;case t.DOM_DELTA_LINE:e*=32,i*=32}if(0!==i&&this._options.handleScale.mouseWheel){var n=Math.sign(i)*Math.min(1,Math.abs(i)),r=t.clientX-this._element.getBoundingClientRect().left;this.model().zoomTime(r,n)}0!==e&&this._options.handleScroll.mouseWheel&&this.model().scrollChart(-80*e)}},t.prototype._drawImpl=function(t){var e=t.fullInvalidation();if(3===e&&this._updateGui(),3===e||2===e){for(var i=this._model.panes(),n=0;n<i.length;n++)t.invalidateForPane(n).autoScale&&i[n].momentaryAutoScale();t.getFitContent()&&this._model.timeScale().fitContent();var r=t.getTargetTimeRange();null!==r&&this._model.timeScale().setTimePointsRange(r),this._timeAxisWidget.update()}this.paint(t)},t.prototype._invalidateHandler=function(t){var e=this;null!==this._invalidateMask?this._invalidateMask.merge(t):this._invalidateMask=t,this._drawPlanned||(this._drawPlanned=!0,this._drawRafId=window.requestAnimationFrame(function(){e._drawPlanned=!1,e._drawRafId=0,null!==e._invalidateMask&&(e._drawImpl(e._invalidateMask),e._invalidateMask=null)}))},t.prototype._updateGui=function(){this._syncGuiWithModel()},t.prototype._destroySeparator=function(t){this._tableElement.removeChild(t.getElement()),t.destroy()},t.prototype._syncGuiWithModel=function(){for(var t=this._model.panes(),e=t.length,i=this._paneWidgets.length,n=e;n<i;n++){var r=h(this._paneWidgets.pop());this._tableElement.removeChild(r.getElement()),r.clicked().unsubscribeAll(this),r.destroy(),void 0!==(o=this._paneSeparators.pop())&&this._destroySeparator(o)}for(n=i;n<e;n++){if((r=new Si(this,t[n])).clicked().subscribe(this._onPaneWidgetClicked.bind(this),this),this._paneWidgets.push(r),n>1){var o=new fi(this,n-1,n,!0);this._paneSeparators.push(o),this._tableElement.insertBefore(o.getElement(),this._timeAxisWidget.getElement())}this._tableElement.insertBefore(r.getElement(),this._timeAxisWidget.getElement())}for(n=0;n<e;n++){var a=t[n];(r=this._paneWidgets[n]).state()!==a?r.setState(a):r.updatePriceAxisWidget()}this._updateTimeAxisVisibility(),this._adjustSizeImpl()},t.prototype._getMouseEventParamsImpl=function(t,e){var i,n=new Map;if(null!==t&&this._model.serieses().forEach(function(e){var i=e.dataAt(t);null!==i&&n.set(e,i)}),null!==t){var r=this._model.timeScale().indexToUserTime(t);null!==r&&(i=r)}return{time:i,point:e||void 0,seriesPrices:n}},t.prototype._onPaneWidgetClicked=function(t,e){var i=this;this._clicked.fire(function(){return i._getMouseEventParamsImpl(t,e)})},t.prototype._onPaneWidgetCrosshairMoved=function(t,e){var i=this;this._crosshairMoved.fire(function(){return i._getMouseEventParamsImpl(t,e)})},t.prototype._updateTimeAxisVisibility=function(){var t=this._options.timeScale.visible?"":"none";this._timeAxisWidget.getElement().style.display=t},t}();function Pi(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}!function(t){t[t.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",t[t.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(ki||(ki={}));var Ei=function(){function t(t,e){this._series=t,this._dataUpdatesConsumer=e}return t.prototype.destroy=function(){delete this._series,delete this._dataUpdatesConsumer},t.prototype.priceFormatter=function(){return this._series.formatter()},t.prototype.series=function(){return this._series},t.prototype.priceToCoordinate=function(t){var e=this._series.firstValue();return null===e?null:this._series.priceScale().priceToCoordinate(t,e)},t.prototype.setData=function(t){this._dataUpdatesConsumer.applyNewData(this._series,t)},t.prototype.update=function(t){this._dataUpdatesConsumer.updateData(this._series,t)},t.prototype.applyOptions=function(t){this._series.applyOptions(t)},t.prototype.options=function(){return g(this._series.options())},t}(),Mi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.applyOptions=function(e){Pi(e),t.prototype.applyOptions.call(this,e)},e}(Ei);function Ri(t){if(!ae(t))throw new Error("time must be of type BusinessDay");var e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{timestamp:Math.round(e.getTime()/1e3),businessDay:t}}function Di(t){if(!se(t))throw new Error("time must be of type isUTCTimestamp");return{timestamp:t}}function Ii(t){return 0===t.length?null:ae(t[0].time)?Ri:Di}function Oi(t){return ae(t)?Ri(t):Di(t)}function zi(t,e){if("value"in t){var i=t.value,n=0;if("color"in t){var r=t;void 0!==r.color&&(n=h(e).addColor(r.color))}return[i,i,i,i,n]}var o=t;return[o.open,o.high,o.low,o.close,0]}function Ai(t){return 60*t*60*1e3}function Li(t){return 60*t*1e3}var Vi=[{divisor:1,span:20},{divisor:(1,1e3),span:19},{divisor:Li(1),span:20},{divisor:Li(5),span:21},{divisor:Li(30),span:22},{divisor:Ai(1),span:30},{divisor:Ai(3),span:31},{divisor:Ai(6),span:32},{divisor:Ai(12),span:33}];function Ni(t,e){if(null!==e){var i=new Date(1e3*e.timestamp),n=new Date(1e3*t.timestamp);if(n.getUTCFullYear()!==i.getUTCFullYear())return 70;if(n.getUTCMonth()!==i.getUTCMonth())return 60;if(n.getUTCDate()!==i.getUTCDate())return 50;for(var r=Vi.length-1;r>=0;--r)if(Math.floor(i.getTime()/Vi[r].divisor)!==Math.floor(n.getTime()/Vi[r].divisor))return Vi[r].span}return 20}function Bi(t,e){return t.timestamp<e.timestamp}function Fi(t){v(t.time)&&(t.time=function(t){var e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string="+t+", expected format=yyyy-mm-dd");return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}(t.time))}var Wi,Ui=function(){function t(){this._pointDataByTimePoint=new Map,this._timePointsByIndex=new Map,this._sortedTimePoints=[]}return t.prototype.destroy=function(){this._pointDataByTimePoint.clear(),this._timePointsByIndex.clear(),this._sortedTimePoints=[]},t.prototype.setSeriesData=function(t,e,i){var n=this;e.forEach(Fi),this._pointDataByTimePoint.forEach(function(e){return e.mapping.delete(t)});var r=Ii(e);null!==r&&e.forEach(function(e){var i=r(e.time),o=n._pointDataByTimePoint.get(i.timestamp)||{index:0,mapping:new Map,timePoint:i};o.mapping.set(t,e),n._pointDataByTimePoint.set(i.timestamp,o)});var o=new Map;return this._pointDataByTimePoint.forEach(function(t,e){t.mapping.size>0&&o.set(e,t)}),this._setNewPoints(t,o,i)},t.prototype.removeSeries=function(t){return this.setSeriesData(t,[])},t.prototype.updateSeriesData=function(t,e,i){Fi(e);var n=t.data().bars();if(n.size()>0)if(void 0!==d(n.last()).time.businessDay){if(!ae(e.time))throw new Error("time must be of type BusinessDay")}else if(!se(e.time))throw new Error("time must be of type isUTCTimestamp");var r=d(Ii([e]))(e.time),o=this._pointDataByTimePoint.get(r.timestamp)||{index:0,mapping:new Map,timePoint:r},a=0===o.mapping.size;o.mapping.set(t,e);var s=!1;if(a){var l=this._pointDataByTimePoint.size;this._sortedTimePoints.length>0&&this._sortedTimePoints[this._sortedTimePoints.length-1].timestamp>r.timestamp?(l=vt(this._sortedTimePoints,r,Bi),this._sortedTimePoints.splice(l,0,r),this._incrementIndicesFrom(l),s=!0):this._sortedTimePoints.push(r),o.index=l,this._timePointsByIndex.set(o.index,r)}this._pointDataByTimePoint.set(r.timestamp,o);var u=new Map,c=function(e){var n=h(p._timePointsByIndex.get(e));h(p._pointDataByTimePoint.get(n.timestamp)).mapping.forEach(function(r,o){if(s||o===t){var a=u.get(o)||{update:[]},l={index:e,time:n,value:zi(r,i)};a.update.push(l),u.set(o,a)}})},p=this;for(l=o.index;l<this._pointDataByTimePoint.size;++l)c(l);var f=a?this._generateMarksSinceIndex(o.index):[],_=a?this._sortedTimePoints.slice(o.index):[];return{timeScaleUpdate:{seriesUpdates:u,changes:_,index:o.index,marks:f}}},t.prototype._setNewPoints=function(t,e,i){var n=this;this._pointDataByTimePoint=e,this._sortedTimePoints=Array.from(this._pointDataByTimePoint.values()).map(function(t){return t.timePoint}),this._sortedTimePoints.sort(function(t,e){return t.timestamp-e.timestamp});var r=new Map;this._sortedTimePoints.forEach(function(e,o){var a=h(n._pointDataByTimePoint.get(e.timestamp));a.index=o,a.mapping.forEach(function(n,a){var s=r.get(a)||{update:[]},l=t===a?i:a.palette(),u={index:o,time:e,value:zi(n,l)};s.update.push(u),r.set(a,s)})});var o=null,a=this._sortedTimePoints.map(function(t,e){var i=Ni(t,o);return o=t,{span:i,time:t,index:e}}),s={seriesUpdates:r,changes:this._sortedTimePoints.slice(),index:0,marks:a};return this._rebuildTimePointsByIndex(),{timeScaleUpdate:s}},t.prototype._incrementIndicesFrom=function(t){for(var e=this._timePointsByIndex.size-1;e>=t;--e){var i=h(this._timePointsByIndex.get(e)),n=e+1;h(this._pointDataByTimePoint.get(i.timestamp)).index=n,this._timePointsByIndex.delete(e),this._timePointsByIndex.set(n,i)}},t.prototype._rebuildTimePointsByIndex=function(){var t=this;this._timePointsByIndex.clear(),this._pointDataByTimePoint.forEach(function(e,i){t._timePointsByIndex.set(e.index,e.timePoint)})},t.prototype._generateMarksSinceIndex=function(t){for(var e=[],i=this._timePointsByIndex.get(t-1)||null,n=t;n<this._timePointsByIndex.size;++n){var r=h(this._timePointsByIndex.get(n)),o=Ni(r,i);i=r,e.push({span:o,time:r,index:n})}return e},t}(),Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.setData=function(t){var e,i,n,r=(e=t,i=this._series.options().color,(n=new jt).addColor(i),e.forEach(function(t){void 0!==t.color&&n.addColor(t.color)}),n);this._dataUpdatesConsumer.applyNewData(this._series,t,r)},e}(Ei),ji={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Yi={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Xi={color:"#2196f3",lineStyle:0,lineWidth:3,crosshairMarkerVisible:!0,crosshairMarkerRadius:4},qi={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,crosshairMarkerVisible:!0,crosshairMarkerRadius:4},$i={color:"#26a69a",base:0,lineWidth:2},Qi={title:"",lastValueVisible:!0,priceLineVisible:!0,priceLineWidth:1,priceLineColor:"",priceLineStyle:1,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},Ki=function(){function t(t){this._chartModel=t}return t.prototype.destroy=function(){delete this._chartModel},t.prototype.applyOptions=function(t){this._chartModel.applyOptions({priceScale:t})},t.prototype.options=function(){return this._priceScale().options()},t.prototype._priceScale=function(){return this._chartModel.mainPriceScale()},t}();!function(t){t[t.AnimationDurationMs=1e3]="AnimationDurationMs"}(Wi||(Wi={}));var Gi=function(){function t(t){this._model=t}return t.prototype.destroy=function(){delete this._model},t.prototype.scrollPosition=function(){return this._timeScale().rightOffset()},t.prototype.scrollToPosition=function(t,e){e?this._timeScale().scrollToOffsetAnimated(t,1e3):this._timeScale().setRightOffset(t)},t.prototype.scrollToRealTime=function(){this._timeScale().scrollToRealTime()},t.prototype.getVisibleRange=function(){var t=this._timeScale().visibleBars();if(null===t)return null;var e=this._model.timeScale().points(),i=d(e.firstIndex()),n=d(e.lastIndex());return{from:Zi(d(e.valueAt(Math.max(i,t.firstBar())))),to:Zi(d(e.valueAt(Math.min(n,t.lastBar()))))}},t.prototype.setVisibleRange=function(t){var e={from:Oi(t.from),to:Oi(t.to)};this._model.setTargetTimeRange(e)},t.prototype.resetTimeScale=function(){this._model.resetTimeScale()},t.prototype.fitContent=function(){this._model.fitContent()},t.prototype.applyOptions=function(t){this._timeScale().applyOptions(t)},t.prototype.options=function(){return g(this._timeScale().options())},t.prototype._timeScale=function(){return this._model.timeScale()},t}();function Zi(t){return t.businessDay||t.timestamp}function Ji(t){void 0!==t&&void 0!==t.minMove&&void 0===t.precision&&(t.precision=function(t){if(t>=1)return 0;for(var e=0;e<8;e++){var i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(t.minMove))}var tn=function(){function t(t,e){var i=this;this._dataLayer=new Ui,this._timeRangeChanged=new G,this._seriesMap=new Map,this._seriesMapReversed=new Map,this._clickedDelegate=new G,this._crosshairMovedDelegate=new G,this._chartWidget=new Ti(t,e),this._chartWidget.model().timeScale().visibleBarsChanged().subscribe(this._onVisibleBarsChanged.bind(this)),this._chartWidget.clicked().subscribe(function(t){i._clickedDelegate.hasListeners()&&i._clickedDelegate.fire(i._convertMouseParams(t()))},this),this._chartWidget.crosshairMoved().subscribe(function(t){i._crosshairMovedDelegate.hasListeners()&&i._crosshairMovedDelegate.fire(i._convertMouseParams(t()))},this);var n=this._chartWidget.model();this._priceScaleApi=new Ki(n),this._timeScaleApi=new Gi(n)}return t.prototype.remove=function(){this._chartWidget.model().timeScale().visibleBarsChanged().unsubscribeAll(this),this._chartWidget.clicked().unsubscribeAll(this),this._chartWidget.crosshairMoved().unsubscribeAll(this),this._priceScaleApi.destroy(),this._timeScaleApi.destroy(),this._chartWidget.destroy(),delete this._chartWidget,this._seriesMap.forEach(function(t,e){e.destroy()}),this._seriesMap.clear(),this._seriesMapReversed.clear(),this._timeRangeChanged.destroy(),this._clickedDelegate.destroy(),this._crosshairMovedDelegate.destroy(),this._dataLayer.destroy(),delete this._dataLayer},t.prototype.resize=function(t,e,i){this._chartWidget.resize(t,e,i)},t.prototype.addAreaSeries=function(t){void 0===t&&(t={}),Ji(t.priceFormat);var e=f(g(Qi),qi,t),i=this._chartWidget.model().createSeries("Area",e),n=new Ei(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.addBarSeries=function(t){void 0===t&&(t={}),Ji(t.priceFormat);var e=f(g(Qi),Yi,t),i=this._chartWidget.model().createSeries("Bar",e),n=new Ei(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.addCandlestickSeries=function(t){void 0===t&&(t={}),Pi(t),Ji(t.priceFormat);var e=f(g(Qi),ji,t),i=this._chartWidget.model().createSeries("Candlestick",e),n=new Mi(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.addHistogramSeries=function(t){void 0===t&&(t={}),Ji(t.priceFormat);var e=f(g(Qi),$i,t),i=this._chartWidget.model().createSeries("Histogram",e),n=new Hi(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.addLineSeries=function(t){void 0===t&&(t={}),Ji(t.priceFormat);var e=f(g(Qi),Xi,t),i=this._chartWidget.model().createSeries("Line",e),n=new Ei(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.removeSeries=function(t){var e=t,i=h(this._seriesMap.get(e)),n=this._dataLayer.removeSeries(i),r=this._chartWidget.model();r.removeSeries(i);var o=n.timeScaleUpdate;r.updateTimeScale(o.index,o.changes,o.marks,!0),o.seriesUpdates.forEach(function(t,e){e.setData(t.update,!1)}),r.updateTimeScaleBaseIndex(0),this._seriesMap.delete(e),this._seriesMapReversed.delete(i)},t.prototype.applyNewData=function(t,e,i){var n=this._dataLayer.setSeriesData(t,e,i),r=this._chartWidget.model(),o=n.timeScaleUpdate;r.updateTimeScale(o.index,o.changes,o.marks,!0),o.seriesUpdates.forEach(function(e,n){n.setData(e.update,t===n,i)}),r.updateTimeScaleBaseIndex(0)},t.prototype.updateData=function(t,e){var i=t.palette(),n=this._dataLayer.updateSeriesData(t,e,i),r=this._chartWidget.model(),o=n.timeScaleUpdate;r.updateTimeScale(o.index,o.changes,o.marks,!1),o.seriesUpdates.forEach(function(t,e){e.updateData(t.update)}),r.updateTimeScaleBaseIndex(0)},t.prototype.subscribeClick=function(t){this._clickedDelegate.subscribe(t)},t.prototype.unsubscribeClick=function(t){this._clickedDelegate.unsubscribe(t)},t.prototype.subscribeCrosshairMove=function(t){this._crosshairMovedDelegate.subscribe(t)},t.prototype.unsubscribeCrosshairMove=function(t){this._crosshairMovedDelegate.unsubscribe(t)},t.prototype.subscribeVisibleTimeRangeChange=function(t){this._timeRangeChanged.subscribe(t)},t.prototype.unsubscribeVisibleTimeRangeChange=function(t){this._timeRangeChanged.unsubscribe(t)},t.prototype.priceScale=function(){return this._priceScaleApi},t.prototype.timeScale=function(){return this._timeScaleApi},t.prototype.applyOptions=function(t){this._chartWidget.applyOptions(t)},t.prototype.options=function(){return this._chartWidget.options()},t.prototype.takeScreenshot=function(){return this._chartWidget.takeScreenshot()},t.prototype._onVisibleBarsChanged=function(){this._timeRangeChanged.hasListeners()&&this._timeRangeChanged.fire(this.timeScale().getVisibleRange())},t.prototype._mapSeriesToApi=function(t){return h(this._seriesMapReversed.get(t))},t.prototype._convertMouseParams=function(t){var e=this,i=new Map;return t.seriesPrices.forEach(function(t,n){i.set(e._mapSeriesToApi(n),t)}),{time:t.time&&(t.time.businessDay||t.time.timestamp),point:t.point,seriesPrices:i}},t}(),en={width:0,height:0,layout:{backgroundColor:"#FFFFFF",textColor:"#191919",fontSize:11,fontFamily:_e},crosshair:{vertLine:{color:"#758696",width:1,style:2,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:2,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},priceScale:{autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,position:"right",borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,scaleMargins:{bottom:.1,top:.2}},timeScale:{rightOffset:0,barSpacing:6,fixLeftEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0},watermark:{color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,text:"",horzAlign:"center",vertAlign:"center"},localization:{locale:navigator.language,dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:!0,mouseWheel:!0,pinch:!0}};function nn(t,e){var i=d(v(t)?document.getElementById(t):t),n=void 0===e?g(en):f(g(en),e);return new tn(i,n)}},function(t,e,i){"use strict";function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}i.d(e,"a",function(){return o})},function(t,e,i){"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}i.d(e,"a",function(){return r})},,function(t,e,i){"use strict";var n=i(2),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,_=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e=arguments.length-1,i="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=0;n<e;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);!function(t,e,i,n,r,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[i,n,r,o,a,s],u=0;(t=Error(e.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",i)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function S(t,e,i){this.props=t,this.context=e,this.refs=b,this.updater=i||g}function x(){}function w(t,e,i){this.props=t,this.context=e,this.refs=b,this.updater=i||g}S.prototype.isReactComponent={},S.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&y("85"),this.updater.enqueueSetState(this,t,e,"setState")},S.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=S.prototype;var k=w.prototype=new x;k.constructor=w,n(k,S.prototype),k.isPureReactComponent=!0;var C={current:null},T={current:null},P=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function M(t,e,i){var n=void 0,r={},a=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)P.call(e,n)&&!E.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:o,type:t,key:a,ref:s,props:r,_owner:T.current}}function R(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var D=/\/+/g,I=[];function O(t,e,i,n){if(I.length){var r=I.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function z(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>I.length&&I.push(t)}function A(t,e,i){return null==t?0:function t(e,i,n,r){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case a:l=!0}}if(l)return n(r,e,""===i?"."+L(e,0):i),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=i+L(s=e[u],u);l+=t(s,c,n,r)}else if(c=null===e||"object"!==typeof e?null:"function"===typeof(c=v&&e[v]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=t(s=s.value,c=i+L(s,u++),n,r);else"object"===s&&y("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return l}(t,"",e,i)}function L(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function V(t,e){t.func.call(t.context,e,t.count++)}function N(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?B(t,n,i,function(t){return t}):null!=t&&(R(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(D,"$&/")+"/")+i)),n.push(t))}function B(t,e,i,n,r){var o="";null!=i&&(o=(""+i).replace(D,"$&/")+"/"),A(t,N,e=O(e,o,n,r)),z(e)}function F(){var t=C.current;return null===t&&y("321"),t}var W={Children:{map:function(t,e,i){if(null==t)return t;var n=[];return B(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;A(t,V,e=O(null,null,e,i)),z(e)},count:function(t){return A(t,function(){return null},null)},toArray:function(t){var e=[];return B(t,e,null,function(t){return t}),e},only:function(t){return R(t)||y("143"),t}},createRef:function(){return{current:null}},Component:S,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:p,render:t}},lazy:function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:_,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return F().useCallback(t,e)},useContext:function(t,e){return F().useContext(t,e)},useEffect:function(t,e){return F().useEffect(t,e)},useImperativeHandle:function(t,e,i){return F().useImperativeHandle(t,e,i)},useDebugValue:function(){},useLayoutEffect:function(t,e){return F().useLayoutEffect(t,e)},useMemo:function(t,e){return F().useMemo(t,e)},useReducer:function(t,e,i){return F().useReducer(t,e,i)},useRef:function(t){return F().useRef(t)},useState:function(t){return F().useState(t)},Fragment:s,StrictMode:l,Suspense:f,createElement:M,cloneElement:function(t,e,i){(null===t||void 0===t)&&y("267",t);var r=void 0,a=n({},t.props),s=t.key,l=t.ref,u=t._owner;if(null!=e){void 0!==e.ref&&(l=e.ref,u=T.current),void 0!==e.key&&(s=""+e.key);var c=void 0;for(r in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)P.call(e,r)&&!E.hasOwnProperty(r)&&(a[r]=void 0===e[r]&&void 0!==c?c[r]:e[r])}if(1===(r=arguments.length-2))a.children=i;else if(1<r){c=Array(r);for(var h=0;h<r;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:o,type:t.type,key:s,ref:l,props:a,_owner:u}},createFactory:function(t){var e=M.bind(null,t);return e.type=t,e},isValidElement:R,version:"16.8.6",unstable_ConcurrentMode:d,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentOwner:T,assign:n}},U={default:W},H=U&&W||U;t.exports=H.default||H},function(t,e,i){"use strict";var n=i(0),r=i(2),o=i(13);function a(t){for(var e=arguments.length-1,i="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=0;n<e;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);!function(t,e,i,n,r,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[i,n,r,o,a,s],u=0;(t=Error(e.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",i)}n||a("227");var s=!1,l=null,u=!1,c=null,h={onError:function(t){s=!0,l=t}};function d(t,e,i,n,r,o,a,u,c){s=!1,l=null,function(t,e,i,n,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(c){this.onError(c)}}.apply(h,arguments)}var p=null,f={};function _(){if(p)for(var t in f){var e=f[t],i=p.indexOf(t);if(-1<i||a("96",t),!v[i])for(var n in e.extractEvents||a("97",t),v[i]=e,i=e.eventTypes){var r=void 0,o=i[n],s=e,l=n;y.hasOwnProperty(l)&&a("99",l),y[l]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&m(u[r],s,l);r=!0}else o.registrationName?(m(o.registrationName,s,l),r=!0):r=!1;r||a("98",n,t)}}}function m(t,e,i){g[t]&&a("100",t),g[t]=e,b[t]=e.eventTypes[i].dependencies}var v=[],y={},g={},b={},S=null,x=null,w=null;function k(t,e,i){var n=t.type||"unknown-event";t.currentTarget=w(i),function(t,e,i,n,r,o,h,p,f){if(d.apply(this,arguments),s){if(s){var _=l;s=!1,l=null}else a("198"),_=void 0;u||(u=!0,c=_)}}(n,e,void 0,t),t.currentTarget=null}function C(t,e){return null==e&&a("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function T(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var P=null;function E(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)k(t,e[n],i[n]);else e&&k(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}var M={injectEventPluginOrder:function(t){p&&a("101"),p=Array.prototype.slice.call(t),_()},injectEventPluginsByName:function(t){var e,i=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];f.hasOwnProperty(e)&&f[e]===n||(f[e]&&a("102",e),f[e]=n,i=!0)}i&&_()}};function R(t,e){var i=t.stateNode;if(!i)return null;var n=S(i);if(!n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}return t?null:(i&&"function"!==typeof i&&a("231",e,typeof i),i)}function D(t){if(null!==t&&(P=C(P,t)),t=P,P=null,t&&(T(t,E),P&&a("95"),u))throw t=c,u=!1,c=null,t}var I=Math.random().toString(36).slice(2),O="__reactInternalInstance$"+I,z="__reactEventHandlers$"+I;function A(t){if(t[O])return t[O];for(;!t[O];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[O]).tag||6===t.tag?t:null}function L(t){return!(t=t[O])||5!==t.tag&&6!==t.tag?null:t}function V(t){if(5===t.tag||6===t.tag)return t.stateNode;a("33")}function N(t){return t[z]||null}function B(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function F(t,e,i){(e=R(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=C(i._dispatchListeners,e),i._dispatchInstances=C(i._dispatchInstances,t))}function W(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=B(e);for(e=i.length;0<e--;)F(i[e],"captured",t);for(e=0;e<i.length;e++)F(i[e],"bubbled",t)}}function U(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=R(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=C(i._dispatchListeners,e),i._dispatchInstances=C(i._dispatchInstances,t))}function H(t){t&&t.dispatchConfig.registrationName&&U(t._targetInst,null,t)}function j(t){T(t,W)}var Y=!("undefined"===typeof window||!window.document||!window.document.createElement);function X(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var q={animationend:X("Animation","AnimationEnd"),animationiteration:X("Animation","AnimationIteration"),animationstart:X("Animation","AnimationStart"),transitionend:X("Transition","TransitionEnd")},$={},Q={};function K(t){if($[t])return $[t];if(!q[t])return t;var e,i=q[t];for(e in i)if(i.hasOwnProperty(e)&&e in Q)return $[t]=i[e];return t}Y&&(Q=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);var G=K("animationend"),Z=K("animationiteration"),J=K("animationstart"),tt=K("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),it=null,nt=null,rt=null;function ot(){if(rt)return rt;var t,e,i=nt,n=i.length,r="value"in it?it.value:it.textContent,o=r.length;for(t=0;t<n&&i[t]===r[t];t++);var a=n-t;for(e=1;e<=a&&i[n-e]===r[o-e];e++);return rt=r.slice(t,1<e?1-e:void 0)}function at(){return!0}function st(){return!1}function lt(t,e,i,n){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?at:st,this.isPropagationStopped=st,this}function ut(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function ct(t){t instanceof this||a("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function ht(t){t.eventPool=[],t.getPooled=ut,t.release=ct}r(lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){this.isPersistent=at},isPersistent:st,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=st,this._dispatchInstances=this._dispatchListeners=null}}),lt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},lt.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var o=new e;return r(o,i.prototype),i.prototype=o,i.prototype.constructor=i,i.Interface=r({},n.Interface,t),i.extend=n.extend,ht(i),i},ht(lt);var dt=lt.extend({data:null}),pt=lt.extend({data:null}),ft=[9,13,27,32],_t=Y&&"CompositionEvent"in window,mt=null;Y&&"documentMode"in document&&(mt=document.documentMode);var vt=Y&&"TextEvent"in window&&!mt,yt=Y&&(!_t||mt&&8<mt&&11>=mt),gt=String.fromCharCode(32),bt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},St=!1;function xt(t,e){switch(t){case"keyup":return-1!==ft.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function wt(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var kt=!1;var Ct={eventTypes:bt,extractEvents:function(t,e,i,n){var r=void 0,o=void 0;if(_t)t:{switch(t){case"compositionstart":r=bt.compositionStart;break t;case"compositionend":r=bt.compositionEnd;break t;case"compositionupdate":r=bt.compositionUpdate;break t}r=void 0}else kt?xt(t,i)&&(r=bt.compositionEnd):"keydown"===t&&229===i.keyCode&&(r=bt.compositionStart);return r?(yt&&"ko"!==i.locale&&(kt||r!==bt.compositionStart?r===bt.compositionEnd&&kt&&(o=ot()):(nt="value"in(it=n)?it.value:it.textContent,kt=!0)),r=dt.getPooled(r,e,i,n),o?r.data=o:null!==(o=wt(i))&&(r.data=o),j(r),o=r):o=null,(t=vt?function(t,e){switch(t){case"compositionend":return wt(e);case"keypress":return 32!==e.which?null:(St=!0,gt);case"textInput":return(t=e.data)===gt&&St?null:t;default:return null}}(t,i):function(t,e){if(kt)return"compositionend"===t||!_t&&xt(t,e)?(t=ot(),rt=nt=it=null,kt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yt&&"ko"!==e.locale?null:e.data;default:return null}}(t,i))?((e=pt.getPooled(bt.beforeInput,e,i,n)).data=t,j(e)):e=null,null===o?e:null===e?o:[o,e]}},Tt=null,Pt=null,Et=null;function Mt(t){if(t=x(t)){"function"!==typeof Tt&&a("280");var e=S(t.stateNode);Tt(t.stateNode,t.type,e)}}function Rt(t){Pt?Et?Et.push(t):Et=[t]:Pt=t}function Dt(){if(Pt){var t=Pt,e=Et;if(Et=Pt=null,Mt(t),e)for(t=0;t<e.length;t++)Mt(e[t])}}function It(t,e){return t(e)}function Ot(t,e,i){return t(e,i)}function zt(){}var At=!1;function Lt(t,e){if(At)return t(e);At=!0;try{return It(t,e)}finally{At=!1,(null!==Pt||null!==Et)&&(zt(),Dt())}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vt[t.type]:"textarea"===e}function Bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Ft(t){if(!Y)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function Wt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Ut(t){t._valueTracker||(t._valueTracker=function(t){var e=Wt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Ht(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=Wt(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}var jt=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;jt.hasOwnProperty("ReactCurrentDispatcher")||(jt.ReactCurrentDispatcher={current:null});var Yt=/^(.*)[\\\/]/,Xt="function"===typeof Symbol&&Symbol.for,qt=Xt?Symbol.for("react.element"):60103,$t=Xt?Symbol.for("react.portal"):60106,Qt=Xt?Symbol.for("react.fragment"):60107,Kt=Xt?Symbol.for("react.strict_mode"):60108,Gt=Xt?Symbol.for("react.profiler"):60114,Zt=Xt?Symbol.for("react.provider"):60109,Jt=Xt?Symbol.for("react.context"):60110,te=Xt?Symbol.for("react.concurrent_mode"):60111,ee=Xt?Symbol.for("react.forward_ref"):60112,ie=Xt?Symbol.for("react.suspense"):60113,ne=Xt?Symbol.for("react.memo"):60115,re=Xt?Symbol.for("react.lazy"):60116,oe="function"===typeof Symbol&&Symbol.iterator;function ae(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=oe&&t[oe]||t["@@iterator"])?t:null}function se(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case te:return"ConcurrentMode";case Qt:return"Fragment";case $t:return"Portal";case Gt:return"Profiler";case Kt:return"StrictMode";case ie:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case Jt:return"Context.Consumer";case Zt:return"Context.Provider";case ee:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ne:return se(t.type);case re:if(t=1===t._status?t._result:null)return se(t)}return null}function le(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break t;default:var n=t._debugOwner,r=t._debugSource,o=se(t.type);i=null,n&&(i=se(n.type)),n=o,o="",r?o=" (at "+r.fileName.replace(Yt,"")+":"+r.lineNumber+")":i&&(o=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+o}e+=i,t=t.return}while(t);return e}var ue=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ce=Object.prototype.hasOwnProperty,he={},de={};function pe(t,e,i,n,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new pe(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new pe(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new pe(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new pe(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new pe(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new pe(t,3,!0,t,null)}),["capture","download"].forEach(function(t){fe[t]=new pe(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){fe[t]=new pe(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){fe[t]=new pe(t,5,!1,t.toLowerCase(),null)});var _e=/[\-:]([a-z])/g;function me(t){return t[1].toUpperCase()}function ve(t,e,i,n){var r=fe.hasOwnProperty(e)?fe[e]:null;(null!==r?0===r.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!ce.call(de,t)||!ce.call(he,t)&&(ue.test(t)?de[t]=!0:(he[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}function ye(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function ge(t,e){var i=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function be(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=ye(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Se(t,e){null!=(e=e.checked)&&ve(t,"checked",e,!1)}function xe(t,e){Se(t,e);var i=ye(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?ke(t,e.type,i):e.hasOwnProperty("defaultValue")&&ke(t,e.type,ye(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function we(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function ke(t,e,i){"number"===e&&t.ownerDocument.activeElement===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_e,me);fe[e]=new pe(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_e,me);fe[e]=new pe(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_e,me);fe[e]=new pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new pe(t,1,!1,t.toLowerCase(),null)});var Ce={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Te(t,e,i){return(t=lt.getPooled(Ce.change,t,e,i)).type="change",Rt(i),j(t),t}var Pe=null,Ee=null;function Me(t){D(t)}function Re(t){if(Ht(V(t)))return t}function De(t,e){if("change"===t)return e}var Ie=!1;function Oe(){Pe&&(Pe.detachEvent("onpropertychange",ze),Ee=Pe=null)}function ze(t){"value"===t.propertyName&&Re(Ee)&&Lt(Me,t=Te(Ee,t,Bt(t)))}function Ae(t,e,i){"focus"===t?(Oe(),Ee=i,(Pe=e).attachEvent("onpropertychange",ze)):"blur"===t&&Oe()}function Le(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Re(Ee)}function Ve(t,e){if("click"===t)return Re(e)}function Ne(t,e){if("input"===t||"change"===t)return Re(e)}Y&&(Ie=Ft("input")&&(!document.documentMode||9<document.documentMode));var Be={eventTypes:Ce,_isInputEventSupported:Ie,extractEvents:function(t,e,i,n){var r=e?V(e):window,o=void 0,a=void 0,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type?o=De:Nt(r)?Ie?o=Ne:(o=Le,a=Ae):(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Ve),o&&(o=o(t,e)))return Te(o,i,n);a&&a(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&ke(r,"number",r.value)}},Fe=lt.extend({view:null,detail:null}),We={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ue(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=We[t])&&!!e[t]}function He(){return Ue}var je=0,Ye=0,Xe=!1,qe=!1,$e=Fe.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:He,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=je;return je=t.screenX,Xe?"mousemove"===t.type?t.screenX-e:0:(Xe=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ye;return Ye=t.screenY,qe?"mousemove"===t.type?t.screenY-e:0:(qe=!0,0)}}),Qe=$e.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ke={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ge={eventTypes:Ke,extractEvents:function(t,e,i,n){var r="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(r&&(i.relatedTarget||i.fromElement)||!o&&!r)return null;if(r=n.window===n?n:(r=n.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=e,e=(e=i.relatedTarget||i.toElement)?A(e):null):o=null,o===e)return null;var a=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===t||"mouseover"===t?(a=$e,s=Ke.mouseLeave,l=Ke.mouseEnter,u="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=Qe,s=Ke.pointerLeave,l=Ke.pointerEnter,u="pointer");var c=null==o?r:V(o);if(r=null==e?r:V(e),(t=a.getPooled(s,o,i,n)).type=u+"leave",t.target=c,t.relatedTarget=r,(i=a.getPooled(l,e,i,n)).type=u+"enter",i.target=r,i.relatedTarget=c,n=e,o&&n)t:{for(r=n,u=0,a=e=o;a;a=B(a))u++;for(a=0,l=r;l;l=B(l))a++;for(;0<u-a;)e=B(e),u--;for(;0<a-u;)r=B(r),a--;for(;u--;){if(e===r||e===r.alternate)break t;e=B(e),r=B(r)}e=null}else e=null;for(r=e,e=[];o&&o!==r&&(null===(u=o.alternate)||u!==r);)e.push(o),o=B(o);for(o=[];n&&n!==r&&(null===(u=n.alternate)||u!==r);)o.push(n),n=B(n);for(n=0;n<e.length;n++)U(e[n],"bubbled",t);for(n=o.length;0<n--;)U(o[n],"captured",i);return[t,i]}};function Ze(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e}var Je=Object.prototype.hasOwnProperty;function ti(t,e){if(Ze(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Je.call(e,i[n])||!Ze(t[i[n]],e[i[n]]))return!1;return!0}function ei(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function ii(t){2!==ei(t)&&a("188")}function ni(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=ei(t))&&a("188"),1===e?null:t;for(var i=t,n=e;;){var r=i.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var s=r.child;s;){if(s===i)return ii(r),t;if(s===n)return ii(r),e;s=s.sibling}a("188")}if(i.return!==n.return)i=r,n=o;else{s=!1;for(var l=r.child;l;){if(l===i){s=!0,i=r,n=o;break}if(l===n){s=!0,n=r,i=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===i){s=!0,i=o,n=r;break}if(l===n){s=!0,n=o,i=r;break}l=l.sibling}s||a("189")}}i.alternate!==n&&a("190")}return 3!==i.tag&&a("188"),i.stateNode.current===i?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var ri=lt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),oi=lt.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ai=Fe.extend({relatedTarget:null});function si(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var li={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ui={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ci=Fe.extend({key:function(t){if(t.key){var e=li[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=si(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ui[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:He,charCode:function(t){return"keypress"===t.type?si(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?si(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),hi=$e.extend({dataTransfer:null}),di=Fe.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:He}),pi=lt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),fi=$e.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),_i=[["abort","abort"],[G,"animationEnd"],[Z,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[tt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],mi={},vi={};function yi(t,e){var i=t[0],n="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[i],isInteractive:e},mi[t]=e,vi[i]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){yi(t,!0)}),_i.forEach(function(t){yi(t,!1)});var gi={eventTypes:mi,isInteractiveTopLevelEventType:function(t){return void 0!==(t=vi[t])&&!0===t.isInteractive},extractEvents:function(t,e,i,n){var r=vi[t];if(!r)return null;switch(t){case"keypress":if(0===si(i))return null;case"keydown":case"keyup":t=ci;break;case"blur":case"focus":t=ai;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=$e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=hi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=di;break;case G:case Z:case J:t=ri;break;case tt:t=pi;break;case"scroll":t=Fe;break;case"wheel":t=fi;break;case"copy":case"cut":case"paste":t=oi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Qe;break;default:t=lt}return j(e=t.getPooled(r,e,i,n)),e}},bi=gi.isInteractiveTopLevelEventType,Si=[];function xi(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n;for(n=i;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(i),i=A(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=Bt(t.nativeEvent);n=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<v.length;s++){var l=v[s];l&&(l=l.extractEvents(n,e,o,r))&&(a=C(a,l))}D(a)}}var wi=!0;function ki(t,e){if(!e)return null;var i=(bi(t)?Ti:Pi).bind(null,t);e.addEventListener(t,i,!1)}function Ci(t,e){if(!e)return null;var i=(bi(t)?Ti:Pi).bind(null,t);e.addEventListener(t,i,!0)}function Ti(t,e){Ot(Pi,t,e)}function Pi(t,e){if(wi){var i=Bt(e);if(null===(i=A(i))||"number"!==typeof i.tag||2===ei(i)||(i=null),Si.length){var n=Si.pop();n.topLevelType=t,n.nativeEvent=e,n.targetInst=i,t=n}else t={topLevelType:t,nativeEvent:e,targetInst:i,ancestors:[]};try{Lt(xi,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Si.length&&Si.push(t)}}}var Ei={},Mi=0,Ri="_reactListenersID"+(""+Math.random()).slice(2);function Di(t){return Object.prototype.hasOwnProperty.call(t,Ri)||(t[Ri]=Mi++,Ei[t[Ri]]={}),Ei[t[Ri]]}function Ii(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Oi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zi(t,e){var i,n=Oi(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Oi(n)}}function Ai(){for(var t=window,e=Ii();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=Ii((t=e.contentWindow).document)}return e}function Li(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Vi(t){var e=Ai(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&function t(e,i){return!(!e||!i)&&(e===i||(!e||3!==e.nodeType)&&(i&&3===i.nodeType?t(e,i.parentNode):"contains"in e?e.contains(i):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(i))))}(i.ownerDocument.documentElement,i)){if(null!==n&&Li(i))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=i.textContent.length,o=Math.min(n.start,r);n=void 0===n.end?o:Math.min(n.end,r),!t.extend&&o>n&&(r=n,n=o,o=r),r=zi(i,o);var a=zi(i,n);r&&a&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ni=Y&&"documentMode"in document&&11>=document.documentMode,Bi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Fi=null,Wi=null,Ui=null,Hi=!1;function ji(t,e){var i=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Hi||null==Fi||Fi!==Ii(i)?null:("selectionStart"in(i=Fi)&&Li(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Ui&&ti(Ui,i)?null:(Ui=i,(t=lt.getPooled(Bi.select,Wi,t,e)).type="select",t.target=Fi,j(t),t))}var Yi={eventTypes:Bi,extractEvents:function(t,e,i,n){var r,o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(r=!o)){t:{o=Di(o),r=b.onSelect;for(var a=0;a<r.length;a++){var s=r[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}r=!o}if(r)return null;switch(o=e?V(e):window,t){case"focus":(Nt(o)||"true"===o.contentEditable)&&(Fi=o,Wi=e,Ui=null);break;case"blur":Ui=Wi=Fi=null;break;case"mousedown":Hi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hi=!1,ji(i,n);case"selectionchange":if(Ni)break;case"keydown":case"keyup":return ji(i,n)}return null}};function Xi(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function qi(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+ye(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function $i(t,e){return null!=e.dangerouslySetInnerHTML&&a("91"),r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qi(t,e){var i=e.value;null==i&&(i=e.defaultValue,null!=(e=e.children)&&(null!=i&&a("92"),Array.isArray(e)&&(1>=e.length||a("93"),e=e[0]),i=e),null==i&&(i="")),t._wrapperState={initialValue:ye(i)}}function Ki(t,e){var i=ye(e.value),n=ye(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function Gi(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}M.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S=N,x=L,w=V,M.injectEventPluginsByName({SimpleEventPlugin:gi,EnterLeaveEventPlugin:Ge,ChangeEventPlugin:Be,SelectEventPlugin:Yi,BeforeInputEventPlugin:Ct});var Zi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ji(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ji(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var en,nn=void 0,rn=(en=function(t,e){if(t.namespaceURI!==Zi.svg||"innerHTML"in t)t.innerHTML=e;else{for((nn=nn||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=nn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,n){MSApp.execUnsafeLocalFunction(function(){return en(t,e)})}:en);function on(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var an={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sn=["Webkit","ms","Moz","O"];function ln(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||an.hasOwnProperty(t)&&an[t]?(""+e).trim():e+"px"}function un(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=ln(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(an).forEach(function(t){sn.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),an[e]=an[t]})});var cn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hn(t,e){e&&(cn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&a("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&a("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||a("61")),null!=e.style&&"object"!==typeof e.style&&a("62",""))}function dn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pn(t,e){var i=Di(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=b[e];for(var n=0;n<e.length;n++){var r=e[n];if(!i.hasOwnProperty(r)||!i[r]){switch(r){case"scroll":Ci("scroll",t);break;case"focus":case"blur":Ci("focus",t),Ci("blur",t),i.blur=!0,i.focus=!0;break;case"cancel":case"close":Ft(r)&&Ci(r,t);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(r)&&ki(r,t)}i[r]=!0}}}function fn(){}var _n=null,mn=null;function vn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function yn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var gn="function"===typeof setTimeout?setTimeout:void 0,bn="function"===typeof clearTimeout?clearTimeout:void 0,Sn=o.unstable_scheduleCallback,xn=o.unstable_cancelCallback;function wn(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function kn(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var Cn=[],Tn=-1;function Pn(t){0>Tn||(t.current=Cn[Tn],Cn[Tn]=null,Tn--)}function En(t,e){Cn[++Tn]=t.current,t.current=e}var Mn={},Rn={current:Mn},Dn={current:!1},In=Mn;function On(t,e){var i=t.type.contextTypes;if(!i)return Mn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in i)o[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function zn(t){return null!==(t=t.childContextTypes)&&void 0!==t}function An(t){Pn(Dn),Pn(Rn)}function Ln(t){Pn(Dn),Pn(Rn)}function Vn(t,e,i){Rn.current!==Mn&&a("168"),En(Rn,e),En(Dn,i)}function Nn(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var o in n=n.getChildContext())o in t||a("108",se(e)||"Unknown",o);return r({},i,n)}function Bn(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Mn,In=Rn.current,En(Rn,e),En(Dn,Dn.current),!0}function Fn(t,e,i){var n=t.stateNode;n||a("169"),i?(e=Nn(t,e,In),n.__reactInternalMemoizedMergedChildContext=e,Pn(Dn),Pn(Rn),En(Rn,e)):Pn(Dn),En(Dn,i)}var Wn=null,Un=null;function Hn(t){return function(e){try{return t(e)}catch(i){}}}function jn(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Yn(t,e,i,n){return new jn(t,e,i,n)}function Xn(t){return!(!(t=t.prototype)||!t.isReactComponent)}function qn(t,e){var i=t.alternate;return null===i?((i=Yn(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,i.contextDependencies=t.contextDependencies,i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function $n(t,e,i,n,r,o){var s=2;if(n=t,"function"===typeof t)Xn(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case Qt:return Qn(i.children,r,o,e);case te:return Kn(i,3|r,o,e);case Kt:return Kn(i,2|r,o,e);case Gt:return(t=Yn(12,i,e,4|r)).elementType=Gt,t.type=Gt,t.expirationTime=o,t;case ie:return(t=Yn(13,i,e,r)).elementType=ie,t.type=ie,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case Zt:s=10;break t;case Jt:s=9;break t;case ee:s=11;break t;case ne:s=14;break t;case re:s=16,n=null;break t}a("130",null==t?t:typeof t,"")}return(e=Yn(s,i,e,r)).elementType=t,e.type=n,e.expirationTime=o,e}function Qn(t,e,i,n){return(t=Yn(7,t,n,e)).expirationTime=i,t}function Kn(t,e,i,n){return t=Yn(8,t,n,e),e=0===(1&e)?Kt:te,t.elementType=e,t.type=e,t.expirationTime=i,t}function Gn(t,e,i){return(t=Yn(6,t,null,e)).expirationTime=i,t}function Zn(t,e,i){return(e=Yn(4,null!==t.children?t.children:[],t.key,e)).expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jn(t,e){t.didError=!1;var i=t.earliestPendingTime;0===i?t.earliestPendingTime=t.latestPendingTime=e:i<e?t.earliestPendingTime=e:t.latestPendingTime>e&&(t.latestPendingTime=e),ir(e,t)}function tr(t,e){t.didError=!1,t.latestPingedTime>=e&&(t.latestPingedTime=0);var i=t.earliestPendingTime,n=t.latestPendingTime;i===e?t.earliestPendingTime=n===e?t.latestPendingTime=0:n:n===e&&(t.latestPendingTime=i),i=t.earliestSuspendedTime,n=t.latestSuspendedTime,0===i?t.earliestSuspendedTime=t.latestSuspendedTime=e:i<e?t.earliestSuspendedTime=e:n>e&&(t.latestSuspendedTime=e),ir(e,t)}function er(t,e){var i=t.earliestPendingTime;return i>e&&(e=i),(t=t.earliestSuspendedTime)>e&&(e=t),e}function ir(t,e){var i=e.earliestSuspendedTime,n=e.latestSuspendedTime,r=e.earliestPendingTime,o=e.latestPingedTime;0===(r=0!==r?r:o)&&(0===t||n<t)&&(r=n),0!==(t=r)&&i>t&&(t=i),e.nextExpirationTimeToWorkOn=r,e.expirationTime=t}function nr(t,e){if(t&&t.defaultProps)for(var i in e=r({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}var rr=(new n.Component).refs;function or(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:r({},e,i),t.memoizedState=i,null!==(n=t.updateQueue)&&0===t.expirationTime&&(n.baseState=i)}var ar={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===ei(t)},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=xs(),r=Ko(n=Qa(n,t));r.payload=e,void 0!==i&&null!==i&&(r.callback=i),Ha(),Zo(t,r),Za(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=xs(),r=Ko(n=Qa(n,t));r.tag=jo,r.payload=e,void 0!==i&&null!==i&&(r.callback=i),Ha(),Zo(t,r),Za(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=xs(),n=Ko(i=Qa(i,t));n.tag=Yo,void 0!==e&&null!==e&&(n.callback=e),Ha(),Zo(t,n),Za(t,i)}};function sr(t,e,i,n,r,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ti(i,n)||!ti(r,o))}function lr(t,e,i){var n=!1,r=Mn,o=e.contextType;return"object"===typeof o&&null!==o?o=Uo(o):(r=zn(e)?In:Rn.current,o=(n=null!==(n=e.contextTypes)&&void 0!==n)?On(t,r):Mn),e=new e(i,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ar,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function ur(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&ar.enqueueReplaceState(e,e.state,null)}function cr(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=rr;var o=e.contextType;"object"===typeof o&&null!==o?r.context=Uo(o):(o=zn(e)?In:Rn.current,r.context=On(t,o)),null!==(o=t.updateQueue)&&(ia(t,o,i,r,n),r.state=t.memoizedState),"function"===typeof(o=e.getDerivedStateFromProps)&&(or(t,e,o,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ar.enqueueReplaceState(r,r.state,null),null!==(o=t.updateQueue)&&(ia(t,o,i,r,n),r.state=t.memoizedState)),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var hr=Array.isArray;function dr(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){i=i._owner;var n=void 0;i&&(1!==i.tag&&a("309"),n=i.stateNode),n||a("147",t);var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=n.refs;e===rr&&(e=n.refs={}),null===t?delete e[r]:e[r]=t})._stringRef=r,e)}"string"!==typeof t&&a("284"),i._owner||a("290",t)}return t}function pr(t,e){"textarea"!==t.type&&a("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function fr(t){function e(e,i){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e,i){return(t=qn(t,e)).index=0,t.sibling=null,t}function o(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.effectTag=2,i):n:(e.effectTag=2,i):i}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,i,n){return null===e||6!==e.tag?((e=Gn(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function u(t,e,i,n){return null!==e&&e.elementType===i.type?((n=r(e,i.props)).ref=dr(t,e,i),n.return=t,n):((n=$n(i.type,i.key,i.props,null,t.mode,n)).ref=dr(t,e,i),n.return=t,n)}function c(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Zn(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function h(t,e,i,n,o){return null===e||7!==e.tag?((e=Qn(i,t.mode,n,o)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e||"number"===typeof e)return(e=Gn(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case qt:return(i=$n(e.type,e.key,e.props,null,t.mode,i)).ref=dr(t,null,e),i.return=t,i;case $t:return(e=Zn(e,t.mode,i)).return=t,e}if(hr(e)||ae(e))return(e=Qn(e,t.mode,i,null)).return=t,e;pr(t,e)}return null}function p(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:l(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case qt:return i.key===r?i.type===Qt?h(t,e,i.props.children,n,r):u(t,e,i,n):null;case $t:return i.key===r?c(t,e,i,n):null}if(hr(i)||ae(i))return null!==r?null:h(t,e,i,n,null);pr(t,i)}return null}function f(t,e,i,n,r){if("string"===typeof n||"number"===typeof n)return l(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case qt:return t=t.get(null===n.key?i:n.key)||null,n.type===Qt?h(e,t,n.props.children,r,n.key):u(e,t,n,r);case $t:return c(e,t=t.get(null===n.key?i:n.key)||null,n,r)}if(hr(n)||ae(n))return h(e,t=t.get(i)||null,n,r,null);pr(e,n)}return null}function _(r,a,s,l){for(var u=null,c=null,h=a,_=a=0,m=null;null!==h&&_<s.length;_++){h.index>_?(m=h,h=null):m=h.sibling;var v=p(r,h,s[_],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(r,h),a=o(v,a,_),null===c?u=v:c.sibling=v,c=v,h=m}if(_===s.length)return i(r,h),u;if(null===h){for(;_<s.length;_++)(h=d(r,s[_],l))&&(a=o(h,a,_),null===c?u=h:c.sibling=h,c=h);return u}for(h=n(r,h);_<s.length;_++)(m=f(h,r,_,s[_],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?_:m.key),a=o(m,a,_),null===c?u=m:c.sibling=m,c=m);return t&&h.forEach(function(t){return e(r,t)}),u}function m(r,s,l,u){var c=ae(l);"function"!==typeof c&&a("150"),null==(l=c.call(l))&&a("151");for(var h=c=null,_=s,m=s=0,v=null,y=l.next();null!==_&&!y.done;m++,y=l.next()){_.index>m?(v=_,_=null):v=_.sibling;var g=p(r,_,y.value,u);if(null===g){_||(_=v);break}t&&_&&null===g.alternate&&e(r,_),s=o(g,s,m),null===h?c=g:h.sibling=g,h=g,_=v}if(y.done)return i(r,_),c;if(null===_){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,u))&&(s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return c}for(_=n(r,_);!y.done;m++,y=l.next())null!==(y=f(_,r,m,y.value,u))&&(t&&null!==y.alternate&&_.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return t&&_.forEach(function(t){return e(r,t)}),c}return function(t,n,o,l){var u="object"===typeof o&&null!==o&&o.type===Qt&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case qt:t:{for(c=o.key,u=n;null!==u;){if(u.key===c){if(7===u.tag?o.type===Qt:u.elementType===o.type){i(t,u.sibling),(n=r(u,o.type===Qt?o.props.children:o.props)).ref=dr(t,u,o),n.return=t,t=n;break t}i(t,u);break}e(t,u),u=u.sibling}o.type===Qt?((n=Qn(o.props.children,t.mode,l,o.key)).return=t,t=n):((l=$n(o.type,o.key,o.props,null,t.mode,l)).ref=dr(t,n,o),l.return=t,t=l)}return s(t);case $t:t:{for(u=o.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){i(t,n.sibling),(n=r(n,o.children||[])).return=t,t=n;break t}i(t,n);break}e(t,n),n=n.sibling}(n=Zn(o,t.mode,l)).return=t,t=n}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(i(t,n.sibling),(n=r(n,o)).return=t,t=n):(i(t,n),(n=Gn(o,t.mode,l)).return=t,t=n),s(t);if(hr(o))return _(t,n,o,l);if(ae(o))return m(t,n,o,l);if(c&&pr(t,o),"undefined"===typeof o&&!u)switch(t.tag){case 1:case 0:a("152",(l=t.type).displayName||l.name||"Component")}return i(t,n)}}var _r=fr(!0),mr=fr(!1),vr={},yr={current:vr},gr={current:vr},br={current:vr};function Sr(t){return t===vr&&a("174"),t}function xr(t,e){En(br,e),En(gr,t),En(yr,vr);var i=e.nodeType;switch(i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tn(null,"");break;default:e=tn(e=(i=8===i?e.parentNode:e).namespaceURI||null,i=i.tagName)}Pn(yr),En(yr,e)}function wr(t){Pn(yr),Pn(gr),Pn(br)}function kr(t){Sr(br.current);var e=Sr(yr.current),i=tn(e,t.type);e!==i&&(En(gr,t),En(yr,i))}function Cr(t){gr.current===t&&(Pn(yr),Pn(gr))}var Tr=0,Pr=2,Er=4,Mr=8,Rr=16,Dr=32,Ir=64,Or=128,zr=jt.ReactCurrentDispatcher,Ar=0,Lr=null,Vr=null,Nr=null,Br=null,Fr=null,Wr=null,Ur=0,Hr=null,jr=0,Yr=!1,Xr=null,qr=0;function $r(){a("321")}function Qr(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ze(t[i],e[i]))return!1;return!0}function Kr(t,e,i,n,r,o){if(Ar=o,Lr=e,Nr=null!==t?t.memoizedState:null,zr.current=null===Nr?uo:co,e=i(n,r),Yr){do{Yr=!1,qr+=1,Nr=null!==t?t.memoizedState:null,Wr=Br,Hr=Fr=Vr=null,zr.current=co,e=i(n,r)}while(Yr);Xr=null,qr=0}return zr.current=lo,(t=Lr).memoizedState=Br,t.expirationTime=Ur,t.updateQueue=Hr,t.effectTag|=jr,t=null!==Vr&&null!==Vr.next,Ar=0,Wr=Fr=Br=Nr=Vr=Lr=null,Ur=0,Hr=null,jr=0,t&&a("300"),e}function Gr(){zr.current=lo,Ar=0,Wr=Fr=Br=Nr=Vr=Lr=null,Ur=0,Hr=null,jr=0,Yr=!1,Xr=null,qr=0}function Zr(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Fr?Br=Fr=t:Fr=Fr.next=t,Fr}function Jr(){if(null!==Wr)Wr=(Fr=Wr).next,Nr=null!==(Vr=Nr)?Vr.next:null;else{null===Nr&&a("310");var t={memoizedState:(Vr=Nr).memoizedState,baseState:Vr.baseState,queue:Vr.queue,baseUpdate:Vr.baseUpdate,next:null};Fr=null===Fr?Br=t:Fr.next=t,Nr=Vr.next}return Fr}function to(t,e){return"function"===typeof e?e(t):e}function eo(t){var e=Jr(),i=e.queue;if(null===i&&a("311"),i.lastRenderedReducer=t,0<qr){var n=i.dispatch;if(null!==Xr){var r=Xr.get(i);if(void 0!==r){Xr.delete(i);var o=e.memoizedState;do{o=t(o,r.action),r=r.next}while(null!==r);return Ze(o,e.memoizedState)||(xo=!0),e.memoizedState=o,e.baseUpdate===i.last&&(e.baseState=o),i.lastRenderedState=o,[o,n]}}return[e.memoizedState,n]}n=i.last;var s=e.baseUpdate;if(o=e.baseState,null!==s?(null!==n&&(n.next=null),n=s.next):n=null!==n?n.next:null,null!==n){var l=r=null,u=n,c=!1;do{var h=u.expirationTime;h<Ar?(c||(c=!0,l=s,r=o),h>Ur&&(Ur=h)):o=u.eagerReducer===t?u.eagerState:t(o,u.action),s=u,u=u.next}while(null!==u&&u!==n);c||(l=s,r=o),Ze(o,e.memoizedState)||(xo=!0),e.memoizedState=o,e.baseUpdate=l,e.baseState=r,i.lastRenderedState=o}return[e.memoizedState,i.dispatch]}function io(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===Hr?(Hr={lastEffect:null}).lastEffect=t.next=t:null===(e=Hr.lastEffect)?Hr.lastEffect=t.next=t:(i=e.next,e.next=t,t.next=i,Hr.lastEffect=t),t}function no(t,e,i,n){var r=Zr();jr|=t,r.memoizedState=io(e,i,void 0,void 0===n?null:n)}function ro(t,e,i,n){var r=Jr();n=void 0===n?null:n;var o=void 0;if(null!==Vr){var a=Vr.memoizedState;if(o=a.destroy,null!==n&&Qr(n,a.deps))return void io(Tr,i,o,n)}jr|=t,r.memoizedState=io(e,i,o,n)}function oo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ao(){}function so(t,e,i){25>qr||a("301");var n=t.alternate;if(t===Lr||null!==n&&n===Lr)if(Yr=!0,t={expirationTime:Ar,action:i,eagerReducer:null,eagerState:null,next:null},null===Xr&&(Xr=new Map),void 0===(i=Xr.get(e)))Xr.set(e,t);else{for(e=i;null!==e.next;)e=e.next;e.next=t}else{Ha();var r=xs(),o={expirationTime:r=Qa(r,t),action:i,eagerReducer:null,eagerState:null,next:null},s=e.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(e.last=o,0===t.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=e.lastRenderedReducer))try{var u=e.lastRenderedState,c=n(u,i);if(o.eagerReducer=n,o.eagerState=c,Ze(c,u))return}catch(h){}Za(t,r)}}var lo={readContext:Uo,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r},uo={readContext:Uo,useCallback:function(t,e){return Zr().memoizedState=[t,void 0===e?null:e],t},useContext:Uo,useEffect:function(t,e){return no(516,Or|Ir,t,e)},useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,no(4,Er|Dr,oo.bind(null,e,t),i)},useLayoutEffect:function(t,e){return no(4,Er|Dr,t,e)},useMemo:function(t,e){var i=Zr();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=Zr();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=so.bind(null,Lr,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Zr().memoizedState=t},useState:function(t){var e=Zr();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:to,lastRenderedState:t}).dispatch=so.bind(null,Lr,t),[e.memoizedState,t]},useDebugValue:ao},co={readContext:Uo,useCallback:function(t,e){var i=Jr();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Qr(e,n[1])?n[0]:(i.memoizedState=[t,e],t)},useContext:Uo,useEffect:function(t,e){return ro(516,Or|Ir,t,e)},useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,ro(4,Er|Dr,oo.bind(null,e,t),i)},useLayoutEffect:function(t,e){return ro(4,Er|Dr,t,e)},useMemo:function(t,e){var i=Jr();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Qr(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)},useReducer:eo,useRef:function(){return Jr().memoizedState},useState:function(t){return eo(to)},useDebugValue:ao},ho=null,po=null,fo=!1;function _o(t,e){var i=Yn(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function mo(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function vo(t){if(fo){var e=po;if(e){var i=e;if(!mo(t,e)){if(!(e=wn(i))||!mo(t,e))return t.effectTag|=2,fo=!1,void(ho=t);_o(ho,i)}ho=t,po=kn(e)}else t.effectTag|=2,fo=!1,ho=t}}function yo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&18!==t.tag;)t=t.return;ho=t}function go(t){if(t!==ho)return!1;if(!fo)return yo(t),fo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!yn(e,t.memoizedProps))for(e=po;e;)_o(t,e),e=wn(e);return yo(t),po=ho?wn(t.stateNode):null,!0}function bo(){po=ho=null,fo=!1}var So=jt.ReactCurrentOwner,xo=!1;function wo(t,e,i,n){e.child=null===t?mr(e,null,i,n):_r(e,t.child,i,n)}function ko(t,e,i,n,r){i=i.render;var o=e.ref;return Wo(e,r),n=Kr(t,e,i,n,o,r),null===t||xo?(e.effectTag|=1,wo(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Oo(t,e,r))}function Co(t,e,i,n,r,o){if(null===t){var a=i.type;return"function"!==typeof a||Xn(a)||void 0!==a.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=$n(i.type,null,n,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,To(t,e,a,n,r,o))}return a=t.child,r<o&&(r=a.memoizedProps,(i=null!==(i=i.compare)?i:ti)(r,n)&&t.ref===e.ref)?Oo(t,e,o):(e.effectTag|=1,(t=qn(a,n)).ref=e.ref,t.return=e,e.child=t)}function To(t,e,i,n,r,o){return null!==t&&ti(t.memoizedProps,n)&&t.ref===e.ref&&(xo=!1,r<o)?Oo(t,e,o):Eo(t,e,i,n,o)}function Po(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.effectTag|=128)}function Eo(t,e,i,n,r){var o=zn(i)?In:Rn.current;return o=On(e,o),Wo(e,r),i=Kr(t,e,i,n,o,r),null===t||xo?(e.effectTag|=1,wo(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Oo(t,e,r))}function Mo(t,e,i,n,r){if(zn(i)){var o=!0;Bn(e)}else o=!1;if(Wo(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),lr(e,i,n),cr(e,i,n,r),n=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=i.contextType;"object"===typeof u&&null!==u?u=Uo(u):u=On(e,u=zn(i)?In:Rn.current);var c=i.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&ur(e,a,n,u),qo=!1;var d=e.memoizedState;l=a.state=d;var p=e.updateQueue;null!==p&&(ia(e,p,n,a,r),l=e.memoizedState),s!==n||d!==l||Dn.current||qo?("function"===typeof c&&(or(e,i,c,n),l=e.memoizedState),(s=qo||sr(e,i,s,n,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),n=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:nr(e.type,s),l=a.context,"object"===typeof(u=i.contextType)&&null!==u?u=Uo(u):u=On(e,u=zn(i)?In:Rn.current),(h="function"===typeof(c=i.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&ur(e,a,n,u),qo=!1,l=e.memoizedState,d=a.state=l,null!==(p=e.updateQueue)&&(ia(e,p,n,a,r),d=e.memoizedState),s!==n||l!==d||Dn.current||qo?("function"===typeof c&&(or(e,i,c,n),d=e.memoizedState),(c=qo||sr(e,i,s,n,l,d,u))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,u)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=d),a.props=n,a.state=d,a.context=u,n=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),n=!1);return Ro(t,e,i,n,o,r)}function Ro(t,e,i,n,r,o){Po(t,e);var a=0!==(64&e.effectTag);if(!n&&!a)return r&&Fn(e,i,!1),Oo(t,e,o);n=e.stateNode,So.current=e;var s=a&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&a?(e.child=_r(e,t.child,null,o),e.child=_r(e,null,s,o)):wo(t,e,s,o),e.memoizedState=n.state,r&&Fn(e,i,!0),e.child}function Do(t){var e=t.stateNode;e.pendingContext?Vn(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Vn(0,e.context,!1),xr(t,e.containerInfo)}function Io(t,e,i){var n=e.mode,r=e.pendingProps,o=e.memoizedState;if(0===(64&e.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,e.effectTag&=-65;if(null===t)if(a){var s=r.fallback;t=Qn(null,n,0,null),0===(1&e.mode)&&(t.child=null!==e.memoizedState?e.child.child:e.child),n=Qn(s,n,i,null),t.sibling=n,(i=t).return=n.return=e}else i=n=mr(e,null,r.children,i);else null!==t.memoizedState?(s=(n=t.child).sibling,a?(i=r.fallback,r=qn(n,n.pendingProps),0===(1&e.mode)&&((a=null!==e.memoizedState?e.child.child:e.child)!==n.child&&(r.child=a)),n=r.sibling=qn(s,i,s.expirationTime),i=r,r.childExpirationTime=0,i.return=n.return=e):i=n=_r(e,n.child,r.children,i)):(s=t.child,a?(a=r.fallback,(r=Qn(null,n,0,null)).child=s,0===(1&e.mode)&&(r.child=null!==e.memoizedState?e.child.child:e.child),(n=r.sibling=Qn(a,n,i,null)).effectTag|=2,i=r,r.childExpirationTime=0,i.return=n.return=e):n=i=_r(e,s,r.children,i)),e.stateNode=t.stateNode;return e.memoizedState=o,e.child=i,n}function Oo(t,e,i){if(null!==t&&(e.contextDependencies=t.contextDependencies),e.childExpirationTime<i)return null;if(null!==t&&e.child!==t.child&&a("153"),null!==e.child){for(i=qn(t=e.child,t.pendingProps,t.expirationTime),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=qn(t,t.pendingProps,t.expirationTime)).return=e;i.sibling=null}return e.child}function zo(t,e,i){var n=e.expirationTime;if(null!==t){if(t.memoizedProps!==e.pendingProps||Dn.current)xo=!0;else if(n<i){switch(xo=!1,e.tag){case 3:Do(e),bo();break;case 5:kr(e);break;case 1:zn(e.type)&&Bn(e);break;case 4:xr(e,e.stateNode.containerInfo);break;case 10:Bo(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=i?Io(t,e,i):null!==(e=Oo(t,e,i))?e.sibling:null}return Oo(t,e,i)}}else xo=!1;switch(e.expirationTime=0,e.tag){case 2:n=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var r=On(e,Rn.current);if(Wo(e,i),r=Kr(null,e,n,t,r,i),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,Gr(),zn(n)){var o=!0;Bn(e)}else o=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var s=n.getDerivedStateFromProps;"function"===typeof s&&or(e,n,s,t),r.updater=ar,e.stateNode=r,r._reactInternalFiber=e,cr(e,n,t,i),e=Ro(null,e,n,!0,o,i)}else e.tag=0,wo(null,e,r,i),e=e.child;return e;case 16:switch(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),o=e.pendingProps,t=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:switch(t._status=0,(e=(e=t._ctor)()).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._status){case 1:return t._result;case 2:throw t._result}throw t._result=e,e}}(r),e.type=t,r=e.tag=function(t){if("function"===typeof t)return Xn(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ee)return 11;if(t===ne)return 14}return 2}(t),o=nr(t,o),s=void 0,r){case 0:s=Eo(null,e,t,o,i);break;case 1:s=Mo(null,e,t,o,i);break;case 11:s=ko(null,e,t,o,i);break;case 14:s=Co(null,e,t,nr(t.type,o),n,i);break;default:a("306",t,"")}return s;case 0:return n=e.type,r=e.pendingProps,Eo(t,e,n,r=e.elementType===n?r:nr(n,r),i);case 1:return n=e.type,r=e.pendingProps,Mo(t,e,n,r=e.elementType===n?r:nr(n,r),i);case 3:return Do(e),null===(n=e.updateQueue)&&a("282"),r=null!==(r=e.memoizedState)?r.element:null,ia(e,n,e.pendingProps,null,i),(n=e.memoizedState.element)===r?(bo(),e=Oo(t,e,i)):(r=e.stateNode,(r=(null===t||null===t.child)&&r.hydrate)&&(po=kn(e.stateNode.containerInfo),ho=e,r=fo=!0),r?(e.effectTag|=2,e.child=mr(e,null,n,i)):(wo(t,e,n,i),bo()),e=e.child),e;case 5:return kr(e),null===t&&vo(e),n=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,s=r.children,yn(n,r)?s=null:null!==o&&yn(n,o)&&(e.effectTag|=16),Po(t,e),1!==i&&1&e.mode&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(wo(t,e,s,i),e=e.child),e;case 6:return null===t&&vo(e),null;case 13:return Io(t,e,i);case 4:return xr(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=_r(e,null,n,i):wo(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,ko(t,e,n,r=e.elementType===n?r:nr(n,r),i);case 7:return wo(t,e,e.pendingProps,i),e.child;case 8:case 12:return wo(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(n=e.type._context,r=e.pendingProps,s=e.memoizedProps,Bo(e,o=r.value),null!==s){var l=s.value;if(0===(o=Ze(l,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!Dn.current){e=Oo(t,e,i);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.contextDependencies;if(null!==u){s=l.child;for(var c=u.first;null!==c;){if(c.context===n&&0!==(c.observedBits&o)){1===l.tag&&((c=Ko(i)).tag=Yo,Zo(l,c)),l.expirationTime<i&&(l.expirationTime=i),null!==(c=l.alternate)&&c.expirationTime<i&&(c.expirationTime=i),c=i;for(var h=l.return;null!==h;){var d=h.alternate;if(h.childExpirationTime<c)h.childExpirationTime=c,null!==d&&d.childExpirationTime<c&&(d.childExpirationTime=c);else{if(!(null!==d&&d.childExpirationTime<c))break;d.childExpirationTime=c}h=h.return}u.expirationTime<i&&(u.expirationTime=i);break}c=c.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}wo(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=(o=e.pendingProps).children,Wo(e,i),n=n(r=Uo(r,o.unstable_observedBits)),e.effectTag|=1,wo(t,e,n,i),e.child;case 14:return o=nr(r=e.type,e.pendingProps),Co(t,e,r,o=nr(r.type,o),n,i);case 15:return To(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:nr(n,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,zn(n)?(t=!0,Bn(e)):t=!1,Wo(e,i),lr(e,n,r),cr(e,n,r,i),Ro(null,e,n,!0,t,i)}a("156")}var Ao={current:null},Lo=null,Vo=null,No=null;function Bo(t,e){var i=t.type._context;En(Ao,i._currentValue),i._currentValue=e}function Fo(t){var e=Ao.current;Pn(Ao),t.type._context._currentValue=e}function Wo(t,e){Lo=t,No=Vo=null;var i=t.contextDependencies;null!==i&&i.expirationTime>=e&&(xo=!0),t.contextDependencies=null}function Uo(t,e){return No!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(No=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Vo?(null===Lo&&a("308"),Vo=e,Lo.contextDependencies={first:e,expirationTime:0}):Vo=Vo.next=e),t._currentValue}var Ho=0,jo=1,Yo=2,Xo=3,qo=!1;function $o(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Qo(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ko(t){return{expirationTime:t,tag:Ho,payload:null,callback:null,next:null,nextEffect:null}}function Go(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function Zo(t,e){var i=t.alternate;if(null===i){var n=t.updateQueue,r=null;null===n&&(n=t.updateQueue=$o(t.memoizedState))}else n=t.updateQueue,r=i.updateQueue,null===n?null===r?(n=t.updateQueue=$o(t.memoizedState),r=i.updateQueue=$o(i.memoizedState)):n=t.updateQueue=Qo(r):null===r&&(r=i.updateQueue=Qo(n));null===r||n===r?Go(n,e):null===n.lastUpdate||null===r.lastUpdate?(Go(n,e),Go(r,e)):(Go(n,e),r.lastUpdate=e)}function Jo(t,e){var i=t.updateQueue;null===(i=null===i?t.updateQueue=$o(t.memoizedState):ta(t,i)).lastCapturedUpdate?i.firstCapturedUpdate=i.lastCapturedUpdate=e:(i.lastCapturedUpdate.next=e,i.lastCapturedUpdate=e)}function ta(t,e){var i=t.alternate;return null!==i&&e===i.updateQueue&&(e=t.updateQueue=Qo(e)),e}function ea(t,e,i,n,o,a){switch(i.tag){case jo:return"function"===typeof(t=i.payload)?t.call(a,n,o):t;case Xo:t.effectTag=-2049&t.effectTag|64;case Ho:if(null===(o="function"===typeof(t=i.payload)?t.call(a,n,o):t)||void 0===o)break;return r({},n,o);case Yo:qo=!0}return n}function ia(t,e,i,n,r){qo=!1;for(var o=(e=ta(t,e)).baseState,a=null,s=0,l=e.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<r?(null===a&&(a=l,o=u),s<c&&(s=c)):(u=ea(t,0,l,u,i,n),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=l:(e.lastEffect.nextEffect=l,e.lastEffect=l))),l=l.next}for(c=null,l=e.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<r?(null===c&&(c=l,null===a&&(o=u)),s<h&&(s=h)):(u=ea(t,0,l,u,i,n),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=l:(e.lastCapturedEffect.nextEffect=l,e.lastCapturedEffect=l))),l=l.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=u),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,t.expirationTime=s,t.memoizedState=u}function na(t,e,i){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),ra(e.firstEffect,i),e.firstEffect=e.lastEffect=null,ra(e.firstCapturedEffect,i),e.firstCapturedEffect=e.lastCapturedEffect=null}function ra(t,e){for(;null!==t;){var i=t.callback;if(null!==i){t.callback=null;var n=e;"function"!==typeof i&&a("191",i),i.call(n)}t=t.nextEffect}}function oa(t,e){return{value:t,source:e,stack:le(e)}}function aa(t){t.effectTag|=4}var sa=void 0,la=void 0,ua=void 0,ca=void 0;sa=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},la=function(){},ua=function(t,e,i,n,o){var a=t.memoizedProps;if(a!==n){var s=e.stateNode;switch(Sr(yr.current),t=null,i){case"input":a=ge(s,a),n=ge(s,n),t=[];break;case"option":a=Xi(s,a),n=Xi(s,n),t=[];break;case"select":a=r({},a,{value:void 0}),n=r({},n,{value:void 0}),t=[];break;case"textarea":a=$i(s,a),n=$i(s,n),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(s.onclick=fn)}hn(i,n),s=i=void 0;var l=null;for(i in a)if(!n.hasOwnProperty(i)&&a.hasOwnProperty(i)&&null!=a[i])if("style"===i){var u=a[i];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(g.hasOwnProperty(i)?t||(t=[]):(t=t||[]).push(i,null));for(i in n){var c=n[i];if(u=null!=a?a[i]:void 0,n.hasOwnProperty(i)&&c!==u&&(null!=c||null!=u))if("style"===i)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(t||(t=[]),t.push(i,l)),l=c;else"dangerouslySetInnerHTML"===i?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(i,""+c)):"children"===i?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(i,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&(g.hasOwnProperty(i)?(null!=c&&pn(o,i),t||u===c||(t=[])):(t=t||[]).push(i,c))}l&&(t=t||[]).push("style",l),o=t,(e.updateQueue=o)&&aa(e)}},ca=function(t,e,i,n){i!==n&&aa(e)};var ha="function"===typeof WeakSet?WeakSet:Set;function da(t,e){var i=e.source,n=e.stack;null===n&&null!==i&&(n=le(i)),null!==i&&se(i.type),e=e.value,null!==t&&1===t.tag&&se(t.type);try{console.error(e)}catch(r){setTimeout(function(){throw r})}}function pa(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(i){$a(t,i)}else e.current=null}function fa(t,e,i){if(null!==(i=null!==(i=i.updateQueue)?i.lastEffect:null)){var n=i=i.next;do{if((n.tag&t)!==Tr){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}(n.tag&e)!==Tr&&(r=n.create,n.destroy=r()),n=n.next}while(n!==i)}}function _a(t){switch("function"===typeof Un&&Un(t),t.tag){case 0:case 11:case 14:case 15:var e=t.updateQueue;if(null!==e&&null!==(e=e.lastEffect)){var i=e=e.next;do{var n=i.destroy;if(void 0!==n){var r=t;try{n()}catch(o){$a(r,o)}}i=i.next}while(i!==e)}break;case 1:if(pa(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){$a(t,o)}break;case 5:pa(t);break;case 4:ya(t)}}function ma(t){return 5===t.tag||3===t.tag||4===t.tag}function va(t){t:{for(var e=t.return;null!==e;){if(ma(e)){var i=e;break t}e=e.return}a("160"),i=void 0}var n=e=void 0;switch(i.tag){case 5:e=i.stateNode,n=!1;break;case 3:case 4:e=i.stateNode.containerInfo,n=!0;break;default:a("161")}16&i.effectTag&&(on(e,""),i.effectTag&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||ma(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break t}}for(var r=t;;){if(5===r.tag||6===r.tag)if(i)if(n){var o=e,s=r.stateNode,l=i;8===o.nodeType?o.parentNode.insertBefore(s,l):o.insertBefore(s,l)}else e.insertBefore(r.stateNode,i);else n?(s=e,l=r.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(l,s):(o=s).appendChild(l),null!==(s=s._reactRootContainer)&&void 0!==s||null!==o.onclick||(o.onclick=fn)):e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ya(t){for(var e=t,i=!1,n=void 0,r=void 0;;){if(!i){i=e.return;t:for(;;){switch(null===i&&a("160"),i.tag){case 5:n=i.stateNode,r=!1;break t;case 3:case 4:n=i.stateNode.containerInfo,r=!0;break t}i=i.return}i=!0}if(5===e.tag||6===e.tag){t:for(var o=e,s=o;;)if(_a(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}r?(o=n,s=e.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):n.removeChild(e.stateNode)}else if(4===e.tag){if(null!==e.child){n=e.stateNode.containerInfo,r=!0,e.child.return=e,e=e.child;continue}}else if(_a(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(i=!1)}e.sibling.return=e.return,e=e.sibling}}function ga(t,e){switch(e.tag){case 0:case 11:case 14:case 15:fa(Er,Mr,e);break;case 1:break;case 5:var i=e.stateNode;if(null!=i){var n=e.memoizedProps;t=null!==t?t.memoizedProps:n;var r=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&function(t,e,i,n,r){t[z]=r,"input"===i&&"radio"===r.type&&null!=r.name&&Se(t,r),dn(i,n),n=dn(i,r);for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];"style"===a?un(t,s):"dangerouslySetInnerHTML"===a?rn(t,s):"children"===a?on(t,s):ve(t,a,s,n)}switch(i){case"input":xe(t,r);break;case"textarea":Ki(t,r);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?qi(t,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?qi(t,!!r.multiple,r.defaultValue,!0):qi(t,!!r.multiple,r.multiple?[]:"",!1))}}(i,o,r,t,n)}break;case 6:null===e.stateNode&&a("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(i=e.memoizedState,n=void 0,t=e,null===i?n=!1:(n=!0,t=e.child,0===i.timedOutAt&&(i.timedOutAt=xs())),null!==t&&function(t,e){for(var i=t;;){if(5===i.tag){var n=i.stateNode;if(e)n.style.display="none";else{n=i.stateNode;var r=i.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null,n.style.display=ln("display",r)}}else if(6===i.tag)i.stateNode.nodeValue=e?"":i.memoizedProps;else{if(13===i.tag&&null!==i.memoizedState){(n=i.child.sibling).return=i,i=n;continue}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}(t,n),null!==(i=e.updateQueue)){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new ha),i.forEach(function(t){var i=function(t,e){var i=t.stateNode;null!==i&&i.delete(e),e=Qa(e=xs(),t),null!==(t=Ga(t,e))&&(Jn(t,e),0!==(e=t.expirationTime)&&ws(t,e))}.bind(null,e,t);s.has(t)||(s.add(t),t.then(i,i))})}break;case 17:break;default:a("163")}}var ba="function"===typeof WeakMap?WeakMap:Map;function Sa(t,e,i){(i=Ko(i)).tag=Xo,i.payload={element:null};var n=e.value;return i.callback=function(){Is(n),da(t,e)},i}function xa(t,e,i){(i=Ko(i)).tag=Xo;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return n(r)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===Na?Na=new Set([this]):Na.add(this));var i=e.value,r=e.stack;da(t,e),this.componentDidCatch(i,{componentStack:null!==r?r:""})}),i}function wa(t){switch(t.tag){case 1:zn(t.type)&&An();var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:return wr(),Ln(),0!==(64&(e=t.effectTag))&&a("285"),t.effectTag=-2049&e|64,t;case 5:return Cr(t),null;case 13:return 2048&(e=t.effectTag)?(t.effectTag=-2049&e|64,t):null;case 18:return null;case 4:return wr(),null;case 10:return Fo(t),null;default:return null}}var ka=jt.ReactCurrentDispatcher,Ca=jt.ReactCurrentOwner,Ta=1073741822,Pa=!1,Ea=null,Ma=null,Ra=0,Da=-1,Ia=!1,Oa=null,za=!1,Aa=null,La=null,Va=null,Na=null;function Ba(){if(null!==Ea)for(var t=Ea.return;null!==t;){var e=t;switch(e.tag){case 1:var i=e.type.childContextTypes;null!==i&&void 0!==i&&An();break;case 3:wr(),Ln();break;case 5:Cr(e);break;case 4:wr();break;case 10:Fo(e)}t=t.return}Ma=null,Ra=0,Da=-1,Ia=!1,Ea=null}function Fa(){for(;null!==Oa;){var t=Oa.effectTag;if(16&t&&on(Oa.stateNode,""),128&t){var e=Oa.alternate;null!==e&&(null!==(e=e.ref)&&("function"===typeof e?e(null):e.current=null))}switch(14&t){case 2:va(Oa),Oa.effectTag&=-3;break;case 6:va(Oa),Oa.effectTag&=-3,ga(Oa.alternate,Oa);break;case 4:ga(Oa.alternate,Oa);break;case 8:ya(t=Oa),t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,null!==(t=t.alternate)&&(t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null)}Oa=Oa.nextEffect}}function Wa(){for(;null!==Oa;){if(256&Oa.effectTag)t:{var t=Oa.alternate,e=Oa;switch(e.tag){case 0:case 11:case 15:fa(Pr,Tr,e);break t;case 1:if(256&e.effectTag&&null!==t){var i=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:nr(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}break t;case 3:case 5:case 6:case 4:case 17:break t;default:a("163")}}Oa=Oa.nextEffect}}function Ua(t,e){for(;null!==Oa;){var i=Oa.effectTag;if(36&i){var n=Oa.alternate,r=Oa,o=e;switch(r.tag){case 0:case 11:case 15:fa(Rr,Dr,r);break;case 1:var s=r.stateNode;if(4&r.effectTag)if(null===n)s.componentDidMount();else{var l=r.elementType===r.type?n.memoizedProps:nr(r.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(n=r.updateQueue)&&na(0,n,s);break;case 3:if(null!==(n=r.updateQueue)){if(s=null,null!==r.child)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}na(0,n,s)}break;case 5:o=r.stateNode,null===n&&4&r.effectTag&&vn(r.type,r.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&i&&(null!==(r=Oa.ref)&&(o=Oa.stateNode,"function"===typeof r?r(o):r.current=o)),512&i&&(Aa=t),Oa=Oa.nextEffect}}function Ha(){null!==La&&xn(La),null!==Va&&Va()}function ja(t,e){za=Pa=!0,t.current===e&&a("177");var i=t.pendingCommitExpirationTime;0===i&&a("261"),t.pendingCommitExpirationTime=0;var n=e.expirationTime,r=e.childExpirationTime;for(function(t,e){if(t.didError=!1,0===e)t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0;else{e<t.latestPingedTime&&(t.latestPingedTime=0);var i=t.latestPendingTime;0!==i&&(i>e?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime>e&&(t.earliestPendingTime=t.latestPendingTime)),0===(i=t.earliestSuspendedTime)?Jn(t,e):e<t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,Jn(t,e)):e>i&&Jn(t,e)}ir(0,t)}(t,r>n?r:n),Ca.current=null,n=void 0,1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,n=e.firstEffect):n=e:n=e.firstEffect,_n=wi,mn=function(){var t=Ai();if(Li(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(e=(e=t.ownerDocument)&&e.defaultView||window).getSelection&&e.getSelection();if(i&&0!==i.rangeCount){e=i.anchorNode;var n=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{e.nodeType,r.nodeType}catch(p){e=null;break t}var o=0,a=-1,s=-1,l=0,u=0,c=t,h=null;e:for(;;){for(var d;c!==e||0!==n&&3!==c.nodeType||(a=o+n),c!==r||0!==i&&3!==c.nodeType||(s=o+i),3===c.nodeType&&(o+=c.nodeValue.length),null!==(d=c.firstChild);)h=c,c=d;for(;;){if(c===t)break e;if(h===e&&++l===n&&(a=o),h===r&&++u===i&&(s=o),null!==(d=c.nextSibling))break;h=(c=h).parentNode}c=d}e=-1===a||-1===s?null:{start:a,end:s}}else e=null}e=e||{start:0,end:0}}else e=null;return{focusedElem:t,selectionRange:e}}(),wi=!1,Oa=n;null!==Oa;){r=!1;var s=void 0;try{Wa()}catch(u){r=!0,s=u}r&&(null===Oa&&a("178"),$a(Oa,s),null!==Oa&&(Oa=Oa.nextEffect))}for(Oa=n;null!==Oa;){r=!1,s=void 0;try{Fa()}catch(u){r=!0,s=u}r&&(null===Oa&&a("178"),$a(Oa,s),null!==Oa&&(Oa=Oa.nextEffect))}for(Vi(mn),mn=null,wi=!!_n,_n=null,t.current=e,Oa=n;null!==Oa;){r=!1,s=void 0;try{Ua(t,i)}catch(u){r=!0,s=u}r&&(null===Oa&&a("178"),$a(Oa,s),null!==Oa&&(Oa=Oa.nextEffect))}if(null!==n&&null!==Aa){var l=function(t,e){Va=La=Aa=null;var i=rs;rs=!0;do{if(512&e.effectTag){var n=!1,r=void 0;try{var o=e;fa(Or,Tr,o),fa(Tr,Ir,o)}catch(l){n=!0,r=l}n&&$a(e,r)}e=e.nextEffect}while(null!==e);rs=i,0!==(i=t.expirationTime)&&ws(t,i),cs||rs||Es(1073741823,!1)}.bind(null,t,n);La=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return Sn(l)}),Va=l}Pa=za=!1,"function"===typeof Wn&&Wn(e.stateNode),i=e.expirationTime,0===(e=(e=e.childExpirationTime)>i?e:i)&&(Na=null),function(t,e){t.expirationTime=e,t.finishedWork=null}(t,e)}function Ya(t){for(;;){var e=t.alternate,i=t.return,n=t.sibling;if(0===(1024&t.effectTag)){Ea=t;t:{var o=e,s=Ra,l=(e=t).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:zn(e.type)&&An();break;case 3:wr(),Ln(),(l=e.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==o&&null!==o.child||(go(e),e.effectTag&=-3),la(e);break;case 5:Cr(e);var u=Sr(br.current);if(s=e.type,null!==o&&null!=e.stateNode)ua(o,e,s,l,u),o.ref!==e.ref&&(e.effectTag|=128);else if(l){var c=Sr(yr.current);if(go(e)){o=(l=e).stateNode;var h=l.type,d=l.memoizedProps,p=u;switch(o[O]=l,o[z]=d,s=void 0,u=h){case"iframe":case"object":ki("load",o);break;case"video":case"audio":for(h=0;h<et.length;h++)ki(et[h],o);break;case"source":ki("error",o);break;case"img":case"image":case"link":ki("error",o),ki("load",o);break;case"form":ki("reset",o),ki("submit",o);break;case"details":ki("toggle",o);break;case"input":be(o,d),ki("invalid",o),pn(p,"onChange");break;case"select":o._wrapperState={wasMultiple:!!d.multiple},ki("invalid",o),pn(p,"onChange");break;case"textarea":Qi(o,d),ki("invalid",o),pn(p,"onChange")}for(s in hn(u,d),h=null,d)d.hasOwnProperty(s)&&(c=d[s],"children"===s?"string"===typeof c?o.textContent!==c&&(h=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(h=["children",""+c]):g.hasOwnProperty(s)&&null!=c&&pn(p,s));switch(u){case"input":Ut(o),we(o,d,!0);break;case"textarea":Ut(o),Gi(o);break;case"select":case"option":break;default:"function"===typeof d.onClick&&(o.onclick=fn)}s=h,l.updateQueue=s,(l=null!==s)&&aa(e)}else{d=e,p=s,o=l,h=9===u.nodeType?u:u.ownerDocument,c===Zi.html&&(c=Ji(p)),c===Zi.html?"script"===p?((o=h.createElement("div")).innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"===typeof o.is?h=h.createElement(p,{is:o.is}):(h=h.createElement(p),"select"===p&&(p=h,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):h=h.createElementNS(c,p),(o=h)[O]=d,o[z]=l,sa(o,e,!1,!1),p=o;var f=u,_=dn(h=s,d=l);switch(h){case"iframe":case"object":ki("load",p),u=d;break;case"video":case"audio":for(u=0;u<et.length;u++)ki(et[u],p);u=d;break;case"source":ki("error",p),u=d;break;case"img":case"image":case"link":ki("error",p),ki("load",p),u=d;break;case"form":ki("reset",p),ki("submit",p),u=d;break;case"details":ki("toggle",p),u=d;break;case"input":be(p,d),u=ge(p,d),ki("invalid",p),pn(f,"onChange");break;case"option":u=Xi(p,d);break;case"select":p._wrapperState={wasMultiple:!!d.multiple},u=r({},d,{value:void 0}),ki("invalid",p),pn(f,"onChange");break;case"textarea":Qi(p,d),u=$i(p,d),ki("invalid",p),pn(f,"onChange");break;default:u=d}hn(h,u),c=void 0;var m=h,v=p,y=u;for(c in y)if(y.hasOwnProperty(c)){var b=y[c];"style"===c?un(v,b):"dangerouslySetInnerHTML"===c?null!=(b=b?b.__html:void 0)&&rn(v,b):"children"===c?"string"===typeof b?("textarea"!==m||""!==b)&&on(v,b):"number"===typeof b&&on(v,""+b):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(g.hasOwnProperty(c)?null!=b&&pn(f,c):null!=b&&ve(v,c,b,_))}switch(h){case"input":Ut(p),we(p,d,!1);break;case"textarea":Ut(p),Gi(p);break;case"option":null!=d.value&&p.setAttribute("value",""+ye(d.value));break;case"select":(u=p).multiple=!!d.multiple,null!=(p=d.value)?qi(u,!!d.multiple,p,!1):null!=d.defaultValue&&qi(u,!!d.multiple,d.defaultValue,!0);break;default:"function"===typeof u.onClick&&(p.onclick=fn)}(l=vn(s,l))&&aa(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&a("166");break;case 6:o&&null!=e.stateNode?ca(o,e,o.memoizedProps,l):("string"!==typeof l&&(null===e.stateNode&&a("166")),o=Sr(br.current),Sr(yr.current),go(e)?(s=(l=e).stateNode,o=l.memoizedProps,s[O]=l,(l=s.nodeValue!==o)&&aa(e)):(s=e,(l=(9===o.nodeType?o:o.ownerDocument).createTextNode(l))[O]=e,s.stateNode=l));break;case 11:break;case 13:if(l=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=s,Ea=e;break t}l=null!==l,s=null!==o&&null!==o.memoizedState,null!==o&&!l&&s&&(null!==(o=o.child.sibling)&&(null!==(u=e.firstEffect)?(e.firstEffect=o,o.nextEffect=u):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(l||s)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:wr(),la(e);break;case 10:Fo(e);break;case 9:case 14:break;case 17:zn(e.type)&&An();break;case 18:break;default:a("156")}Ea=null}if(e=t,1===Ra||1!==e.childExpirationTime){for(l=0,s=e.child;null!==s;)(o=s.expirationTime)>l&&(l=o),(u=s.childExpirationTime)>l&&(l=u),s=s.sibling;e.childExpirationTime=l}if(null!==Ea)return Ea;null!==i&&0===(1024&i.effectTag)&&(null===i.firstEffect&&(i.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==i.lastEffect&&(i.lastEffect.nextEffect=t.firstEffect),i.lastEffect=t.lastEffect),1<t.effectTag&&(null!==i.lastEffect?i.lastEffect.nextEffect=t:i.firstEffect=t,i.lastEffect=t))}else{if(null!==(t=wa(t)))return t.effectTag&=1023,t;null!==i&&(i.firstEffect=i.lastEffect=null,i.effectTag|=1024)}if(null!==n)return n;if(null===i)break;t=i}return null}function Xa(t){var e=zo(t.alternate,t,Ra);return t.memoizedProps=t.pendingProps,null===e&&(e=Ya(t)),Ca.current=null,e}function qa(t,e){Pa&&a("243"),Ha(),Pa=!0;var i=ka.current;ka.current=lo;var n=t.nextExpirationTimeToWorkOn;n===Ra&&t===Ma&&null!==Ea||(Ba(),Ra=n,Ea=qn((Ma=t).current,null),t.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(e)for(;null!==Ea&&!Ts();)Ea=Xa(Ea);else for(;null!==Ea;)Ea=Xa(Ea)}catch(v){if(No=Vo=Lo=null,Gr(),null===Ea)r=!0,Is(v);else{null===Ea&&a("271");var o=Ea,s=o.return;if(null!==s){t:{var l=t,u=s,c=o,h=v;if(s=Ra,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==h&&"object"===typeof h&&"function"===typeof h.then){var d=h;h=u;var p=-1,f=-1;do{if(13===h.tag){var _=h.alternate;if(null!==_&&null!==(_=_.memoizedState)){f=10*(1073741822-_.timedOutAt);break}"number"===typeof(_=h.pendingProps.maxDuration)&&(0>=_?p=0:(-1===p||_<p)&&(p=_))}h=h.return}while(null!==h);h=u;do{if((_=13===h.tag)&&(_=void 0!==h.memoizedProps.fallback&&null===h.memoizedState),_){if(null===(u=h.updateQueue)?((u=new Set).add(d),h.updateQueue=u):u.add(d),0===(1&h.mode)){h.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((s=Ko(1073741823)).tag=Yo,Zo(c,s))),c.expirationTime=1073741823;break t}u=s;var m=(c=l).pingCache;null===m?(m=c.pingCache=new ba,_=new Set,m.set(d,_)):void 0===(_=m.get(d))&&(_=new Set,m.set(d,_)),_.has(u)||(_.add(u),c=Ka.bind(null,c,d,u),d.then(c,c)),-1===p?l=1073741823:(-1===f&&(f=10*(1073741822-er(l,s))-5e3),l=f+p),0<=l&&Da<l&&(Da=l),h.effectTag|=2048,h.expirationTime=s;break t}h=h.return}while(null!==h);h=Error((se(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+le(c))}Ia=!0,h=oa(h,c),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,Jo(l,s=Sa(l,h,s));break t;case 1:if(p=h,f=l.type,c=l.stateNode,0===(64&l.effectTag)&&("function"===typeof f.getDerivedStateFromError||null!==c&&"function"===typeof c.componentDidCatch&&(null===Na||!Na.has(c)))){l.effectTag|=2048,l.expirationTime=s,Jo(l,s=xa(l,p,s));break t}}l=l.return}while(null!==l)}Ea=Ya(o);continue}r=!0,Is(v)}}break}if(Pa=!1,ka.current=i,No=Vo=Lo=null,Gr(),r)Ma=null,t.finishedWork=null;else if(null!==Ea)t.finishedWork=null;else{if(null===(i=t.current.alternate)&&a("281"),Ma=null,Ia){if(r=t.latestPendingTime,o=t.latestSuspendedTime,s=t.latestPingedTime,0!==r&&r<n||0!==o&&o<n||0!==s&&s<n)return tr(t,n),void Ss(t,i,n,t.expirationTime,-1);if(!t.didError&&e)return t.didError=!0,n=t.nextExpirationTimeToWorkOn=n,e=t.expirationTime=1073741823,void Ss(t,i,n,e,-1)}e&&-1!==Da?(tr(t,n),(e=10*(1073741822-er(t,n)))<Da&&(Da=e),e=10*(1073741822-xs()),e=Da-e,Ss(t,i,n,t.expirationTime,0>e?0:e)):(t.pendingCommitExpirationTime=n,t.finishedWork=i)}}function $a(t,e){for(var i=t.return;null!==i;){switch(i.tag){case 1:var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Na||!Na.has(n)))return Zo(i,t=xa(i,t=oa(e,t),1073741823)),void Za(i,1073741823);break;case 3:return Zo(i,t=Sa(i,t=oa(e,t),1073741823)),void Za(i,1073741823)}i=i.return}3===t.tag&&(Zo(t,i=Sa(t,i=oa(e,t),1073741823)),Za(t,1073741823))}function Qa(t,e){var i=o.unstable_getCurrentPriorityLevel(),n=void 0;if(0===(1&e.mode))n=1073741823;else if(Pa&&!za)n=Ra;else{switch(i){case o.unstable_ImmediatePriority:n=1073741823;break;case o.unstable_UserBlockingPriority:n=1073741822-10*(1+((1073741822-t+15)/10|0));break;case o.unstable_NormalPriority:n=1073741822-25*(1+((1073741822-t+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:n=1;break;default:a("313")}null!==Ma&&n===Ra&&--n}return i===o.unstable_UserBlockingPriority&&(0===ss||n<ss)&&(ss=n),n}function Ka(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),null!==Ma&&Ra===i?Ma=null:(e=t.earliestSuspendedTime,n=t.latestSuspendedTime,0!==e&&i<=e&&i>=n&&(t.didError=!1,(0===(e=t.latestPingedTime)||e>i)&&(t.latestPingedTime=i),ir(i,t),0!==(i=t.expirationTime)&&ws(t,i)))}function Ga(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(null===n&&3===t.tag)r=t.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return r}function Za(t,e){null!==(t=Ga(t,e))&&(!Pa&&0!==Ra&&e>Ra&&Ba(),Jn(t,e),Pa&&!za&&Ma===t||ws(t,t.expirationTime),vs>ms&&(vs=0,a("185")))}function Ja(t,e,i,n,r){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return t(e,i,n,r)})}var ts=null,es=null,is=0,ns=void 0,rs=!1,os=null,as=0,ss=0,ls=!1,us=null,cs=!1,hs=!1,ds=null,ps=o.unstable_now(),fs=1073741822-(ps/10|0),_s=fs,ms=50,vs=0,ys=null;function gs(){fs=1073741822-((o.unstable_now()-ps)/10|0)}function bs(t,e){if(0!==is){if(e<is)return;null!==ns&&o.unstable_cancelCallback(ns)}is=e,t=o.unstable_now()-ps,ns=o.unstable_scheduleCallback(Ps,{timeout:10*(1073741822-e)-t})}function Ss(t,e,i,n,r){t.expirationTime=n,0!==r||Ts()?0<r&&(t.timeoutHandle=gn(function(t,e,i){t.pendingCommitExpirationTime=i,t.finishedWork=e,gs(),_s=fs,Ms(t,i)}.bind(null,t,e,i),r)):(t.pendingCommitExpirationTime=i,t.finishedWork=e)}function xs(){return rs?_s:(ks(),0!==as&&1!==as||(gs(),_s=fs),_s)}function ws(t,e){null===t.nextScheduledRoot?(t.expirationTime=e,null===es?(ts=es=t,t.nextScheduledRoot=t):(es=es.nextScheduledRoot=t).nextScheduledRoot=ts):e>t.expirationTime&&(t.expirationTime=e),rs||(cs?hs&&(os=t,as=1073741823,Rs(t,1073741823,!1)):1073741823===e?Es(1073741823,!1):bs(t,e))}function ks(){var t=0,e=null;if(null!==es)for(var i=es,n=ts;null!==n;){var r=n.expirationTime;if(0===r){if((null===i||null===es)&&a("244"),n===n.nextScheduledRoot){ts=es=n.nextScheduledRoot=null;break}if(n===ts)ts=r=n.nextScheduledRoot,es.nextScheduledRoot=r,n.nextScheduledRoot=null;else{if(n===es){(es=i).nextScheduledRoot=ts,n.nextScheduledRoot=null;break}i.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null}n=i.nextScheduledRoot}else{if(r>t&&(t=r,e=n),n===es)break;if(1073741823===t)break;i=n,n=n.nextScheduledRoot}}os=e,as=t}var Cs=!1;function Ts(){return!!Cs||!!o.unstable_shouldYield()&&(Cs=!0)}function Ps(){try{if(!Ts()&&null!==ts){gs();var t=ts;do{var e=t.expirationTime;0!==e&&fs<=e&&(t.nextExpirationTimeToWorkOn=fs),t=t.nextScheduledRoot}while(t!==ts)}Es(0,!0)}finally{Cs=!1}}function Es(t,e){if(ks(),e)for(gs(),_s=fs;null!==os&&0!==as&&t<=as&&!(Cs&&fs>as);)Rs(os,as,fs>as),ks(),gs(),_s=fs;else for(;null!==os&&0!==as&&t<=as;)Rs(os,as,!1),ks();if(e&&(is=0,ns=null),0!==as&&bs(os,as),vs=0,ys=null,null!==ds)for(t=ds,ds=null,e=0;e<t.length;e++){var i=t[e];try{i._onComplete()}catch(n){ls||(ls=!0,us=n)}}if(ls)throw t=us,us=null,ls=!1,t}function Ms(t,e){rs&&a("253"),os=t,as=e,Rs(t,e,!1),Es(1073741823,!1)}function Rs(t,e,i){if(rs&&a("245"),rs=!0,i){var n=t.finishedWork;null!==n?Ds(t,n,e):(t.finishedWork=null,-1!==(n=t.timeoutHandle)&&(t.timeoutHandle=-1,bn(n)),qa(t,i),null!==(n=t.finishedWork)&&(Ts()?t.finishedWork=n:Ds(t,n,e)))}else null!==(n=t.finishedWork)?Ds(t,n,e):(t.finishedWork=null,-1!==(n=t.timeoutHandle)&&(t.timeoutHandle=-1,bn(n)),qa(t,i),null!==(n=t.finishedWork)&&Ds(t,n,e));rs=!1}function Ds(t,e,i){var n=t.firstBatch;if(null!==n&&n._expirationTime>=i&&(null===ds?ds=[n]:ds.push(n),n._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===ys?vs++:(ys=t,vs=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){ja(t,e)})}function Is(t){null===os&&a("246"),os.expirationTime=0,ls||(ls=!0,us=t)}function Os(t,e){var i=cs;cs=!0;try{return t(e)}finally{(cs=i)||rs||Es(1073741823,!1)}}function zs(t,e){if(cs&&!hs){hs=!0;try{return t(e)}finally{hs=!1}}return t(e)}function As(t,e,i){cs||rs||0===ss||(Es(ss,!1),ss=0);var n=cs;cs=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return t(e,i)})}finally{(cs=n)||rs||Es(1073741823,!1)}}function Ls(t,e,i,n,r){var o=e.current;t:if(i){e:{2===ei(i=i._reactInternalFiber)&&1===i.tag||a("170");var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(zn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===i.tag){var l=i.type;if(zn(l)){i=Nn(i,l,s);break t}}i=s}else i=Mn;return null===e.context?e.context=i:e.pendingContext=i,e=r,(r=Ko(n)).payload={element:t},null!==(e=void 0===e?null:e)&&(r.callback=e),Ha(),Zo(o,r),Za(o,n),n}function Vs(t,e,i,n){var r=e.current;return Ls(t,e,i,r=Qa(xs(),r),n)}function Ns(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Bs(t){var e=1073741822-25*(1+((1073741822-xs()+500)/25|0));e>=Ta&&(e=Ta-1),this._expirationTime=Ta=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Fs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ws(t,e,i){t={current:e=Yn(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:i,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Us(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Hs(t,e,i,n,r){var o=i._reactRootContainer;if(o){if("function"===typeof r){var a=r;r=function(){var t=Ns(o._internalRoot);a.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)}else{if(o=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new Ws(t,!1,e)}(i,n),"function"===typeof r){var s=r;r=function(){var t=Ns(o._internalRoot);s.call(t)}}zs(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)})}return Ns(o._internalRoot)}function js(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Us(e)||a("200"),function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$t,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)}Tt=function(t,e,i){switch(e){case"input":if(xe(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=N(n);r||a("90"),Ht(n),xe(n,r)}}}break;case"textarea":Ki(t,i);break;case"select":null!=(e=i.value)&&qi(t,!!i.multiple,e,!1)}},Bs.prototype.render=function(t){this._defer||a("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,i=this._expirationTime,n=new Fs;return Ls(t,e,null,i,n._onCommit),n},Bs.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Bs.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||a("251"),this._hasChildren){var i=this._expirationTime;if(e!==this){this._hasChildren&&(i=this._expirationTime=e._expirationTime,this.render(this._children));for(var n=null,r=e;r!==this;)n=r,r=r._next;null===n&&a("251"),n._next=r._next,this._next=e,t.firstBatch=this}this._defer=!1,Ms(t,i),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Bs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Fs.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Fs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var i=t[e];"function"!==typeof i&&a("191",i),i()}}},Ws.prototype.render=function(t,e){var i=this._internalRoot,n=new Fs;return null!==(e=void 0===e?null:e)&&n.then(e),Vs(t,i,null,n._onCommit),n},Ws.prototype.unmount=function(t){var e=this._internalRoot,i=new Fs;return null!==(t=void 0===t?null:t)&&i.then(t),Vs(null,e,null,i._onCommit),i},Ws.prototype.legacy_renderSubtreeIntoContainer=function(t,e,i){var n=this._internalRoot,r=new Fs;return null!==(i=void 0===i?null:i)&&r.then(i),Vs(e,n,t,r._onCommit),r},Ws.prototype.createBatch=function(){var t=new Bs(this),e=t._expirationTime,i=this._internalRoot,n=i.firstBatch;if(null===n)i.firstBatch=t,t._next=null;else{for(i=null;null!==n&&n._expirationTime>=e;)i=n,n=n._next;t._next=n,null!==i&&(i._next=t)}return t},It=Os,Ot=As,zt=function(){rs||0===ss||(Es(ss,!1),ss=0)};var Ys={createPortal:js,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?a("188"):a("268",Object.keys(t))),t=null===(t=ni(e))?null:t.stateNode},hydrate:function(t,e,i){return Us(e)||a("200"),Hs(null,t,e,!0,i)},render:function(t,e,i){return Us(e)||a("200"),Hs(null,t,e,!1,i)},unstable_renderSubtreeIntoContainer:function(t,e,i,n){return Us(i)||a("200"),(null==t||void 0===t._reactInternalFiber)&&a("38"),Hs(t,e,i,!1,n)},unmountComponentAtNode:function(t){return Us(t)||a("40"),!!t._reactRootContainer&&(zs(function(){Hs(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return js.apply(void 0,arguments)},unstable_batchedUpdates:Os,unstable_interactiveUpdates:As,flushSync:function(t,e){rs&&a("187");var i=cs;cs=!0;try{return Ja(t,e)}finally{cs=i,Es(1073741823,!1)}},unstable_createRoot:function(t,e){return Us(t)||a("299","unstable_createRoot"),new Ws(t,!0,null!=e&&!0===e.hydrate)},unstable_flushControlled:function(t){var e=cs;cs=!0;try{Ja(t)}finally{(cs=e)||rs||Es(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[L,V,N,M.injectEventPluginsByName,y,j,function(t){T(t,H)},Rt,Dt,Pi,D]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);Wn=Hn(function(t){return e.onCommitFiberRoot(i,t)}),Un=Hn(function(t){return e.onCommitFiberUnmount(i,t)})}catch(n){}})(r({},t,{overrideProps:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ni(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:A,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Xs={default:Ys},qs=Xs&&Ys||Xs;t.exports=qs.default||qs},function(t,e,i){"use strict";t.exports=i(14)},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=null,n=!1,r=3,o=-1,a=-1,s=!1,l=!1;function u(){if(!s){var t=i.expirationTime;l?w():l=!0,x(d,t)}}function c(){var t=i,e=i.next;if(i===e)i=null;else{var n=i.previous;i=n.next=e,e.previous=n}t.next=t.previous=null,n=t.callback,e=t.expirationTime,t=t.priorityLevel;var o=r,s=a;r=t,a=e;try{var l=n()}finally{r=o,a=s}if("function"===typeof l)if(l={callback:l,priorityLevel:t,expirationTime:e,next:null,previous:null},null===i)i=l.next=l.previous=l;else{n=null,t=i;do{if(t.expirationTime>=e){n=t;break}t=t.next}while(t!==i);null===n?n=i:n===i&&(i=l,u()),(e=n.previous).next=n.previous=l,l.next=n,l.previous=e}}function h(){if(-1===o&&null!==i&&1===i.priorityLevel){s=!0;try{do{c()}while(null!==i&&1===i.priorityLevel)}finally{s=!1,null!==i?u():l=!1}}}function d(t){s=!0;var r=n;n=t;try{if(t)for(;null!==i;){var o=e.unstable_now();if(!(i.expirationTime<=o))break;do{c()}while(null!==i&&i.expirationTime<=o)}else if(null!==i)do{c()}while(null!==i&&!k())}finally{s=!1,n=r,null!==i?u():l=!1,h()}}var p,f,_=Date,m="function"===typeof setTimeout?setTimeout:void 0,v="function"===typeof clearTimeout?clearTimeout:void 0,y="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,g="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function b(t){p=y(function(e){v(f),t(e)}),f=m(function(){g(p),t(e.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var S=performance;e.unstable_now=function(){return S.now()}}else e.unstable_now=function(){return _.now()};var x,w,k,C=null;if("undefined"!==typeof window?C=window:"undefined"!==typeof t&&(C=t),C&&C._schedMock){var T=C._schedMock;x=T[0],w=T[1],k=T[2],e.unstable_now=T[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var P=null,E=function(t){if(null!==P)try{P(t)}finally{P=null}};x=function(t){null!==P?setTimeout(x,0,t):(P=t,setTimeout(E,0,!1))},w=function(){P=null},k=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var M=null,R=!1,D=-1,I=!1,O=!1,z=0,A=33,L=33;k=function(){return z<=e.unstable_now()};var V=new MessageChannel,N=V.port2;V.port1.onmessage=function(){R=!1;var t=M,i=D;M=null,D=-1;var n=e.unstable_now(),r=!1;if(0>=z-n){if(!(-1!==i&&i<=n))return I||(I=!0,b(B)),M=t,void(D=i);r=!0}if(null!==t){O=!0;try{t(r)}finally{O=!1}}};var B=function t(e){if(null!==M){b(t);var i=e-z+L;i<L&&A<L?(8>i&&(i=8),L=i<A?A:i):A=i,z=e+L,R||(R=!0,N.postMessage(void 0))}else I=!1};x=function(t,e){M=t,D=e,O||0>e?N.postMessage(void 0):I||(I=!0,b(B))},w=function(){M=null,R=!1,D=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,i){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=r,a=o;r=t,o=e.unstable_now();try{return i()}finally{r=n,o=a,h()}},e.unstable_next=function(t){switch(r){case 1:case 2:case 3:var i=3;break;default:i=r}var n=r,a=o;r=i,o=e.unstable_now();try{return t()}finally{r=n,o=a,h()}},e.unstable_scheduleCallback=function(t,n){var a=-1!==o?o:e.unstable_now();if("object"===typeof n&&null!==n&&"number"===typeof n.timeout)n=a+n.timeout;else switch(r){case 1:n=a+-1;break;case 2:n=a+250;break;case 5:n=a+1073741823;break;case 4:n=a+1e4;break;default:n=a+5e3}if(t={callback:t,priorityLevel:r,expirationTime:n,next:null,previous:null},null===i)i=t.next=t.previous=t,u();else{a=null;var s=i;do{if(s.expirationTime>n){a=s;break}s=s.next}while(s!==i);null===a?a=i:a===i&&(i=t,u()),(n=a.previous).next=a.previous=t,t.next=a,t.previous=n}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)i=null;else{t===i&&(i=e);var n=t.previous;n.next=e,e.previous=n}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var i=r;return function(){var n=r,a=o;r=i,o=e.unstable_now();try{return t.apply(this,arguments)}finally{r=n,o=a,h()}}},e.unstable_getCurrentPriorityLevel=function(){return r},e.unstable_shouldYield=function(){return!n&&(null!==i&&i.expirationTime<a||k())},e.unstable_continueExecution=function(){null!==i&&u()},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return i}}).call(this,i(15))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i}]]);